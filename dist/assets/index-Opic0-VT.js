var c4=Object.defineProperty;var u4=(e,t,n)=>t in e?c4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Eg=(e,t,n)=>u4(e,typeof t!="symbol"?t+"":t,n);function d4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f4(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Og={exports:{}},jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fj;function h4(){if(fj)return jc;fj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return jc.Fragment=t,jc.jsx=n,jc.jsxs=n,jc}var hj;function m4(){return hj||(hj=1,Og.exports=h4()),Og.exports}var u=m4(),Ag={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mj;function p4(){if(mj)return Ie;mj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function N(R,L,W){this.props=R,this.context=L,this.refs=j,this.updater=W||w}N.prototype.isReactComponent={},N.prototype.setState=function(R,L){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,L,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=N.prototype;function O(R,L,W){this.props=R,this.context=L,this.refs=j,this.updater=W||w}var C=O.prototype=new A;C.constructor=O,S(C,N.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function P(){}var k={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function q(R,L,W){var se=W.ref;return{$$typeof:e,type:R,key:L,ref:se!==void 0?se:null,props:W}}function $(R,L){return q(R.type,L,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function H(R){var L={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return L[W]})}var re=/\/+/g;function B(R,L){return typeof R=="object"&&R!==null&&R.key!=null?H(""+R.key):L.toString(36)}function K(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(P,P):(R.status="pending",R.then(function(L){R.status==="pending"&&(R.status="fulfilled",R.value=L)},function(L){R.status==="pending"&&(R.status="rejected",R.reason=L)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function I(R,L,W,se,oe){var xe=typeof R;(xe==="undefined"||xe==="boolean")&&(R=null);var Se=!1;if(R===null)Se=!0;else switch(xe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(R.$$typeof){case e:case t:Se=!0;break;case p:return Se=R._init,I(Se(R._payload),L,W,se,oe)}}if(Se)return oe=oe(R),Se=se===""?"."+B(R,0):se,T(oe)?(W="",Se!=null&&(W=Se.replace(re,"$&/")+"/"),I(oe,L,W,"",function(ge){return ge})):oe!=null&&(F(oe)&&(oe=$(oe,W+(oe.key==null||R&&R.key===oe.key?"":(""+oe.key).replace(re,"$&/")+"/")+Se)),L.push(oe)),1;Se=0;var me=se===""?".":se+":";if(T(R))for(var V=0;V<R.length;V++)se=R[V],xe=me+B(se,V),Se+=I(se,L,W,xe,oe);else if(V=b(R),typeof V=="function")for(R=V.call(R),V=0;!(se=R.next()).done;)se=se.value,xe=me+B(se,V++),Se+=I(se,L,W,xe,oe);else if(xe==="object"){if(typeof R.then=="function")return I(K(R),L,W,se,oe);throw L=String(R),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Y(R,L,W){if(R==null)return R;var se=[],oe=0;return I(R,se,"","",function(xe){return L.call(W,xe,oe++)}),se}function X(R){if(R._status===-1){var L=R._result;L=L(),L.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=L)}if(R._status===1)return R._result.default;throw R._result}var de=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ne={map:Y,forEach:function(R,L,W){Y(R,function(){L.apply(this,arguments)},W)},count:function(R){var L=0;return Y(R,function(){L++}),L},toArray:function(R){return Y(R,function(L){return L})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ie.Activity=g,Ie.Children=ne,Ie.Component=N,Ie.Fragment=n,Ie.Profiler=i,Ie.PureComponent=O,Ie.StrictMode=r,Ie.Suspense=f,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Ie.cache=function(R){return function(){return R.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(R,L,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var se=S({},R.props),oe=R.key;if(L!=null)for(xe in L.key!==void 0&&(oe=""+L.key),L)!D.call(L,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&L.ref===void 0||(se[xe]=L[xe]);var xe=arguments.length-2;if(xe===1)se.children=W;else if(1<xe){for(var Se=Array(xe),me=0;me<xe;me++)Se[me]=arguments[me+2];se.children=Se}return q(R.type,oe,se)},Ie.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Ie.createElement=function(R,L,W){var se,oe={},xe=null;if(L!=null)for(se in L.key!==void 0&&(xe=""+L.key),L)D.call(L,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(oe[se]=L[se]);var Se=arguments.length-2;if(Se===1)oe.children=W;else if(1<Se){for(var me=Array(Se),V=0;V<Se;V++)me[V]=arguments[V+2];oe.children=me}if(R&&R.defaultProps)for(se in Se=R.defaultProps,Se)oe[se]===void 0&&(oe[se]=Se[se]);return q(R,xe,oe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(R){return{$$typeof:d,render:R}},Ie.isValidElement=F,Ie.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:X}},Ie.memo=function(R,L){return{$$typeof:h,type:R,compare:L===void 0?null:L}},Ie.startTransition=function(R){var L=k.T,W={};k.T=W;try{var se=R(),oe=k.S;oe!==null&&oe(W,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(P,de)}catch(xe){de(xe)}finally{L!==null&&W.types!==null&&(L.types=W.types),k.T=L}},Ie.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ie.use=function(R){return k.H.use(R)},Ie.useActionState=function(R,L,W){return k.H.useActionState(R,L,W)},Ie.useCallback=function(R,L){return k.H.useCallback(R,L)},Ie.useContext=function(R){return k.H.useContext(R)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(R,L){return k.H.useDeferredValue(R,L)},Ie.useEffect=function(R,L){return k.H.useEffect(R,L)},Ie.useEffectEvent=function(R){return k.H.useEffectEvent(R)},Ie.useId=function(){return k.H.useId()},Ie.useImperativeHandle=function(R,L,W){return k.H.useImperativeHandle(R,L,W)},Ie.useInsertionEffect=function(R,L){return k.H.useInsertionEffect(R,L)},Ie.useLayoutEffect=function(R,L){return k.H.useLayoutEffect(R,L)},Ie.useMemo=function(R,L){return k.H.useMemo(R,L)},Ie.useOptimistic=function(R,L){return k.H.useOptimistic(R,L)},Ie.useReducer=function(R,L,W){return k.H.useReducer(R,L,W)},Ie.useRef=function(R){return k.H.useRef(R)},Ie.useState=function(R){return k.H.useState(R)},Ie.useSyncExternalStore=function(R,L,W){return k.H.useSyncExternalStore(R,L,W)},Ie.useTransition=function(){return k.H.useTransition()},Ie.version="19.2.0",Ie}var pj;function vl(){return pj||(pj=1,Ag.exports=p4()),Ag.exports}var x=vl();const Hn=Vr(x),g4=d4({__proto__:null,default:Hn},[x]);var Cg={exports:{}},Nc={},Tg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function y4(){return gj||(gj=1,(function(e){function t(I,Y){var X=I.length;I.push(Y);e:for(;0<X;){var de=X-1>>>1,ne=I[de];if(0<i(ne,Y))I[de]=Y,I[X]=ne,X=de;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var Y=I[0],X=I.pop();if(X!==Y){I[0]=X;e:for(var de=0,ne=I.length,R=ne>>>1;de<R;){var L=2*(de+1)-1,W=I[L],se=L+1,oe=I[se];if(0>i(W,X))se<ne&&0>i(oe,W)?(I[de]=oe,I[se]=X,de=se):(I[de]=W,I[L]=X,de=L);else if(se<ne&&0>i(oe,X))I[de]=oe,I[se]=X,de=se;else break e}}return Y}function i(I,Y){var X=I.sortIndex-Y.sortIndex;return X!==0?X:I.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,y=3,b=!1,w=!1,S=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function C(I){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=I)r(h),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(h)}}function T(I){if(S=!1,C(I),!w)if(n(f)!==null)w=!0,P||(P=!0,H());else{var Y=n(h);Y!==null&&K(T,Y.startTime-I)}}var P=!1,k=-1,D=5,q=-1;function $(){return j?!0:!(e.unstable_now()-q<D)}function F(){if(j=!1,P){var I=e.unstable_now();q=I;var Y=!0;try{e:{w=!1,S&&(S=!1,A(k),k=-1),b=!0;var X=y;try{t:{for(C(I),g=n(f);g!==null&&!(g.expirationTime>I&&$());){var de=g.callback;if(typeof de=="function"){g.callback=null,y=g.priorityLevel;var ne=de(g.expirationTime<=I);if(I=e.unstable_now(),typeof ne=="function"){g.callback=ne,C(I),Y=!0;break t}g===n(f)&&r(f),C(I)}else r(f);g=n(f)}if(g!==null)Y=!0;else{var R=n(h);R!==null&&K(T,R.startTime-I),Y=!1}}break e}finally{g=null,y=X,b=!1}Y=void 0}}finally{Y?H():P=!1}}}var H;if(typeof O=="function")H=function(){O(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,B=re.port2;re.port1.onmessage=F,H=function(){B.postMessage(null)}}else H=function(){N(F,0)};function K(I,Y){k=N(function(){I(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(I){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var X=y;y=Y;try{return I()}finally{y=X}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=y;y=I;try{return Y()}finally{y=X}},e.unstable_scheduleCallback=function(I,Y,X){var de=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?de+X:de):X=de,I){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=X+ne,I={id:p++,callback:Y,priorityLevel:I,startTime:X,expirationTime:ne,sortIndex:-1},X>de?(I.sortIndex=X,t(h,I),n(f)===null&&I===n(h)&&(S?(A(k),k=-1):S=!0,K(T,X-de))):(I.sortIndex=ne,t(f,I),w||b||(w=!0,P||(P=!0,H()))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var Y=y;return function(){var X=y;y=Y;try{return I.apply(this,arguments)}finally{y=X}}}})(kg)),kg}var yj;function v4(){return yj||(yj=1,Tg.exports=y4()),Tg.exports}var Pg={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vj;function b4(){if(vj)return wn;vj=1;var e=vl();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},wn.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},wn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},wn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},wn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},wn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},wn.requestFormReset=function(f){r.d.r(f)},wn.unstable_batchedUpdates=function(f,h){return f(h)},wn.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},wn.useFormStatus=function(){return l.H.useHostTransitionStatus()},wn.version="19.2.0",wn}var bj;function TA(){if(bj)return Pg.exports;bj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=b4(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function x4(){if(xj)return Nc;xj=1;var e=v4(),t=vl(),n=TA();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,m=s;;){var v=c.return;if(v===null)break;var _=v.alternate;if(_===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===c)return f(v),a;if(_===m)return f(v),s;_=_.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=_;else{for(var E=!1,M=v.child;M;){if(M===c){E=!0,c=v,m=_;break}if(M===m){E=!0,m=v,c=_;break}M=M.sibling}if(!E){for(M=_.child;M;){if(M===c){E=!0,c=_,m=v;break}if(M===m){E=!0,m=_,c=v;break}M=M.sibling}if(!E)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),O=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var re=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===re?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case O:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case C:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return s=a.displayName||null,s!==null?s:B(a.type)||"Memo";case D:s=a._payload,a=a._init;try{return B(a(s))}catch{}}return null}var K=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},de=[],ne=-1;function R(a){return{current:a}}function L(a){0>ne||(a.current=de[ne],de[ne]=null,ne--)}function W(a,s){ne++,de[ne]=a.current,a.current=s}var se=R(null),oe=R(null),xe=R(null),Se=R(null);function me(a,s){switch(W(xe,s),W(oe,a),W(se,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?DS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=DS(s),a=IS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(se),W(se,a)}function V(){L(se),L(oe),L(xe)}function ge(a){a.memoizedState!==null&&W(Se,a);var s=se.current,c=IS(s,a.type);s!==c&&(W(oe,a),W(se,c))}function ye(a){oe.current===a&&(L(se),L(oe)),Se.current===a&&(L(Se),xc._currentValue=X)}var ce,Qe;function Ae(a){if(ce===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ce=s&&s[1]||"",Qe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+a+Qe}var wt=!1;function At(a,s){if(!a||wt)return"";wt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var Z=te}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(te){Z=te}a.call(ue.prototype)}}else{try{throw Error()}catch(te){Z=te}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),E=_[0],M=_[1];if(E&&M){var U=E.split(`
`),J=M.split(`
`);for(v=m=0;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(m===U.length||v===J.length)for(m=U.length-1,v=J.length-1;1<=m&&0<=v&&U[m]!==J[v];)v--;for(;1<=m&&0<=v;m--,v--)if(U[m]!==J[v]){if(m!==1||v!==1)do if(m--,v--,0>v||U[m]!==J[v]){var ie=`
`+U[m].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=m&&0<=v);break}}}finally{wt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ae(c):""}function Wt(a,s){switch(a.tag){case 26:case 27:case 5:return Ae(a.type);case 16:return Ae("Lazy");case 13:return a.child!==s&&s!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return At(a.type,!1);case 11:return At(a.type.render,!1);case 1:return At(a.type,!0);case 31:return Ae("Activity");default:return""}}function cr(a){try{var s="",c=null;do s+=Wt(a,c),c=a,a=a.return;while(a);return s}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var fa=Object.prototype.hasOwnProperty,Pr=e.unstable_scheduleCallback,Kn=e.unstable_cancelCallback,Mr=e.unstable_shouldYield,ha=e.unstable_requestPaint,kt=e.unstable_now,Rr=e.unstable_getCurrentPriorityLevel,ri=e.unstable_ImmediatePriority,ve=e.unstable_UserBlockingPriority,ae=e.unstable_NormalPriority,fe=e.unstable_LowPriority,he=e.unstable_IdlePriority,Me=e.log,ze=e.unstable_setDisableYieldValue,lt=null,De=null;function Je(a){if(typeof Me=="function"&&ze(a),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(lt,a)}catch{}}var ct=Math.clz32?Math.clz32:Ye,gt=Math.log,Oe=Math.LN2;function Ye(a){return a>>>=0,a===0?32:31-(gt(a)/Oe|0)|0}var Dt=256,an=262144,Dr=4194304;function zt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Qs(a,s,c){var m=a.pendingLanes;if(m===0)return 0;var v=0,_=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var M=m&134217727;return M!==0?(m=M&~_,m!==0?v=zt(m):(E&=M,E!==0?v=zt(E):c||(c=M&~a,c!==0&&(v=zt(c))))):(M=m&~_,M!==0?v=zt(M):E!==0?v=zt(E):c||(c=m&~a,c!==0&&(v=zt(c)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,c=s&-s,_>=c||_===32&&(c&4194048)!==0)?s:v}function Ml(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function XR(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g_(){var a=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),a}function mm(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Rl(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function QR(a,s,c,m,v,_){var E=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var M=a.entanglements,U=a.expirationTimes,J=a.hiddenUpdates;for(c=E&~c;0<c;){var ie=31-ct(c),ue=1<<ie;M[ie]=0,U[ie]=-1;var Z=J[ie];if(Z!==null)for(J[ie]=null,ie=0;ie<Z.length;ie++){var te=Z[ie];te!==null&&(te.lane&=-536870913)}c&=~ue}m!==0&&y_(a,m,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(E&~s))}function y_(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var m=31-ct(s);a.entangledLanes|=s,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function v_(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var m=31-ct(c),v=1<<m;v&s|a[m]&s&&(a[m]|=s),c&=~v}}function b_(a,s){var c=s&-s;return c=(c&42)!==0?1:pm(c),(c&(a.suspendedLanes|s))!==0?0:c}function pm(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function x_(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:ij(a.type))}function __(a,s){var c=Y.p;try{return Y.p=a,s()}finally{Y.p=c}}var ai=Math.random().toString(36).slice(2),mn="__reactFiber$"+ai,Pn="__reactProps$"+ai,Js="__reactContainer$"+ai,ym="__reactEvents$"+ai,JR="__reactListeners$"+ai,ZR="__reactHandles$"+ai,w_="__reactResources$"+ai,Dl="__reactMarker$"+ai;function vm(a){delete a[mn],delete a[Pn],delete a[ym],delete a[JR],delete a[ZR]}function Zs(a){var s=a[mn];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Js]||c[mn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=HS(a);a!==null;){if(c=a[mn])return c;a=HS(a)}return s}a=c,c=a.parentNode}return null}function eo(a){if(a=a[mn]||a[Js]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Il(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function to(a){var s=a[w_];return s||(s=a[w_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function sn(a){a[Dl]=!0}var S_=new Set,j_={};function Vi(a,s){no(a,s),no(a+"Capture",s)}function no(a,s){for(j_[a]=s,a=0;a<s.length;a++)S_.add(s[a])}var eD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),N_={},E_={};function tD(a){return fa.call(E_,a)?!0:fa.call(N_,a)?!1:eD.test(a)?E_[a]=!0:(N_[a]=!0,!1)}function Iu(a,s,c){if(tD(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Lu(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function ma(a,s,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+m)}}function ur(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function O_(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nD(a,s,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,_=m.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(E){c=""+E,_.call(this,E)}}),Object.defineProperty(a,s,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function bm(a){if(!a._valueTracker){var s=O_(a)?"checked":"value";a._valueTracker=nD(a,s,""+a[s])}}function A_(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),m="";return a&&(m=O_(a)?a.checked?"true":"false":a.value),a=m,a!==c?(s.setValue(a),!0):!1}function Uu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var rD=/[\n"\\]/g;function dr(a){return a.replace(rD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xm(a,s,c,m,v,_,E,M){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),s!=null?E==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+ur(s)):a.value!==""+ur(s)&&(a.value=""+ur(s)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),s!=null?_m(a,E,ur(s)):c!=null?_m(a,E,ur(c)):m!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+ur(M):a.removeAttribute("name")}function C_(a,s,c,m,v,_,E,M){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){bm(a);return}c=c!=null?""+ur(c):"",s=s!=null?""+ur(s):c,M||s===a.value||(a.value=s),a.defaultValue=s}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=M?a.checked:!!m,a.defaultChecked=!!m,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E),bm(a)}function _m(a,s,c){s==="number"&&Uu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ro(a,s,c,m){if(a=a.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=s.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&m&&(a[c].defaultSelected=!0)}else{for(c=""+ur(c),s=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function T_(a,s,c){if(s!=null&&(s=""+ur(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+ur(c):""}function k_(a,s,c,m){if(s==null){if(m!=null){if(c!=null)throw Error(r(92));if(K(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),s=c}c=ur(s),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),bm(a)}function ao(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var aD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function P_(a,s,c){var m=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":m?a.setProperty(s,c):typeof c!="number"||c===0||aD.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function M_(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var v in s)m=s[v],s.hasOwnProperty(v)&&c[v]!==m&&P_(a,v,m)}else for(var _ in s)s.hasOwnProperty(_)&&P_(a,_,s[_])}function wm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $u(a){return sD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function pa(){}var Sm=null;function jm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var io=null,so=null;function R_(a){var s=eo(a);if(s&&(a=s.stateNode)){var c=a[Pn]||null;e:switch(a=s.stateNode,s.type){case"input":if(xm(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+dr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var m=c[s];if(m!==a&&m.form===a.form){var v=m[Pn]||null;if(!v)throw Error(r(90));xm(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)m=c[s],m.form===a.form&&A_(m)}break e;case"textarea":T_(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&ro(a,!!c.multiple,s,!1)}}}var Nm=!1;function D_(a,s,c){if(Nm)return a(s,c);Nm=!0;try{var m=a(s);return m}finally{if(Nm=!1,(io!==null||so!==null)&&(Ed(),io&&(s=io,a=so,so=io=null,R_(s),a)))for(s=0;s<a.length;s++)R_(a[s])}}function Ll(a,s){var c=a.stateNode;if(c===null)return null;var m=c[Pn]||null;if(m===null)return null;c=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=!1;if(ga)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Em=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Em=!1}var ii=null,Om=null,zu=null;function I_(){if(zu)return zu;var a,s=Om,c=s.length,m,v="value"in ii?ii.value:ii.textContent,_=v.length;for(a=0;a<c&&s[a]===v[a];a++);var E=c-a;for(m=1;m<=E&&s[c-m]===v[_-m];m++);return zu=v.slice(a,1<m?1-m:void 0)}function Bu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function qu(){return!0}function L_(){return!1}function Mn(a){function s(c,m,v,_,E){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(c=a[M],this[M]=c?c(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?qu:L_,this.isPropagationStopped=L_,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=Mn(Wi),$l=g({},Wi,{view:0,detail:0}),oD=Mn($l),Am,Cm,zl,Fu=g({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==zl&&(zl&&a.type==="mousemove"?(Am=a.screenX-zl.screenX,Cm=a.screenY-zl.screenY):Cm=Am=0,zl=a),Am)},movementY:function(a){return"movementY"in a?a.movementY:Cm}}),U_=Mn(Fu),lD=g({},Fu,{dataTransfer:0}),cD=Mn(lD),uD=g({},$l,{relatedTarget:0}),Tm=Mn(uD),dD=g({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),fD=Mn(dD),hD=g({},Wi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mD=Mn(hD),pD=g({},Wi,{data:0}),$_=Mn(pD),gD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bD(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=vD[a])?!!s[a]:!1}function km(){return bD}var xD=g({},$l,{key:function(a){if(a.key){var s=gD[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Bu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?yD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(a){return a.type==="keypress"?Bu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Bu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_D=Mn(xD),wD=g({},Fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z_=Mn(wD),SD=g({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),jD=Mn(SD),ND=g({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ED=Mn(ND),OD=g({},Fu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),AD=Mn(OD),CD=g({},Wi,{newState:0,oldState:0}),TD=Mn(CD),kD=[9,13,27,32],Pm=ga&&"CompositionEvent"in window,Bl=null;ga&&"documentMode"in document&&(Bl=document.documentMode);var PD=ga&&"TextEvent"in window&&!Bl,B_=ga&&(!Pm||Bl&&8<Bl&&11>=Bl),q_=" ",H_=!1;function F_(a,s){switch(a){case"keyup":return kD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var oo=!1;function MD(a,s){switch(a){case"compositionend":return K_(s);case"keypress":return s.which!==32?null:(H_=!0,q_);case"textInput":return a=s.data,a===q_&&H_?null:a;default:return null}}function RD(a,s){if(oo)return a==="compositionend"||!Pm&&F_(a,s)?(a=I_(),zu=Om=ii=null,oo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return B_&&s.locale!=="ko"?null:s.data;default:return null}}var DD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!DD[a.type]:s==="textarea"}function Y_(a,s,c,m){io?so?so.push(m):so=[m]:io=m,s=Md(s,"onChange"),0<s.length&&(c=new Hu("onChange","change",null,c,m),a.push({event:c,listeners:s}))}var ql=null,Hl=null;function ID(a){CS(a,0)}function Ku(a){var s=Il(a);if(A_(s))return a}function V_(a,s){if(a==="change")return s}var W_=!1;if(ga){var Mm;if(ga){var Rm="oninput"in document;if(!Rm){var X_=document.createElement("div");X_.setAttribute("oninput","return;"),Rm=typeof X_.oninput=="function"}Mm=Rm}else Mm=!1;W_=Mm&&(!document.documentMode||9<document.documentMode)}function Q_(){ql&&(ql.detachEvent("onpropertychange",J_),Hl=ql=null)}function J_(a){if(a.propertyName==="value"&&Ku(Hl)){var s=[];Y_(s,Hl,a,jm(a)),D_(ID,s)}}function LD(a,s,c){a==="focusin"?(Q_(),ql=s,Hl=c,ql.attachEvent("onpropertychange",J_)):a==="focusout"&&Q_()}function UD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ku(Hl)}function $D(a,s){if(a==="click")return Ku(s)}function zD(a,s){if(a==="input"||a==="change")return Ku(s)}function BD(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Gn=typeof Object.is=="function"?Object.is:BD;function Fl(a,s){if(Gn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),m=Object.keys(s);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!fa.call(s,v)||!Gn(a[v],s[v]))return!1}return!0}function Z_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ew(a,s){var c=Z_(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=s&&m>=s)return{node:c,offset:s-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Z_(c)}}function tw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?tw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function nw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Uu(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Uu(a.document)}return s}function Dm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var qD=ga&&"documentMode"in document&&11>=document.documentMode,lo=null,Im=null,Kl=null,Lm=!1;function rw(a,s,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lm||lo==null||lo!==Uu(m)||(m=lo,"selectionStart"in m&&Dm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Kl&&Fl(Kl,m)||(Kl=m,m=Md(Im,"onSelect"),0<m.length&&(s=new Hu("onSelect","select",null,s,c),a.push({event:s,listeners:m}),s.target=lo)))}function Xi(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var co={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},Um={},aw={};ga&&(aw=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Qi(a){if(Um[a])return Um[a];if(!co[a])return a;var s=co[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in aw)return Um[a]=s[c];return a}var iw=Qi("animationend"),sw=Qi("animationiteration"),ow=Qi("animationstart"),HD=Qi("transitionrun"),FD=Qi("transitionstart"),KD=Qi("transitioncancel"),lw=Qi("transitionend"),cw=new Map,$m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$m.push("scrollEnd");function Ir(a,s){cw.set(a,s),Vi(s,[a])}var Gu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},fr=[],uo=0,zm=0;function Yu(){for(var a=uo,s=zm=uo=0;s<a;){var c=fr[s];fr[s++]=null;var m=fr[s];fr[s++]=null;var v=fr[s];fr[s++]=null;var _=fr[s];if(fr[s++]=null,m!==null&&v!==null){var E=m.pending;E===null?v.next=v:(v.next=E.next,E.next=v),m.pending=v}_!==0&&uw(c,v,_)}}function Vu(a,s,c,m){fr[uo++]=a,fr[uo++]=s,fr[uo++]=c,fr[uo++]=m,zm|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Bm(a,s,c,m){return Vu(a,s,c,m),Wu(a)}function Ji(a,s){return Vu(a,null,null,s),Wu(a)}function uw(a,s,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var v=!1,_=a.return;_!==null;)_.childLanes|=c,m=_.alternate,m!==null&&(m.childLanes|=c),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&s!==null&&(v=31-ct(c),a=_.hiddenUpdates,m=a[v],m===null?a[v]=[s]:m.push(s),s.lane=c|536870912),_):null}function Wu(a){if(50<hc)throw hc=0,Xp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var fo={};function GD(a,s,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(a,s,c,m){return new GD(a,s,c,m)}function qm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ya(a,s){var c=a.alternate;return c===null?(c=Yn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function dw(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Xu(a,s,c,m,v,_){var E=0;if(m=a,typeof a=="function")qm(a)&&(E=1);else if(typeof a=="string")E=Q3(a,c,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=Yn(31,c,s,v),a.elementType=q,a.lanes=_,a;case S:return Zi(c.children,v,_,s);case j:E=8,v|=24;break;case N:return a=Yn(12,c,s,v|2),a.elementType=N,a.lanes=_,a;case T:return a=Yn(13,c,s,v),a.elementType=T,a.lanes=_,a;case P:return a=Yn(19,c,s,v),a.elementType=P,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:E=10;break e;case A:E=9;break e;case C:E=11;break e;case k:E=14;break e;case D:E=16,m=null;break e}E=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return s=Yn(E,c,s,v),s.elementType=a,s.type=m,s.lanes=_,s}function Zi(a,s,c,m){return a=Yn(7,a,m,s),a.lanes=c,a}function Hm(a,s,c){return a=Yn(6,a,null,s),a.lanes=c,a}function fw(a){var s=Yn(18,null,null,0);return s.stateNode=a,s}function Fm(a,s,c){return s=Yn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var hw=new WeakMap;function hr(a,s){if(typeof a=="object"&&a!==null){var c=hw.get(a);return c!==void 0?c:(s={value:a,source:s,stack:cr(s)},hw.set(a,s),s)}return{value:a,source:s,stack:cr(s)}}var ho=[],mo=0,Qu=null,Gl=0,mr=[],pr=0,si=null,Qr=1,Jr="";function va(a,s){ho[mo++]=Gl,ho[mo++]=Qu,Qu=a,Gl=s}function mw(a,s,c){mr[pr++]=Qr,mr[pr++]=Jr,mr[pr++]=si,si=a;var m=Qr;a=Jr;var v=32-ct(m)-1;m&=~(1<<v),c+=1;var _=32-ct(s)+v;if(30<_){var E=v-v%5;_=(m&(1<<E)-1).toString(32),m>>=E,v-=E,Qr=1<<32-ct(s)+v|c<<v|m,Jr=_+a}else Qr=1<<_|c<<v|m,Jr=a}function Km(a){a.return!==null&&(va(a,1),mw(a,1,0))}function Gm(a){for(;a===Qu;)Qu=ho[--mo],ho[mo]=null,Gl=ho[--mo],ho[mo]=null;for(;a===si;)si=mr[--pr],mr[pr]=null,Jr=mr[--pr],mr[pr]=null,Qr=mr[--pr],mr[pr]=null}function pw(a,s){mr[pr++]=Qr,mr[pr++]=Jr,mr[pr++]=si,Qr=s.id,Jr=s.overflow,si=a}var pn=null,bt=null,Ve=!1,oi=null,gr=!1,Ym=Error(r(519));function li(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(hr(s,a)),Ym}function gw(a){var s=a.stateNode,c=a.type,m=a.memoizedProps;switch(s[mn]=a,s[Pn]=m,c){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(c=0;c<pc.length;c++)qe(pc[c],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),C_(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),k_(s,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||m.suppressHydrationWarning===!0||MS(s.textContent,c)?(m.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),m.onScroll!=null&&qe("scroll",s),m.onScrollEnd!=null&&qe("scrollend",s),m.onClick!=null&&(s.onclick=pa),s=!0):s=!1,s||li(a,!0)}function yw(a){for(pn=a.return;pn;)switch(pn.tag){case 5:case 31:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:pn=pn.return}}function po(a){if(a!==pn)return!1;if(!Ve)return yw(a),Ve=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||dg(a.type,a.memoizedProps)),c=!c),c&&bt&&li(a),yw(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));bt=qS(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));bt=qS(a)}else s===27?(s=bt,wi(a.type)?(a=gg,gg=null,bt=a):bt=s):bt=pn?vr(a.stateNode.nextSibling):null;return!0}function es(){bt=pn=null,Ve=!1}function Vm(){var a=oi;return a!==null&&(Ln===null?Ln=a:Ln.push.apply(Ln,a),oi=null),a}function Yl(a){oi===null?oi=[a]:oi.push(a)}var Wm=R(null),ts=null,ba=null;function ci(a,s,c){W(Wm,s._currentValue),s._currentValue=c}function xa(a){a._currentValue=Wm.current,L(Wm)}function Xm(a,s,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),a===c)break;a=a.return}}function Qm(a,s,c,m){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var E=v.child;_=_.firstContext;e:for(;_!==null;){var M=_;_=v;for(var U=0;U<s.length;U++)if(M.context===s[U]){_.lanes|=c,M=_.alternate,M!==null&&(M.lanes|=c),Xm(_.return,c,a),m||(E=null);break e}_=M.next}}else if(v.tag===18){if(E=v.return,E===null)throw Error(r(341));E.lanes|=c,_=E.alternate,_!==null&&(_.lanes|=c),Xm(E,c,a),E=null}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===a){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}}function go(a,s,c,m){a=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var E=v.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var M=v.type;Gn(v.pendingProps.value,E.value)||(a!==null?a.push(M):a=[M])}}else if(v===Se.current){if(E=v.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(xc):a=[xc])}v=v.return}a!==null&&Qm(s,a,c,m),s.flags|=262144}function Ju(a){for(a=a.firstContext;a!==null;){if(!Gn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ns(a){ts=a,ba=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function gn(a){return vw(ts,a)}function Zu(a,s){return ts===null&&ns(a),vw(a,s)}function vw(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ba===null){if(a===null)throw Error(r(308));ba=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ba=ba.next=s;return c}var YD=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},VD=e.unstable_scheduleCallback,WD=e.unstable_NormalPriority,Bt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new YD,data:new Map,refCount:0}}function Vl(a){a.refCount--,a.refCount===0&&VD(WD,function(){a.controller.abort()})}var Wl=null,Zm=0,yo=0,vo=null;function XD(a,s){if(Wl===null){var c=Wl=[];Zm=0,yo=ng(),vo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Zm++,s.then(bw,bw),s}function bw(){if(--Zm===0&&Wl!==null){vo!==null&&(vo.status="fulfilled");var a=Wl;Wl=null,yo=0,vo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function QD(a,s){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){m.status="fulfilled",m.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var xw=I.S;I.S=function(a,s){rS=kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&XD(a,s),xw!==null&&xw(a,s)};var rs=R(null);function ep(){var a=rs.current;return a!==null?a:mt.pooledCache}function ed(a,s){s===null?W(rs,rs.current):W(rs,s.pool)}function _w(){var a=ep();return a===null?null:{parent:Bt._currentValue,pool:a}}var bo=Error(r(460)),tp=Error(r(474)),td=Error(r(542)),nd={then:function(){}};function ww(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Sw(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(pa,pa),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Nw(a),a;default:if(typeof s.status=="string")s.then(pa,pa);else{if(a=mt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(m){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=m}},function(m){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Nw(a),a}throw is=s,bo}}function as(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(is=c,bo):c}}var is=null;function jw(){if(is===null)throw Error(r(459));var a=is;return is=null,a}function Nw(a){if(a===bo||a===td)throw Error(r(483))}var xo=null,Xl=0;function rd(a){var s=Xl;return Xl+=1,xo===null&&(xo=[]),Sw(xo,a,s)}function Ql(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function ad(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Ew(a){function s(G,z){if(a){var Q=G.deletions;Q===null?(G.deletions=[z],G.flags|=16):Q.push(z)}}function c(G,z){if(!a)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function m(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function v(G,z){return G=ya(G,z),G.index=0,G.sibling=null,G}function _(G,z,Q){return G.index=Q,a?(Q=G.alternate,Q!==null?(Q=Q.index,Q<z?(G.flags|=67108866,z):Q):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function E(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function M(G,z,Q,le){return z===null||z.tag!==6?(z=Hm(Q,G.mode,le),z.return=G,z):(z=v(z,Q),z.return=G,z)}function U(G,z,Q,le){var Te=Q.type;return Te===S?ie(G,z,Q.props.children,le,Q.key):z!==null&&(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===D&&as(Te)===z.type)?(z=v(z,Q.props),Ql(z,Q),z.return=G,z):(z=Xu(Q.type,Q.key,Q.props,null,G.mode,le),Ql(z,Q),z.return=G,z)}function J(G,z,Q,le){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Fm(Q,G.mode,le),z.return=G,z):(z=v(z,Q.children||[]),z.return=G,z)}function ie(G,z,Q,le,Te){return z===null||z.tag!==7?(z=Zi(Q,G.mode,le,Te),z.return=G,z):(z=v(z,Q),z.return=G,z)}function ue(G,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Hm(""+z,G.mode,Q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return Q=Xu(z.type,z.key,z.props,null,G.mode,Q),Ql(Q,z),Q.return=G,Q;case w:return z=Fm(z,G.mode,Q),z.return=G,z;case D:return z=as(z),ue(G,z,Q)}if(K(z)||H(z))return z=Zi(z,G.mode,Q,null),z.return=G,z;if(typeof z.then=="function")return ue(G,rd(z),Q);if(z.$$typeof===O)return ue(G,Zu(G,z),Q);ad(G,z)}return null}function Z(G,z,Q,le){var Te=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Te!==null?null:M(G,z,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Te?U(G,z,Q,le):null;case w:return Q.key===Te?J(G,z,Q,le):null;case D:return Q=as(Q),Z(G,z,Q,le)}if(K(Q)||H(Q))return Te!==null?null:ie(G,z,Q,le,null);if(typeof Q.then=="function")return Z(G,z,rd(Q),le);if(Q.$$typeof===O)return Z(G,z,Zu(G,Q),le);ad(G,Q)}return null}function te(G,z,Q,le,Te){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(Q)||null,M(z,G,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return G=G.get(le.key===null?Q:le.key)||null,U(z,G,le,Te);case w:return G=G.get(le.key===null?Q:le.key)||null,J(z,G,le,Te);case D:return le=as(le),te(G,z,Q,le,Te)}if(K(le)||H(le))return G=G.get(Q)||null,ie(z,G,le,Te,null);if(typeof le.then=="function")return te(G,z,Q,rd(le),Te);if(le.$$typeof===O)return te(G,z,Q,Zu(z,le),Te);ad(z,le)}return null}function we(G,z,Q,le){for(var Te=null,Ze=null,Ne=z,$e=z=0,Ge=null;Ne!==null&&$e<Q.length;$e++){Ne.index>$e?(Ge=Ne,Ne=null):Ge=Ne.sibling;var et=Z(G,Ne,Q[$e],le);if(et===null){Ne===null&&(Ne=Ge);break}a&&Ne&&et.alternate===null&&s(G,Ne),z=_(et,z,$e),Ze===null?Te=et:Ze.sibling=et,Ze=et,Ne=Ge}if($e===Q.length)return c(G,Ne),Ve&&va(G,$e),Te;if(Ne===null){for(;$e<Q.length;$e++)Ne=ue(G,Q[$e],le),Ne!==null&&(z=_(Ne,z,$e),Ze===null?Te=Ne:Ze.sibling=Ne,Ze=Ne);return Ve&&va(G,$e),Te}for(Ne=m(Ne);$e<Q.length;$e++)Ge=te(Ne,G,$e,Q[$e],le),Ge!==null&&(a&&Ge.alternate!==null&&Ne.delete(Ge.key===null?$e:Ge.key),z=_(Ge,z,$e),Ze===null?Te=Ge:Ze.sibling=Ge,Ze=Ge);return a&&Ne.forEach(function(Oi){return s(G,Oi)}),Ve&&va(G,$e),Te}function Re(G,z,Q,le){if(Q==null)throw Error(r(151));for(var Te=null,Ze=null,Ne=z,$e=z=0,Ge=null,et=Q.next();Ne!==null&&!et.done;$e++,et=Q.next()){Ne.index>$e?(Ge=Ne,Ne=null):Ge=Ne.sibling;var Oi=Z(G,Ne,et.value,le);if(Oi===null){Ne===null&&(Ne=Ge);break}a&&Ne&&Oi.alternate===null&&s(G,Ne),z=_(Oi,z,$e),Ze===null?Te=Oi:Ze.sibling=Oi,Ze=Oi,Ne=Ge}if(et.done)return c(G,Ne),Ve&&va(G,$e),Te;if(Ne===null){for(;!et.done;$e++,et=Q.next())et=ue(G,et.value,le),et!==null&&(z=_(et,z,$e),Ze===null?Te=et:Ze.sibling=et,Ze=et);return Ve&&va(G,$e),Te}for(Ne=m(Ne);!et.done;$e++,et=Q.next())et=te(Ne,G,$e,et.value,le),et!==null&&(a&&et.alternate!==null&&Ne.delete(et.key===null?$e:et.key),z=_(et,z,$e),Ze===null?Te=et:Ze.sibling=et,Ze=et);return a&&Ne.forEach(function(l4){return s(G,l4)}),Ve&&va(G,$e),Te}function ft(G,z,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Te=Q.key;z!==null;){if(z.key===Te){if(Te=Q.type,Te===S){if(z.tag===7){c(G,z.sibling),le=v(z,Q.props.children),le.return=G,G=le;break e}}else if(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===D&&as(Te)===z.type){c(G,z.sibling),le=v(z,Q.props),Ql(le,Q),le.return=G,G=le;break e}c(G,z);break}else s(G,z);z=z.sibling}Q.type===S?(le=Zi(Q.props.children,G.mode,le,Q.key),le.return=G,G=le):(le=Xu(Q.type,Q.key,Q.props,null,G.mode,le),Ql(le,Q),le.return=G,G=le)}return E(G);case w:e:{for(Te=Q.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){c(G,z.sibling),le=v(z,Q.children||[]),le.return=G,G=le;break e}else{c(G,z);break}else s(G,z);z=z.sibling}le=Fm(Q,G.mode,le),le.return=G,G=le}return E(G);case D:return Q=as(Q),ft(G,z,Q,le)}if(K(Q))return we(G,z,Q,le);if(H(Q)){if(Te=H(Q),typeof Te!="function")throw Error(r(150));return Q=Te.call(Q),Re(G,z,Q,le)}if(typeof Q.then=="function")return ft(G,z,rd(Q),le);if(Q.$$typeof===O)return ft(G,z,Zu(G,Q),le);ad(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(c(G,z.sibling),le=v(z,Q),le.return=G,G=le):(c(G,z),le=Hm(Q,G.mode,le),le.return=G,G=le),E(G)):c(G,z)}return function(G,z,Q,le){try{Xl=0;var Te=ft(G,z,Q,le);return xo=null,Te}catch(Ne){if(Ne===bo||Ne===td)throw Ne;var Ze=Yn(29,Ne,null,G.mode);return Ze.lanes=le,Ze.return=G,Ze}finally{}}}var ss=Ew(!0),Ow=Ew(!1),ui=!1;function np(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function di(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function fi(a,s,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(rt&2)!==0){var v=m.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),m.pending=s,s=Wu(a),uw(a,null,c),s}return Vu(a,m,s,c),Wu(a)}function Jl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var m=s.lanes;m&=a.pendingLanes,c|=m,s.lanes=c,v_(a,c)}}function ap(a,s){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?v=_=E:_=_.next=E,c=c.next}while(c!==null);_===null?v=_=s:_=_.next=s}else v=_=s;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var ip=!1;function Zl(){if(ip){var a=vo;if(a!==null)throw a}}function ec(a,s,c,m){ip=!1;var v=a.updateQueue;ui=!1;var _=v.firstBaseUpdate,E=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var U=M,J=U.next;U.next=null,E===null?_=J:E.next=J,E=U;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,M=ie.lastBaseUpdate,M!==E&&(M===null?ie.firstBaseUpdate=J:M.next=J,ie.lastBaseUpdate=U))}if(_!==null){var ue=v.baseState;E=0,ie=J=U=null,M=_;do{var Z=M.lane&-536870913,te=Z!==M.lane;if(te?(Ke&Z)===Z:(m&Z)===Z){Z!==0&&Z===yo&&(ip=!0),ie!==null&&(ie=ie.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var we=a,Re=M;Z=s;var ft=c;switch(Re.tag){case 1:if(we=Re.payload,typeof we=="function"){ue=we.call(ft,ue,Z);break e}ue=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Re.payload,Z=typeof we=="function"?we.call(ft,ue,Z):we,Z==null)break e;ue=g({},ue,Z);break e;case 2:ui=!0}}Z=M.callback,Z!==null&&(a.flags|=64,te&&(a.flags|=8192),te=v.callbacks,te===null?v.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ie===null?(J=ie=te,U=ue):ie=ie.next=te,E|=Z;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;te=M,M=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);ie===null&&(U=ue),v.baseState=U,v.firstBaseUpdate=J,v.lastBaseUpdate=ie,_===null&&(v.shared.lanes=0),yi|=E,a.lanes=E,a.memoizedState=ue}}function Aw(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Cw(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Aw(c[a],s)}var _o=R(null),id=R(0);function Tw(a,s){a=Ca,W(id,a),W(_o,s),Ca=a|s.baseLanes}function sp(){W(id,Ca),W(_o,_o.current)}function op(){Ca=id.current,L(_o),L(id)}var Vn=R(null),yr=null;function hi(a){var s=a.alternate;W(It,It.current&1),W(Vn,a),yr===null&&(s===null||_o.current!==null||s.memoizedState!==null)&&(yr=a)}function lp(a){W(It,It.current),W(Vn,a),yr===null&&(yr=a)}function kw(a){a.tag===22?(W(It,It.current),W(Vn,a),yr===null&&(yr=a)):mi()}function mi(){W(It,It.current),W(Vn,Vn.current)}function Wn(a){L(Vn),yr===a&&(yr=null),L(It)}var It=R(0);function sd(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||mg(c)||pg(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _a=0,Ue=null,ut=null,qt=null,od=!1,wo=!1,os=!1,ld=0,tc=0,So=null,JD=0;function Pt(){throw Error(r(321))}function cp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Gn(a[c],s[c]))return!1;return!0}function up(a,s,c,m,v,_){return _a=_,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=a===null||a.memoizedState===null?m1:Np,os=!1,_=c(m,v),os=!1,wo&&(_=Mw(s,c,m,v)),Pw(a),_}function Pw(a){I.H=ac;var s=ut!==null&&ut.next!==null;if(_a=0,qt=ut=Ue=null,od=!1,tc=0,So=null,s)throw Error(r(300));a===null||Ht||(a=a.dependencies,a!==null&&Ju(a)&&(Ht=!0))}function Mw(a,s,c,m){Ue=a;var v=0;do{if(wo&&(So=null),tc=0,wo=!1,25<=v)throw Error(r(301));if(v+=1,qt=ut=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}I.H=p1,_=s(c,m)}while(wo);return _}function ZD(){var a=I.H,s=a.useState()[0];return s=typeof s.then=="function"?nc(s):s,a=a.useState()[0],(ut!==null?ut.memoizedState:null)!==a&&(Ue.flags|=1024),s}function dp(){var a=ld!==0;return ld=0,a}function fp(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function hp(a){if(od){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}od=!1}_a=0,qt=ut=Ue=null,wo=!1,tc=ld=0,So=null}function An(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ue.memoizedState=qt=a:qt=qt.next=a,qt}function Lt(){if(ut===null){var a=Ue.alternate;a=a!==null?a.memoizedState:null}else a=ut.next;var s=qt===null?Ue.memoizedState:qt.next;if(s!==null)qt=s,ut=a;else{if(a===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=a,a={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},qt===null?Ue.memoizedState=qt=a:qt=qt.next=a}return qt}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(a){var s=tc;return tc+=1,So===null&&(So=[]),a=Sw(So,a,s),s=Ue,(qt===null?s.memoizedState:qt.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?m1:Np),a}function ud(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nc(a);if(a.$$typeof===O)return gn(a)}throw Error(r(438,String(a)))}function mp(a){var s=null,c=Ue.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var m=Ue.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=cd(),Ue.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),m=0;m<a;m++)c[m]=$;return s.index++,c}function wa(a,s){return typeof s=="function"?s(a):s}function dd(a){var s=Lt();return pp(s,ut,a)}function pp(a,s,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=a.baseQueue,_=m.pending;if(_!==null){if(v!==null){var E=v.next;v.next=_.next,_.next=E}s.baseQueue=v=_,m.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{s=v.next;var M=E=null,U=null,J=s,ie=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(Ke&ue)===ue:(_a&ue)===ue){var Z=J.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===yo&&(ie=!0);else if((_a&Z)===Z){J=J.next,Z===yo&&(ie=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(M=U=ue,E=_):U=U.next=ue,Ue.lanes|=Z,yi|=Z;ue=J.action,os&&c(_,ue),_=J.hasEagerState?J.eagerState:c(_,ue)}else Z={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(M=U=Z,E=_):U=U.next=Z,Ue.lanes|=ue,yi|=ue;J=J.next}while(J!==null&&J!==s);if(U===null?E=_:U.next=M,!Gn(_,a.memoizedState)&&(Ht=!0,ie&&(c=vo,c!==null)))throw c;a.memoizedState=_,a.baseState=E,a.baseQueue=U,m.lastRenderedState=_}return v===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function gp(a){var s=Lt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,v=c.pending,_=s.memoizedState;if(v!==null){c.pending=null;var E=v=v.next;do _=a(_,E.action),E=E.next;while(E!==v);Gn(_,s.memoizedState)||(Ht=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,m]}function Rw(a,s,c){var m=Ue,v=Lt(),_=Ve;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=s();var E=!Gn((ut||v).memoizedState,c);if(E&&(v.memoizedState=c,Ht=!0),v=v.queue,bp(Lw.bind(null,m,v,a),[a]),v.getSnapshot!==s||E||qt!==null&&qt.memoizedState.tag&1){if(m.flags|=2048,jo(9,{destroy:void 0},Iw.bind(null,m,v,c,s),null),mt===null)throw Error(r(349));_||(_a&127)!==0||Dw(m,s,c)}return c}function Dw(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Ue.updateQueue,s===null?(s=cd(),Ue.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function Iw(a,s,c,m){s.value=c,s.getSnapshot=m,Uw(s)&&$w(a)}function Lw(a,s,c){return c(function(){Uw(s)&&$w(a)})}function Uw(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Gn(a,c)}catch{return!0}}function $w(a){var s=Ji(a,2);s!==null&&Un(s,a,2)}function yp(a){var s=An();if(typeof a=="function"){var c=a;if(a=c(),os){Je(!0);try{c()}finally{Je(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:a},s}function zw(a,s,c,m){return a.baseState=c,pp(a,ut,typeof m=="function"?m:wa)}function e3(a,s,c,m,v){if(md(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};I.T!==null?c(!0):_.isTransition=!1,m(_),c=s.pending,c===null?(_.next=s.pending=_,Bw(s,_)):(_.next=c.next,s.pending=c.next=_)}}function Bw(a,s){var c=s.action,m=s.payload,v=a.state;if(s.isTransition){var _=I.T,E={};I.T=E;try{var M=c(v,m),U=I.S;U!==null&&U(E,M),qw(a,s,M)}catch(J){vp(a,s,J)}finally{_!==null&&E.types!==null&&(_.types=E.types),I.T=_}}else try{_=c(v,m),qw(a,s,_)}catch(J){vp(a,s,J)}}function qw(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){Hw(a,s,m)},function(m){return vp(a,s,m)}):Hw(a,s,c)}function Hw(a,s,c){s.status="fulfilled",s.value=c,Fw(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,Bw(a,c)))}function vp(a,s,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=c,Fw(s),s=s.next;while(s!==m)}a.action=null}function Fw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Kw(a,s){return s}function Gw(a,s){if(Ve){var c=mt.formState;if(c!==null){e:{var m=Ue;if(Ve){if(bt){t:{for(var v=bt,_=gr;v.nodeType!==8;){if(!_){v=null;break t}if(v=vr(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){bt=vr(v.nextSibling),m=v.data==="F!";break e}}li(m)}m=!1}m&&(s=c[0])}}return c=An(),c.memoizedState=c.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kw,lastRenderedState:s},c.queue=m,c=d1.bind(null,Ue,m),m.dispatch=c,m=yp(!1),_=jp.bind(null,Ue,!1,m.queue),m=An(),v={state:s,dispatch:null,action:a,pending:null},m.queue=v,c=e3.bind(null,Ue,v,_,c),v.dispatch=c,m.memoizedState=a,[s,c,!1]}function Yw(a){var s=Lt();return Vw(s,ut,a)}function Vw(a,s,c){if(s=pp(a,s,Kw)[0],a=dd(wa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=nc(s)}catch(E){throw E===bo?td:E}else m=s;s=Lt();var v=s.queue,_=v.dispatch;return c!==s.memoizedState&&(Ue.flags|=2048,jo(9,{destroy:void 0},t3.bind(null,v,c),null)),[m,_,a]}function t3(a,s){a.action=s}function Ww(a){var s=Lt(),c=ut;if(c!==null)return Vw(s,c,a);Lt(),s=s.memoizedState,c=Lt();var m=c.queue.dispatch;return c.memoizedState=a,[s,m,!1]}function jo(a,s,c,m){return a={tag:a,create:c,deps:m,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=cd(),Ue.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,s.lastEffect=a),a}function Xw(){return Lt().memoizedState}function fd(a,s,c,m){var v=An();Ue.flags|=a,v.memoizedState=jo(1|s,{destroy:void 0},c,m===void 0?null:m)}function hd(a,s,c,m){var v=Lt();m=m===void 0?null:m;var _=v.memoizedState.inst;ut!==null&&m!==null&&cp(m,ut.memoizedState.deps)?v.memoizedState=jo(s,_,c,m):(Ue.flags|=a,v.memoizedState=jo(1|s,_,c,m))}function Qw(a,s){fd(8390656,8,a,s)}function bp(a,s){hd(2048,8,a,s)}function n3(a){Ue.flags|=4;var s=Ue.updateQueue;if(s===null)s=cd(),Ue.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function Jw(a){var s=Lt().memoizedState;return n3({ref:s,nextImpl:a}),function(){if((rt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Zw(a,s){return hd(4,2,a,s)}function e1(a,s){return hd(4,4,a,s)}function t1(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function n1(a,s,c){c=c!=null?c.concat([a]):null,hd(4,4,t1.bind(null,s,a),c)}function xp(){}function r1(a,s){var c=Lt();s=s===void 0?null:s;var m=c.memoizedState;return s!==null&&cp(s,m[1])?m[0]:(c.memoizedState=[a,s],a)}function a1(a,s){var c=Lt();s=s===void 0?null:s;var m=c.memoizedState;if(s!==null&&cp(s,m[1]))return m[0];if(m=a(),os){Je(!0);try{a()}finally{Je(!1)}}return c.memoizedState=[m,s],m}function _p(a,s,c){return c===void 0||(_a&1073741824)!==0&&(Ke&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=iS(),Ue.lanes|=a,yi|=a,c)}function i1(a,s,c,m){return Gn(c,s)?c:_o.current!==null?(a=_p(a,c,m),Gn(a,s)||(Ht=!0),a):(_a&42)===0||(_a&1073741824)!==0&&(Ke&261930)===0?(Ht=!0,a.memoizedState=c):(a=iS(),Ue.lanes|=a,yi|=a,s)}function s1(a,s,c,m,v){var _=Y.p;Y.p=_!==0&&8>_?_:8;var E=I.T,M={};I.T=M,jp(a,!1,s,c);try{var U=v(),J=I.S;if(J!==null&&J(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=QD(U,m);rc(a,s,ie,Jn(a))}else rc(a,s,m,Jn(a))}catch(ue){rc(a,s,{then:function(){},status:"rejected",reason:ue},Jn())}finally{Y.p=_,E!==null&&M.types!==null&&(E.types=M.types),I.T=E}}function r3(){}function wp(a,s,c,m){if(a.tag!==5)throw Error(r(476));var v=o1(a).queue;s1(a,v,s,X,c===null?r3:function(){return l1(a),c(m)})}function o1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:X},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function l1(a){var s=o1(a);s.next===null&&(s=a.alternate.memoizedState),rc(a,s.next.queue,{},Jn())}function Sp(){return gn(xc)}function c1(){return Lt().memoizedState}function u1(){return Lt().memoizedState}function a3(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Jn();a=di(c);var m=fi(s,a,c);m!==null&&(Un(m,s,c),Jl(m,s,c)),s={cache:Jm()},a.payload=s;return}s=s.return}}function i3(a,s,c){var m=Jn();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},md(a)?f1(s,c):(c=Bm(a,s,c,m),c!==null&&(Un(c,a,m),h1(c,s,m)))}function d1(a,s,c){var m=Jn();rc(a,s,c,m)}function rc(a,s,c,m){var v={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(md(a))f1(s,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var E=s.lastRenderedState,M=_(E,c);if(v.hasEagerState=!0,v.eagerState=M,Gn(M,E))return Vu(a,s,v,0),mt===null&&Yu(),!1}catch{}finally{}if(c=Bm(a,s,v,m),c!==null)return Un(c,a,m),h1(c,s,m),!0}return!1}function jp(a,s,c,m){if(m={lane:2,revertLane:ng(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},md(a)){if(s)throw Error(r(479))}else s=Bm(a,c,m,2),s!==null&&Un(s,a,2)}function md(a){var s=a.alternate;return a===Ue||s!==null&&s===Ue}function f1(a,s){wo=od=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function h1(a,s,c){if((c&4194048)!==0){var m=s.lanes;m&=a.pendingLanes,c|=m,s.lanes=c,v_(a,c)}}var ac={readContext:gn,use:ud,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};ac.useEffectEvent=Pt;var m1={readContext:gn,use:ud,useCallback:function(a,s){return An().memoizedState=[a,s===void 0?null:s],a},useContext:gn,useEffect:Qw,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,fd(4194308,4,t1.bind(null,s,a),c)},useLayoutEffect:function(a,s){return fd(4194308,4,a,s)},useInsertionEffect:function(a,s){fd(4,2,a,s)},useMemo:function(a,s){var c=An();s=s===void 0?null:s;var m=a();if(os){Je(!0);try{a()}finally{Je(!1)}}return c.memoizedState=[m,s],m},useReducer:function(a,s,c){var m=An();if(c!==void 0){var v=c(s);if(os){Je(!0);try{c(s)}finally{Je(!1)}}}else v=s;return m.memoizedState=m.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},m.queue=a,a=a.dispatch=i3.bind(null,Ue,a),[m.memoizedState,a]},useRef:function(a){var s=An();return a={current:a},s.memoizedState=a},useState:function(a){a=yp(a);var s=a.queue,c=d1.bind(null,Ue,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:xp,useDeferredValue:function(a,s){var c=An();return _p(c,a,s)},useTransition:function(){var a=yp(!1);return a=s1.bind(null,Ue,a.queue,!0,!1),An().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var m=Ue,v=An();if(Ve){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),mt===null)throw Error(r(349));(Ke&127)!==0||Dw(m,s,c)}v.memoizedState=c;var _={value:c,getSnapshot:s};return v.queue=_,Qw(Lw.bind(null,m,_,a),[a]),m.flags|=2048,jo(9,{destroy:void 0},Iw.bind(null,m,_,c,s),null),c},useId:function(){var a=An(),s=mt.identifierPrefix;if(Ve){var c=Jr,m=Qr;c=(m&~(1<<32-ct(m)-1)).toString(32)+c,s="_"+s+"R_"+c,c=ld++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=JD++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Sp,useFormState:Gw,useActionState:Gw,useOptimistic:function(a){var s=An();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=jp.bind(null,Ue,!0,c),c.dispatch=s,[a,s]},useMemoCache:mp,useCacheRefresh:function(){return An().memoizedState=a3.bind(null,Ue)},useEffectEvent:function(a){var s=An(),c={impl:a};return s.memoizedState=c,function(){if((rt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Np={readContext:gn,use:ud,useCallback:r1,useContext:gn,useEffect:bp,useImperativeHandle:n1,useInsertionEffect:Zw,useLayoutEffect:e1,useMemo:a1,useReducer:dd,useRef:Xw,useState:function(){return dd(wa)},useDebugValue:xp,useDeferredValue:function(a,s){var c=Lt();return i1(c,ut.memoizedState,a,s)},useTransition:function(){var a=dd(wa)[0],s=Lt().memoizedState;return[typeof a=="boolean"?a:nc(a),s]},useSyncExternalStore:Rw,useId:c1,useHostTransitionStatus:Sp,useFormState:Yw,useActionState:Yw,useOptimistic:function(a,s){var c=Lt();return zw(c,ut,a,s)},useMemoCache:mp,useCacheRefresh:u1};Np.useEffectEvent=Jw;var p1={readContext:gn,use:ud,useCallback:r1,useContext:gn,useEffect:bp,useImperativeHandle:n1,useInsertionEffect:Zw,useLayoutEffect:e1,useMemo:a1,useReducer:gp,useRef:Xw,useState:function(){return gp(wa)},useDebugValue:xp,useDeferredValue:function(a,s){var c=Lt();return ut===null?_p(c,a,s):i1(c,ut.memoizedState,a,s)},useTransition:function(){var a=gp(wa)[0],s=Lt().memoizedState;return[typeof a=="boolean"?a:nc(a),s]},useSyncExternalStore:Rw,useId:c1,useHostTransitionStatus:Sp,useFormState:Ww,useActionState:Ww,useOptimistic:function(a,s){var c=Lt();return ut!==null?zw(c,ut,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:mp,useCacheRefresh:u1};p1.useEffectEvent=Jw;function Ep(a,s,c,m){s=a.memoizedState,c=c(m,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Op={enqueueSetState:function(a,s,c){a=a._reactInternals;var m=Jn(),v=di(m);v.payload=s,c!=null&&(v.callback=c),s=fi(a,v,m),s!==null&&(Un(s,a,m),Jl(s,a,m))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var m=Jn(),v=di(m);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=fi(a,v,m),s!==null&&(Un(s,a,m),Jl(s,a,m))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Jn(),m=di(c);m.tag=2,s!=null&&(m.callback=s),s=fi(a,m,c),s!==null&&(Un(s,a,c),Jl(s,a,c))}};function g1(a,s,c,m,v,_,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,_,E):s.prototype&&s.prototype.isPureReactComponent?!Fl(c,m)||!Fl(v,_):!0}function y1(a,s,c,m){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,m),s.state!==a&&Op.enqueueReplaceState(s,s.state,null)}function ls(a,s){var c=s;if("ref"in s){c={};for(var m in s)m!=="ref"&&(c[m]=s[m])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function v1(a){Gu(a)}function b1(a){console.error(a)}function x1(a){Gu(a)}function pd(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function _1(a,s,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Ap(a,s,c){return c=di(c),c.tag=3,c.payload={element:null},c.callback=function(){pd(a,s)},c}function w1(a){return a=di(a),a.tag=3,a}function S1(a,s,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var _=m.value;a.payload=function(){return v(_)},a.callback=function(){_1(s,c,m)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){_1(s,c,m),typeof v!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var M=m.stack;this.componentDidCatch(m.value,{componentStack:M!==null?M:""})})}function s3(a,s,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=c.alternate,s!==null&&go(s,c,v,!0),c=Vn.current,c!==null){switch(c.tag){case 31:case 13:return yr===null?Od():c.alternate===null&&Mt===0&&(Mt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===nd?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([m]):s.add(m),Zp(a,m,v)),!1;case 22:return c.flags|=65536,m===nd?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([m]):c.add(m)),Zp(a,m,v)),!1}throw Error(r(435,c.tag))}return Zp(a,m,v),Od(),!1}if(Ve)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,m!==Ym&&(a=Error(r(422),{cause:m}),Yl(hr(a,c)))):(m!==Ym&&(s=Error(r(423),{cause:m}),Yl(hr(s,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,m=hr(m,c),v=Ap(a.stateNode,m,v),ap(a,v),Mt!==4&&(Mt=2)),!1;var _=Error(r(520),{cause:m});if(_=hr(_,c),fc===null?fc=[_]:fc.push(_),Mt!==4&&(Mt=2),s===null)return!0;m=hr(m,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=Ap(c.stateNode,m,a),ap(c,a),!1;case 1:if(s=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(vi===null||!vi.has(_))))return c.flags|=65536,v&=-v,c.lanes|=v,v=w1(v),S1(v,a,c,m),ap(c,v),!1}c=c.return}while(c!==null);return!1}var Cp=Error(r(461)),Ht=!1;function yn(a,s,c,m){s.child=a===null?Ow(s,null,c,m):ss(s,a.child,c,m)}function j1(a,s,c,m,v){c=c.render;var _=s.ref;if("ref"in m){var E={};for(var M in m)M!=="ref"&&(E[M]=m[M])}else E=m;return ns(s),m=up(a,s,c,E,_,v),M=dp(),a!==null&&!Ht?(fp(a,s,v),Sa(a,s,v)):(Ve&&M&&Km(s),s.flags|=1,yn(a,s,m,v),s.child)}function N1(a,s,c,m,v){if(a===null){var _=c.type;return typeof _=="function"&&!qm(_)&&_.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=_,E1(a,s,_,m,v)):(a=Xu(c.type,null,m,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!Lp(a,v)){var E=_.memoizedProps;if(c=c.compare,c=c!==null?c:Fl,c(E,m)&&a.ref===s.ref)return Sa(a,s,v)}return s.flags|=1,a=ya(_,m),a.ref=s.ref,a.return=s,s.child=a}function E1(a,s,c,m,v){if(a!==null){var _=a.memoizedProps;if(Fl(_,m)&&a.ref===s.ref)if(Ht=!1,s.pendingProps=m=_,Lp(a,v))(a.flags&131072)!==0&&(Ht=!0);else return s.lanes=a.lanes,Sa(a,s,v)}return Tp(a,s,c,m,v)}function O1(a,s,c,m){var v=m.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,a!==null){for(m=s.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~_}else m=0,s.child=null;return A1(a,s,_,c,m)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&ed(s,_!==null?_.cachePool:null),_!==null?Tw(s,_):sp(),kw(s);else return m=s.lanes=536870912,A1(a,s,_!==null?_.baseLanes|c:c,c,m)}else _!==null?(ed(s,_.cachePool),Tw(s,_),mi(),s.memoizedState=null):(a!==null&&ed(s,null),sp(),mi());return yn(a,s,v,c),s.child}function ic(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function A1(a,s,c,m,v){var _=ep();return _=_===null?null:{parent:Bt._currentValue,pool:_},s.memoizedState={baseLanes:c,cachePool:_},a!==null&&ed(s,null),sp(),kw(s),a!==null&&go(a,s,m,!0),s.childLanes=v,null}function gd(a,s){return s=vd({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function C1(a,s,c){return ss(s,a.child,null,c),a=gd(s,s.pendingProps),a.flags|=2,Wn(s),s.memoizedState=null,a}function o3(a,s,c){var m=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ve){if(m.mode==="hidden")return a=gd(s,m),s.lanes=536870912,ic(null,a);if(lp(s),(a=bt)?(a=BS(a,gr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:si!==null?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},c=fw(a),c.return=s,s.child=c,pn=s,bt=null)):a=null,a===null)throw li(s);return s.lanes=536870912,null}return gd(s,m)}var _=a.memoizedState;if(_!==null){var E=_.dehydrated;if(lp(s),v)if(s.flags&256)s.flags&=-257,s=C1(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ht||go(a,s,c,!1),v=(c&a.childLanes)!==0,Ht||v){if(m=mt,m!==null&&(E=b_(m,c),E!==0&&E!==_.retryLane))throw _.retryLane=E,Ji(a,E),Un(m,a,E),Cp;Od(),s=C1(a,s,c)}else a=_.treeContext,bt=vr(E.nextSibling),pn=s,Ve=!0,oi=null,gr=!1,a!==null&&pw(s,a),s=gd(s,m),s.flags|=4096;return s}return a=ya(a.child,{mode:m.mode,children:m.children}),a.ref=s.ref,s.child=a,a.return=s,a}function yd(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Tp(a,s,c,m,v){return ns(s),c=up(a,s,c,m,void 0,v),m=dp(),a!==null&&!Ht?(fp(a,s,v),Sa(a,s,v)):(Ve&&m&&Km(s),s.flags|=1,yn(a,s,c,v),s.child)}function T1(a,s,c,m,v,_){return ns(s),s.updateQueue=null,c=Mw(s,m,c,v),Pw(a),m=dp(),a!==null&&!Ht?(fp(a,s,_),Sa(a,s,_)):(Ve&&m&&Km(s),s.flags|=1,yn(a,s,c,_),s.child)}function k1(a,s,c,m,v){if(ns(s),s.stateNode===null){var _=fo,E=c.contextType;typeof E=="object"&&E!==null&&(_=gn(E)),_=new c(m,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Op,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=m,_.state=s.memoizedState,_.refs={},np(s),E=c.contextType,_.context=typeof E=="object"&&E!==null?gn(E):fo,_.state=s.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Ep(s,c,E,m),_.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&Op.enqueueReplaceState(_,_.state,null),ec(s,m,_,v),Zl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(a===null){_=s.stateNode;var M=s.memoizedProps,U=ls(c,M);_.props=U;var J=_.context,ie=c.contextType;E=fo,typeof ie=="object"&&ie!==null&&(E=gn(ie));var ue=c.getDerivedStateFromProps;ie=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M||J!==E)&&y1(s,_,m,E),ui=!1;var Z=s.memoizedState;_.state=Z,ec(s,m,_,v),Zl(),J=s.memoizedState,M||Z!==J||ui?(typeof ue=="function"&&(Ep(s,c,ue,m),J=s.memoizedState),(U=ui||g1(s,c,U,m,Z,J,E))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=J),_.props=m,_.state=J,_.context=E,m=U):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{_=s.stateNode,rp(a,s),E=s.memoizedProps,ie=ls(c,E),_.props=ie,ue=s.pendingProps,Z=_.context,J=c.contextType,U=fo,typeof J=="object"&&J!==null&&(U=gn(J)),M=c.getDerivedStateFromProps,(J=typeof M=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==ue||Z!==U)&&y1(s,_,m,U),ui=!1,Z=s.memoizedState,_.state=Z,ec(s,m,_,v),Zl();var te=s.memoizedState;E!==ue||Z!==te||ui||a!==null&&a.dependencies!==null&&Ju(a.dependencies)?(typeof M=="function"&&(Ep(s,c,M,m),te=s.memoizedState),(ie=ui||g1(s,c,ie,m,Z,te,U)||a!==null&&a.dependencies!==null&&Ju(a.dependencies))?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,te,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,te,U)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=te),_.props=m,_.state=te,_.context=U,m=ie):(typeof _.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),m=!1)}return _=m,yd(a,s),m=(s.flags&128)!==0,_||m?(_=s.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&m?(s.child=ss(s,a.child,null,v),s.child=ss(s,null,c,v)):yn(a,s,c,v),s.memoizedState=_.state,a=s.child):a=Sa(a,s,v),a}function P1(a,s,c,m){return es(),s.flags|=256,yn(a,s,c,m),s.child}var kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(a){return{baseLanes:a,cachePool:_w()}}function Mp(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Qn),a}function M1(a,s,c){var m=s.pendingProps,v=!1,_=(s.flags&128)!==0,E;if((E=_)||(E=a!==null&&a.memoizedState===null?!1:(It.current&2)!==0),E&&(v=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ve){if(v?hi(s):mi(),(a=bt)?(a=BS(a,gr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:si!==null?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},c=fw(a),c.return=s,s.child=c,pn=s,bt=null)):a=null,a===null)throw li(s);return pg(a)?s.lanes=32:s.lanes=536870912,null}var M=m.children;return m=m.fallback,v?(mi(),v=s.mode,M=vd({mode:"hidden",children:M},v),m=Zi(m,v,c,null),M.return=s,m.return=s,M.sibling=m,s.child=M,m=s.child,m.memoizedState=Pp(c),m.childLanes=Mp(a,E,c),s.memoizedState=kp,ic(null,m)):(hi(s),Rp(s,M))}var U=a.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(_)s.flags&256?(hi(s),s.flags&=-257,s=Dp(a,s,c)):s.memoizedState!==null?(mi(),s.child=a.child,s.flags|=128,s=null):(mi(),M=m.fallback,v=s.mode,m=vd({mode:"visible",children:m.children},v),M=Zi(M,v,c,null),M.flags|=2,m.return=s,M.return=s,m.sibling=M,s.child=m,ss(s,a.child,null,c),m=s.child,m.memoizedState=Pp(c),m.childLanes=Mp(a,E,c),s.memoizedState=kp,s=ic(null,m));else if(hi(s),pg(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var J=E.dgst;E=J,m=Error(r(419)),m.stack="",m.digest=E,Yl({value:m,source:null,stack:null}),s=Dp(a,s,c)}else if(Ht||go(a,s,c,!1),E=(c&a.childLanes)!==0,Ht||E){if(E=mt,E!==null&&(m=b_(E,c),m!==0&&m!==U.retryLane))throw U.retryLane=m,Ji(a,m),Un(E,a,m),Cp;mg(M)||Od(),s=Dp(a,s,c)}else mg(M)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,bt=vr(M.nextSibling),pn=s,Ve=!0,oi=null,gr=!1,a!==null&&pw(s,a),s=Rp(s,m.children),s.flags|=4096);return s}return v?(mi(),M=m.fallback,v=s.mode,U=a.child,J=U.sibling,m=ya(U,{mode:"hidden",children:m.children}),m.subtreeFlags=U.subtreeFlags&65011712,J!==null?M=ya(J,M):(M=Zi(M,v,c,null),M.flags|=2),M.return=s,m.return=s,m.sibling=M,s.child=m,ic(null,m),m=s.child,M=a.child.memoizedState,M===null?M=Pp(c):(v=M.cachePool,v!==null?(U=Bt._currentValue,v=v.parent!==U?{parent:U,pool:U}:v):v=_w(),M={baseLanes:M.baseLanes|c,cachePool:v}),m.memoizedState=M,m.childLanes=Mp(a,E,c),s.memoizedState=kp,ic(a.child,m)):(hi(s),c=a.child,a=c.sibling,c=ya(c,{mode:"visible",children:m.children}),c.return=s,c.sibling=null,a!==null&&(E=s.deletions,E===null?(s.deletions=[a],s.flags|=16):E.push(a)),s.child=c,s.memoizedState=null,c)}function Rp(a,s){return s=vd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function vd(a,s){return a=Yn(22,a,null,s),a.lanes=0,a}function Dp(a,s,c){return ss(s,a.child,null,c),a=Rp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function R1(a,s,c){a.lanes|=s;var m=a.alternate;m!==null&&(m.lanes|=s),Xm(a.return,s,c)}function Ip(a,s,c,m,v,_){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v,treeForkCount:_}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=c,E.tailMode=v,E.treeForkCount=_)}function D1(a,s,c){var m=s.pendingProps,v=m.revealOrder,_=m.tail;m=m.children;var E=It.current,M=(E&2)!==0;if(M?(E=E&1|2,s.flags|=128):E&=1,W(It,E),yn(a,s,m,c),m=Ve?Gl:0,!M&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&R1(a,c,s);else if(a.tag===19)R1(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=s.child,v=null;c!==null;)a=c.alternate,a!==null&&sd(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),Ip(s,!1,v,c,_,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&sd(a)===null){s.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}Ip(s,!0,c,null,_,m);break;case"together":Ip(s,!1,null,null,void 0,m);break;default:s.memoizedState=null}return s.child}function Sa(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),yi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(go(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=ya(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=ya(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Lp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Ju(a)))}function l3(a,s,c){switch(s.tag){case 3:me(s,s.stateNode.containerInfo),ci(s,Bt,a.memoizedState.cache),es();break;case 27:case 5:ge(s);break;case 4:me(s,s.stateNode.containerInfo);break;case 10:ci(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lp(s),null;break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(hi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?M1(a,s,c):(hi(s),a=Sa(a,s,c),a!==null?a.sibling:null);hi(s);break;case 19:var v=(a.flags&128)!==0;if(m=(c&s.childLanes)!==0,m||(go(a,s,c,!1),m=(c&s.childLanes)!==0),v){if(m)return D1(a,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),W(It,It.current),m)break;return null;case 22:return s.lanes=0,O1(a,s,c,s.pendingProps);case 24:ci(s,Bt,a.memoizedState.cache)}return Sa(a,s,c)}function I1(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Ht=!0;else{if(!Lp(a,c)&&(s.flags&128)===0)return Ht=!1,l3(a,s,c);Ht=(a.flags&131072)!==0}else Ht=!1,Ve&&(s.flags&1048576)!==0&&mw(s,Gl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var m=s.pendingProps;if(a=as(s.elementType),s.type=a,typeof a=="function")qm(a)?(m=ls(a,m),s.tag=1,s=k1(null,s,a,m,c)):(s.tag=0,s=Tp(null,s,a,m,c));else{if(a!=null){var v=a.$$typeof;if(v===C){s.tag=11,s=j1(null,s,a,m,c);break e}else if(v===k){s.tag=14,s=N1(null,s,a,m,c);break e}}throw s=B(a)||a,Error(r(306,s,""))}}return s;case 0:return Tp(a,s,s.type,s.pendingProps,c);case 1:return m=s.type,v=ls(m,s.pendingProps),k1(a,s,m,v,c);case 3:e:{if(me(s,s.stateNode.containerInfo),a===null)throw Error(r(387));m=s.pendingProps;var _=s.memoizedState;v=_.element,rp(a,s),ec(s,m,null,c);var E=s.memoizedState;if(m=E.cache,ci(s,Bt,m),m!==_.cache&&Qm(s,[Bt],c,!0),Zl(),m=E.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=P1(a,s,m,c);break e}else if(m!==v){v=hr(Error(r(424)),s),Yl(v),s=P1(a,s,m,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(bt=vr(a.firstChild),pn=s,Ve=!0,oi=null,gr=!0,c=Ow(s,null,m,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(es(),m===v){s=Sa(a,s,c);break e}yn(a,s,m,c)}s=s.child}return s;case 26:return yd(a,s),a===null?(c=YS(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ve||(c=s.type,a=s.pendingProps,m=Rd(xe.current).createElement(c),m[mn]=s,m[Pn]=a,vn(m,c,a),sn(m),s.stateNode=m):s.memoizedState=YS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ge(s),a===null&&Ve&&(m=s.stateNode=FS(s.type,s.pendingProps,xe.current),pn=s,gr=!0,v=bt,wi(s.type)?(gg=v,bt=vr(m.firstChild)):bt=v),yn(a,s,s.pendingProps.children,c),yd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ve&&((v=m=bt)&&(m=U3(m,s.type,s.pendingProps,gr),m!==null?(s.stateNode=m,pn=s,bt=vr(m.firstChild),gr=!1,v=!0):v=!1),v||li(s)),ge(s),v=s.type,_=s.pendingProps,E=a!==null?a.memoizedProps:null,m=_.children,dg(v,_)?m=null:E!==null&&dg(v,E)&&(s.flags|=32),s.memoizedState!==null&&(v=up(a,s,ZD,null,null,c),xc._currentValue=v),yd(a,s),yn(a,s,m,c),s.child;case 6:return a===null&&Ve&&((a=c=bt)&&(c=$3(c,s.pendingProps,gr),c!==null?(s.stateNode=c,pn=s,bt=null,a=!0):a=!1),a||li(s)),null;case 13:return M1(a,s,c);case 4:return me(s,s.stateNode.containerInfo),m=s.pendingProps,a===null?s.child=ss(s,null,m,c):yn(a,s,m,c),s.child;case 11:return j1(a,s,s.type,s.pendingProps,c);case 7:return yn(a,s,s.pendingProps,c),s.child;case 8:return yn(a,s,s.pendingProps.children,c),s.child;case 12:return yn(a,s,s.pendingProps.children,c),s.child;case 10:return m=s.pendingProps,ci(s,s.type,m.value),yn(a,s,m.children,c),s.child;case 9:return v=s.type._context,m=s.pendingProps.children,ns(s),v=gn(v),m=m(v),s.flags|=1,yn(a,s,m,c),s.child;case 14:return N1(a,s,s.type,s.pendingProps,c);case 15:return E1(a,s,s.type,s.pendingProps,c);case 19:return D1(a,s,c);case 31:return o3(a,s,c);case 22:return O1(a,s,c,s.pendingProps);case 24:return ns(s),m=gn(Bt),a===null?(v=ep(),v===null&&(v=mt,_=Jm(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=c),v=_),s.memoizedState={parent:m,cache:v},np(s),ci(s,Bt,v)):((a.lanes&c)!==0&&(rp(a,s),ec(s,null,null,c),Zl()),v=a.memoizedState,_=s.memoizedState,v.parent!==m?(v={parent:m,cache:m},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),ci(s,Bt,m)):(m=_.cache,ci(s,Bt,m),m!==v.cache&&Qm(s,[Bt],c,!0))),yn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ja(a){a.flags|=4}function Up(a,s,c,m,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(cS())a.flags|=8192;else throw is=nd,tp}else a.flags&=-16777217}function L1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!JS(s))if(cS())a.flags|=8192;else throw is=nd,tp}function bd(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?g_():536870912,a.lanes|=s,Ao|=s)}function sc(a,s){if(!Ve)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function xt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(s)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=c,s}function c3(a,s,c){var m=s.pendingProps;switch(Gm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return xt(s),null;case 3:return c=s.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),xa(Bt),V(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(po(s)?ja(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vm())),xt(s),null;case 26:var v=s.type,_=s.memoizedState;return a===null?(ja(s),_!==null?(xt(s),L1(s,_)):(xt(s),Up(s,v,null,m,c))):_?_!==a.memoizedState?(ja(s),xt(s),L1(s,_)):(xt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==m&&ja(s),xt(s),Up(s,v,a,m,c)),null;case 27:if(ye(s),c=xe.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==m&&ja(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return xt(s),null}a=se.current,po(s)?gw(s):(a=FS(v,m,c),s.stateNode=a,ja(s))}return xt(s),null;case 5:if(ye(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==m&&ja(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return xt(s),null}if(_=se.current,po(s))gw(s);else{var E=Rd(xe.current);switch(_){case 1:_=E.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=E.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=E.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?E.createElement(v,{is:m.is}):E.createElement(v)}}_[mn]=s,_[Pn]=m;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)_.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=_;e:switch(vn(_,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ja(s)}}return xt(s),Up(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==m&&ja(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(a=xe.current,po(s)){if(a=s.stateNode,c=s.memoizedProps,m=null,v=pn,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}a[mn]=s,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||MS(a.nodeValue,c)),a||li(s,!0)}else a=Rd(a).createTextNode(m),a[mn]=s,s.stateNode=a}return xt(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(m=po(s),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[mn]=s}else es(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),a=!1}else c=Vm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Wn(s),s):(Wn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return xt(s),null;case 13:if(m=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=po(s),m!==null&&m.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[mn]=s}else es(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),v=!1}else v=Vm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Wn(s),s):(Wn(s),null)}return Wn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=s.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==v&&(m.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),bd(s,s.updateQueue),xt(s),null);case 4:return V(),a===null&&sg(s.stateNode.containerInfo),xt(s),null;case 10:return xa(s.type),xt(s),null;case 19:if(L(It),m=s.memoizedState,m===null)return xt(s),null;if(v=(s.flags&128)!==0,_=m.rendering,_===null)if(v)sc(m,!1);else{if(Mt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=sd(a),_!==null){for(s.flags|=128,sc(m,!1),a=_.updateQueue,s.updateQueue=a,bd(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)dw(c,a),c=c.sibling;return W(It,It.current&1|2),Ve&&va(s,m.treeForkCount),s.child}a=a.sibling}m.tail!==null&&kt()>jd&&(s.flags|=128,v=!0,sc(m,!1),s.lanes=4194304)}else{if(!v)if(a=sd(_),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,bd(s,a),sc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ve)return xt(s),null}else 2*kt()-m.renderingStartTime>jd&&c!==536870912&&(s.flags|=128,v=!0,sc(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(a=m.last,a!==null?a.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=kt(),a.sibling=null,c=It.current,W(It,v?c&1|2:c&1),Ve&&va(s,m.treeForkCount),a):(xt(s),null);case 22:case 23:return Wn(s),op(),m=s.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(c&536870912)!==0&&(s.flags&128)===0&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),c=s.updateQueue,c!==null&&bd(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==c&&(s.flags|=2048),a!==null&&L(rs),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),xa(Bt),xt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function u3(a,s){switch(Gm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return xa(Bt),V(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return ye(s),null;case 31:if(s.memoizedState!==null){if(Wn(s),s.alternate===null)throw Error(r(340));es()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Wn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));es()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return L(It),null;case 4:return V(),null;case 10:return xa(s.type),null;case 22:case 23:return Wn(s),op(),a!==null&&L(rs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return xa(Bt),null;case 25:return null;default:return null}}function U1(a,s){switch(Gm(s),s.tag){case 3:xa(Bt),V();break;case 26:case 27:case 5:ye(s);break;case 4:V();break;case 31:s.memoizedState!==null&&Wn(s);break;case 13:Wn(s);break;case 19:L(It);break;case 10:xa(s.type);break;case 22:case 23:Wn(s),op(),a!==null&&L(rs);break;case 24:xa(Bt)}}function oc(a,s){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&a)===a){m=void 0;var _=c.create,E=c.inst;m=_(),E.destroy=m}c=c.next}while(c!==v)}}catch(M){it(s,s.return,M)}}function pi(a,s,c){try{var m=s.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var _=v.next;m=_;do{if((m.tag&a)===a){var E=m.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,v=s;var U=c,J=M;try{J()}catch(ie){it(v,U,ie)}}}m=m.next}while(m!==_)}}catch(ie){it(s,s.return,ie)}}function $1(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{Cw(s,c)}catch(m){it(a,a.return,m)}}}function z1(a,s,c){c.props=ls(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){it(a,s,m)}}function lc(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(v){it(a,s,v)}}function Zr(a,s){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){it(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){it(a,s,v)}else c.current=null}function B1(a){var s=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){it(a,a.return,v)}}function $p(a,s,c){try{var m=a.stateNode;P3(m,a.type,c,s),m[Pn]=s}catch(v){it(a,a.return,v)}}function q1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&wi(a.type)||a.tag===4}function zp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&wi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Bp(a,s,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=pa));else if(m!==4&&(m===27&&wi(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Bp(a,s,c),a=a.sibling;a!==null;)Bp(a,s,c),a=a.sibling}function xd(a,s,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(m!==4&&(m===27&&wi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(xd(a,s,c),a=a.sibling;a!==null;)xd(a,s,c),a=a.sibling}function H1(a){var s=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);vn(s,m,c),s[mn]=a,s[Pn]=c}catch(_){it(a,a.return,_)}}var Na=!1,Ft=!1,qp=!1,F1=typeof WeakSet=="function"?WeakSet:Set,on=null;function d3(a,s){if(a=a.containerInfo,cg=Bd,a=nw(a),Dm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var E=0,M=-1,U=-1,J=0,ie=0,ue=a,Z=null;t:for(;;){for(var te;ue!==c||v!==0&&ue.nodeType!==3||(M=E+v),ue!==_||m!==0&&ue.nodeType!==3||(U=E+m),ue.nodeType===3&&(E+=ue.nodeValue.length),(te=ue.firstChild)!==null;)Z=ue,ue=te;for(;;){if(ue===a)break t;if(Z===c&&++J===v&&(M=E),Z===_&&++ie===m&&(U=E),(te=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=te}c=M===-1||U===-1?null:{start:M,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(ug={focusedElem:a,selectionRange:c},Bd=!1,on=s;on!==null;)if(s=on,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,on=a;else for(;on!==null;){switch(s=on,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,c=s,v=_.memoizedProps,_=_.memoizedState,m=c.stateNode;try{var we=ls(c.type,v);a=m.getSnapshotBeforeUpdate(we,_),m.__reactInternalSnapshotBeforeUpdate=a}catch(Re){it(c,c.return,Re)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)hg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":hg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,on=a;break}on=s.return}}function K1(a,s,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Oa(a,c),m&4&&oc(5,c);break;case 1:if(Oa(a,c),m&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(E){it(c,c.return,E)}else{var v=ls(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(E){it(c,c.return,E)}}m&64&&$1(c),m&512&&lc(c,c.return);break;case 3:if(Oa(a,c),m&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Cw(a,s)}catch(E){it(c,c.return,E)}}break;case 27:s===null&&m&4&&H1(c);case 26:case 5:Oa(a,c),s===null&&m&4&&B1(c),m&512&&lc(c,c.return);break;case 12:Oa(a,c);break;case 31:Oa(a,c),m&4&&V1(a,c);break;case 13:Oa(a,c),m&4&&W1(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=x3.bind(null,c),z3(a,c))));break;case 22:if(m=c.memoizedState!==null||Na,!m){s=s!==null&&s.memoizedState!==null||Ft,v=Na;var _=Ft;Na=m,(Ft=s)&&!_?Aa(a,c,(c.subtreeFlags&8772)!==0):Oa(a,c),Na=v,Ft=_}break;case 30:break;default:Oa(a,c)}}function G1(a){var s=a.alternate;s!==null&&(a.alternate=null,G1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&vm(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var St=null,Rn=!1;function Ea(a,s,c){for(c=c.child;c!==null;)Y1(a,s,c),c=c.sibling}function Y1(a,s,c){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(lt,c)}catch{}switch(c.tag){case 26:Ft||Zr(c,s),Ea(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ft||Zr(c,s);var m=St,v=Rn;wi(c.type)&&(St=c.stateNode,Rn=!1),Ea(a,s,c),yc(c.stateNode),St=m,Rn=v;break;case 5:Ft||Zr(c,s);case 6:if(m=St,v=Rn,St=null,Ea(a,s,c),St=m,Rn=v,St!==null)if(Rn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(c.stateNode)}catch(_){it(c,s,_)}else try{St.removeChild(c.stateNode)}catch(_){it(c,s,_)}break;case 18:St!==null&&(Rn?(a=St,$S(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Io(a)):$S(St,c.stateNode));break;case 4:m=St,v=Rn,St=c.stateNode.containerInfo,Rn=!0,Ea(a,s,c),St=m,Rn=v;break;case 0:case 11:case 14:case 15:pi(2,c,s),Ft||pi(4,c,s),Ea(a,s,c);break;case 1:Ft||(Zr(c,s),m=c.stateNode,typeof m.componentWillUnmount=="function"&&z1(c,s,m)),Ea(a,s,c);break;case 21:Ea(a,s,c);break;case 22:Ft=(m=Ft)||c.memoizedState!==null,Ea(a,s,c),Ft=m;break;default:Ea(a,s,c)}}function V1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Io(a)}catch(c){it(s,s.return,c)}}}function W1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Io(a)}catch(c){it(s,s.return,c)}}function f3(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new F1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new F1),s;default:throw Error(r(435,a.tag))}}function _d(a,s){var c=f3(a);s.forEach(function(m){if(!c.has(m)){c.add(m);var v=_3.bind(null,a,m);m.then(v,v)}})}function Dn(a,s){var c=s.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],_=a,E=s,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(wi(M.type)){St=M.stateNode,Rn=!1;break e}break;case 5:St=M.stateNode,Rn=!1;break e;case 3:case 4:St=M.stateNode.containerInfo,Rn=!0;break e}M=M.return}if(St===null)throw Error(r(160));Y1(_,E,v),St=null,Rn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)X1(s,a),s=s.sibling}var Lr=null;function X1(a,s){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Dn(s,a),In(a),m&4&&(pi(3,a,a.return),oc(3,a),pi(5,a,a.return));break;case 1:Dn(s,a),In(a),m&512&&(Ft||c===null||Zr(c,c.return)),m&64&&Na&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=Lr;if(Dn(s,a),In(a),m&512&&(Ft||c===null||Zr(c,c.return)),m&4){var _=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Dl]||_[mn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(m),v.head.insertBefore(_,v.querySelector("head > title"))),vn(_,m,c),_[mn]=a,sn(_),m=_;break e;case"link":var E=XS("link","href",v).get(m+(c.href||""));if(E){for(var M=0;M<E.length;M++)if(_=E[M],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(M,1);break t}}_=v.createElement(m),vn(_,m,c),v.head.appendChild(_);break;case"meta":if(E=XS("meta","content",v).get(m+(c.content||""))){for(M=0;M<E.length;M++)if(_=E[M],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(M,1);break t}}_=v.createElement(m),vn(_,m,c),v.head.appendChild(_);break;default:throw Error(r(468,m))}_[mn]=a,sn(_),m=_}a.stateNode=m}else QS(v,a.type,a.stateNode);else a.stateNode=WS(v,m,a.memoizedProps);else _!==m?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,m===null?QS(v,a.type,a.stateNode):WS(v,m,a.memoizedProps)):m===null&&a.stateNode!==null&&$p(a,a.memoizedProps,c.memoizedProps)}break;case 27:Dn(s,a),In(a),m&512&&(Ft||c===null||Zr(c,c.return)),c!==null&&m&4&&$p(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Dn(s,a),In(a),m&512&&(Ft||c===null||Zr(c,c.return)),a.flags&32){v=a.stateNode;try{ao(v,"")}catch(we){it(a,a.return,we)}}m&4&&a.stateNode!=null&&(v=a.memoizedProps,$p(a,v,c!==null?c.memoizedProps:v)),m&1024&&(qp=!0);break;case 6:if(Dn(s,a),In(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(we){it(a,a.return,we)}}break;case 3:if(Ld=null,v=Lr,Lr=Dd(s.containerInfo),Dn(s,a),Lr=v,In(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Io(s.containerInfo)}catch(we){it(a,a.return,we)}qp&&(qp=!1,Q1(a));break;case 4:m=Lr,Lr=Dd(a.stateNode.containerInfo),Dn(s,a),In(a),Lr=m;break;case 12:Dn(s,a),In(a);break;case 31:Dn(s,a),In(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,_d(a,m)));break;case 13:Dn(s,a),In(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sd=kt()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,_d(a,m)));break;case 22:v=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,J=Na,ie=Ft;if(Na=J||v,Ft=ie||U,Dn(s,a),Ft=ie,Na=J,In(a),m&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||U||Na||Ft||cs(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(_=U.stateNode,v)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=U.stateNode;var ue=U.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;M.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(we){it(U,U.return,we)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=v?"":U.memoizedProps}catch(we){it(U,U.return,we)}}}else if(s.tag===18){if(c===null){U=s;try{var te=U.stateNode;v?zS(te,!0):zS(U.stateNode,!1)}catch(we){it(U,U.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,_d(a,c))));break;case 19:Dn(s,a),In(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,_d(a,m)));break;case 30:break;case 21:break;default:Dn(s,a),In(a)}}function In(a){var s=a.flags;if(s&2){try{for(var c,m=a.return;m!==null;){if(q1(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,_=zp(a);xd(a,_,v);break;case 5:var E=c.stateNode;c.flags&32&&(ao(E,""),c.flags&=-33);var M=zp(a);xd(a,M,E);break;case 3:case 4:var U=c.stateNode.containerInfo,J=zp(a);Bp(a,J,U);break;default:throw Error(r(161))}}catch(ie){it(a,a.return,ie)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Q1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Q1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Oa(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)K1(a,s.alternate,s),s=s.sibling}function cs(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:pi(4,s,s.return),cs(s);break;case 1:Zr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&z1(s,s.return,c),cs(s);break;case 27:yc(s.stateNode);case 26:case 5:Zr(s,s.return),cs(s);break;case 22:s.memoizedState===null&&cs(s);break;case 30:cs(s);break;default:cs(s)}a=a.sibling}}function Aa(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,v=a,_=s,E=_.flags;switch(_.tag){case 0:case 11:case 15:Aa(v,_,c),oc(4,_);break;case 1:if(Aa(v,_,c),m=_,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){it(m,m.return,J)}if(m=_,v=m.updateQueue,v!==null){var M=m.stateNode;try{var U=v.shared.hiddenCallbacks;if(U!==null)for(v.shared.hiddenCallbacks=null,v=0;v<U.length;v++)Aw(U[v],M)}catch(J){it(m,m.return,J)}}c&&E&64&&$1(_),lc(_,_.return);break;case 27:H1(_);case 26:case 5:Aa(v,_,c),c&&m===null&&E&4&&B1(_),lc(_,_.return);break;case 12:Aa(v,_,c);break;case 31:Aa(v,_,c),c&&E&4&&V1(v,_);break;case 13:Aa(v,_,c),c&&E&4&&W1(v,_);break;case 22:_.memoizedState===null&&Aa(v,_,c),lc(_,_.return);break;case 30:break;default:Aa(v,_,c)}s=s.sibling}}function Hp(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Vl(c))}function Fp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Vl(a))}function Ur(a,s,c,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)J1(a,s,c,m),s=s.sibling}function J1(a,s,c,m){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Ur(a,s,c,m),v&2048&&oc(9,s);break;case 1:Ur(a,s,c,m);break;case 3:Ur(a,s,c,m),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Vl(a)));break;case 12:if(v&2048){Ur(a,s,c,m),a=s.stateNode;try{var _=s.memoizedProps,E=_.id,M=_.onPostCommit;typeof M=="function"&&M(E,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){it(s,s.return,U)}}else Ur(a,s,c,m);break;case 31:Ur(a,s,c,m);break;case 13:Ur(a,s,c,m);break;case 23:break;case 22:_=s.stateNode,E=s.alternate,s.memoizedState!==null?_._visibility&2?Ur(a,s,c,m):cc(a,s):_._visibility&2?Ur(a,s,c,m):(_._visibility|=2,No(a,s,c,m,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Hp(E,s);break;case 24:Ur(a,s,c,m),v&2048&&Fp(s.alternate,s);break;default:Ur(a,s,c,m)}}function No(a,s,c,m,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,E=s,M=c,U=m,J=E.flags;switch(E.tag){case 0:case 11:case 15:No(_,E,M,U,v),oc(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?No(_,E,M,U,v):cc(_,E):(ie._visibility|=2,No(_,E,M,U,v)),v&&J&2048&&Hp(E.alternate,E);break;case 24:No(_,E,M,U,v),v&&J&2048&&Fp(E.alternate,E);break;default:No(_,E,M,U,v)}s=s.sibling}}function cc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,m=s,v=m.flags;switch(m.tag){case 22:cc(c,m),v&2048&&Hp(m.alternate,m);break;case 24:cc(c,m),v&2048&&Fp(m.alternate,m);break;default:cc(c,m)}s=s.sibling}}var uc=8192;function Eo(a,s,c){if(a.subtreeFlags&uc)for(a=a.child;a!==null;)Z1(a,s,c),a=a.sibling}function Z1(a,s,c){switch(a.tag){case 26:Eo(a,s,c),a.flags&uc&&a.memoizedState!==null&&J3(c,Lr,a.memoizedState,a.memoizedProps);break;case 5:Eo(a,s,c);break;case 3:case 4:var m=Lr;Lr=Dd(a.stateNode.containerInfo),Eo(a,s,c),Lr=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=uc,uc=16777216,Eo(a,s,c),uc=m):Eo(a,s,c));break;default:Eo(a,s,c)}}function eS(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function dc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];on=m,nS(m,a)}eS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)tS(a),a=a.sibling}function tS(a){switch(a.tag){case 0:case 11:case 15:dc(a),a.flags&2048&&pi(9,a,a.return);break;case 3:dc(a);break;case 12:dc(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,wd(a)):dc(a);break;default:dc(a)}}function wd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];on=m,nS(m,a)}eS(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:pi(8,s,s.return),wd(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,wd(s));break;default:wd(s)}a=a.sibling}}function nS(a,s){for(;on!==null;){var c=on;switch(c.tag){case 0:case 11:case 15:pi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vl(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,on=m;else e:for(c=a;on!==null;){m=on;var v=m.sibling,_=m.return;if(G1(m),m===c){on=null;break e}if(v!==null){v.return=_,on=v;break e}on=_}}}var h3={getCacheForType:function(a){var s=gn(Bt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return gn(Bt).controller.signal}},m3=typeof WeakMap=="function"?WeakMap:Map,rt=0,mt=null,Be=null,Ke=0,at=0,Xn=null,gi=!1,Oo=!1,Kp=!1,Ca=0,Mt=0,yi=0,us=0,Gp=0,Qn=0,Ao=0,fc=null,Ln=null,Yp=!1,Sd=0,rS=0,jd=1/0,Nd=null,vi=null,Xt=0,bi=null,Co=null,Ta=0,Vp=0,Wp=null,aS=null,hc=0,Xp=null;function Jn(){return(rt&2)!==0&&Ke!==0?Ke&-Ke:I.T!==null?ng():x_()}function iS(){if(Qn===0)if((Ke&536870912)===0||Ve){var a=an;an<<=1,(an&3932160)===0&&(an=262144),Qn=a}else Qn=536870912;return a=Vn.current,a!==null&&(a.flags|=32),Qn}function Un(a,s,c){(a===mt&&(at===2||at===9)||a.cancelPendingCommit!==null)&&(To(a,0),xi(a,Ke,Qn,!1)),Rl(a,c),((rt&2)===0||a!==mt)&&(a===mt&&((rt&2)===0&&(us|=c),Mt===4&&xi(a,Ke,Qn,!1)),ea(a))}function sS(a,s,c){if((rt&6)!==0)throw Error(r(327));var m=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Ml(a,s),v=m?y3(a,s):Jp(a,s,!0),_=m;do{if(v===0){Oo&&!m&&xi(a,s,0,!1);break}else{if(c=a.current.alternate,_&&!p3(c)){v=Jp(a,s,!1),_=!1;continue}if(v===2){if(_=s,a.errorRecoveryDisabledLanes&_)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var M=a;v=fc;var U=M.current.memoizedState.isDehydrated;if(U&&(To(M,E).flags|=256),E=Jp(M,E,!1),E!==2){if(Kp&&!U){M.errorRecoveryDisabledLanes|=_,us|=_,v=4;break e}_=Ln,Ln=v,_!==null&&(Ln===null?Ln=_:Ln.push.apply(Ln,_))}v=E}if(_=!1,v!==2)continue}}if(v===1){To(a,0),xi(a,s,0,!0);break}e:{switch(m=a,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:xi(m,s,Qn,!gi);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=Sd+300-kt(),10<v)){if(xi(m,s,Qn,!gi),Qs(m,0,!0)!==0)break e;Ta=s,m.timeoutHandle=LS(oS.bind(null,m,c,Ln,Nd,Yp,s,Qn,us,Ao,gi,_,"Throttled",-0,0),v);break e}oS(m,c,Ln,Nd,Yp,s,Qn,us,Ao,gi,_,null,-0,0)}}break}while(!0);ea(a)}function oS(a,s,c,m,v,_,E,M,U,J,ie,ue,Z,te){if(a.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},Z1(s,_,ue);var we=(_&62914560)===_?Sd-kt():(_&4194048)===_?rS-kt():0;if(we=Z3(ue,we),we!==null){Ta=_,a.cancelPendingCommit=we(pS.bind(null,a,s,_,c,m,v,E,M,U,ie,ue,null,Z,te)),xi(a,_,E,!J);return}}pS(a,s,_,c,m,v,E,M,U)}function p3(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],_=v.getSnapshot;v=v.value;try{if(!Gn(_(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(a,s,c,m){s&=~Gp,s&=~us,a.suspendedLanes|=s,a.pingedLanes&=~s,m&&(a.warmLanes|=s),m=a.expirationTimes;for(var v=s;0<v;){var _=31-ct(v),E=1<<_;m[_]=-1,v&=~E}c!==0&&y_(a,c,s)}function Ed(){return(rt&6)===0?(mc(0),!1):!0}function Qp(){if(Be!==null){if(at===0)var a=Be.return;else a=Be,ba=ts=null,hp(a),xo=null,Xl=0,a=Be;for(;a!==null;)U1(a.alternate,a),a=a.return;Be=null}}function To(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,D3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Ta=0,Qp(),mt=a,Be=c=ya(a.current,null),Ke=s,at=0,Xn=null,gi=!1,Oo=Ml(a,s),Kp=!1,Ao=Qn=Gp=us=yi=Mt=0,Ln=fc=null,Yp=!1,(s&8)!==0&&(s|=s&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=s;0<m;){var v=31-ct(m),_=1<<v;s|=a[v],m&=~_}return Ca=s,Yu(),c}function lS(a,s){Ue=null,I.H=ac,s===bo||s===td?(s=jw(),at=3):s===tp?(s=jw(),at=4):at=s===Cp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,Be===null&&(Mt=1,pd(a,hr(s,a.current)))}function cS(){var a=Vn.current;return a===null?!0:(Ke&4194048)===Ke?yr===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?a===yr:!1}function uS(){var a=I.H;return I.H=ac,a===null?ac:a}function dS(){var a=I.A;return I.A=h3,a}function Od(){Mt=4,gi||(Ke&4194048)!==Ke&&Vn.current!==null||(Oo=!0),(yi&134217727)===0&&(us&134217727)===0||mt===null||xi(mt,Ke,Qn,!1)}function Jp(a,s,c){var m=rt;rt|=2;var v=uS(),_=dS();(mt!==a||Ke!==s)&&(Nd=null,To(a,s)),s=!1;var E=Mt;e:do try{if(at!==0&&Be!==null){var M=Be,U=Xn;switch(at){case 8:Qp(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var J=at;if(at=0,Xn=null,ko(a,M,U,J),c&&Oo){E=0;break e}break;default:J=at,at=0,Xn=null,ko(a,M,U,J)}}g3(),E=Mt;break}catch(ie){lS(a,ie)}while(!0);return s&&a.shellSuspendCounter++,ba=ts=null,rt=m,I.H=v,I.A=_,Be===null&&(mt=null,Ke=0,Yu()),E}function g3(){for(;Be!==null;)fS(Be)}function y3(a,s){var c=rt;rt|=2;var m=uS(),v=dS();mt!==a||Ke!==s?(Nd=null,jd=kt()+500,To(a,s)):Oo=Ml(a,s);e:do try{if(at!==0&&Be!==null){s=Be;var _=Xn;t:switch(at){case 1:at=0,Xn=null,ko(a,s,_,1);break;case 2:case 9:if(ww(_)){at=0,Xn=null,hS(s);break}s=function(){at!==2&&at!==9||mt!==a||(at=7),ea(a)},_.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:ww(_)?(at=0,Xn=null,hS(s)):(at=0,Xn=null,ko(a,s,_,7));break;case 5:var E=null;switch(Be.tag){case 26:E=Be.memoizedState;case 5:case 27:var M=Be;if(E?JS(E):M.stateNode.complete){at=0,Xn=null;var U=M.sibling;if(U!==null)Be=U;else{var J=M.return;J!==null?(Be=J,Ad(J)):Be=null}break t}}at=0,Xn=null,ko(a,s,_,5);break;case 6:at=0,Xn=null,ko(a,s,_,6);break;case 8:Qp(),Mt=6;break e;default:throw Error(r(462))}}v3();break}catch(ie){lS(a,ie)}while(!0);return ba=ts=null,I.H=m,I.A=v,rt=c,Be!==null?0:(mt=null,Ke=0,Yu(),Mt)}function v3(){for(;Be!==null&&!Mr();)fS(Be)}function fS(a){var s=I1(a.alternate,a,Ca);a.memoizedProps=a.pendingProps,s===null?Ad(a):Be=s}function hS(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=T1(c,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=T1(c,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:hp(s);default:U1(c,s),s=Be=dw(s,Ca),s=I1(c,s,Ca)}a.memoizedProps=a.pendingProps,s===null?Ad(a):Be=s}function ko(a,s,c,m){ba=ts=null,hp(s),xo=null,Xl=0;var v=s.return;try{if(s3(a,v,s,c,Ke)){Mt=1,pd(a,hr(c,a.current)),Be=null;return}}catch(_){if(v!==null)throw Be=v,_;Mt=1,pd(a,hr(c,a.current)),Be=null;return}s.flags&32768?(Ve||m===1?a=!0:Oo||(Ke&536870912)!==0?a=!1:(gi=a=!0,(m===2||m===9||m===3||m===6)&&(m=Vn.current,m!==null&&m.tag===13&&(m.flags|=16384))),mS(s,a)):Ad(s)}function Ad(a){var s=a;do{if((s.flags&32768)!==0){mS(s,gi);return}a=s.return;var c=c3(s.alternate,s,Ca);if(c!==null){Be=c;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=a}while(s!==null);Mt===0&&(Mt=5)}function mS(a,s){do{var c=u3(a.alternate,a);if(c!==null){c.flags&=32767,Be=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Be=a;return}Be=a=c}while(a!==null);Mt=6,Be=null}function pS(a,s,c,m,v,_,E,M,U){a.cancelPendingCommit=null;do Cd();while(Xt!==0);if((rt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=zm,QR(a,c,_,E,M,U),a===mt&&(Be=mt=null,Ke=0),Co=s,bi=a,Ta=c,Vp=_,Wp=v,aS=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,w3(ae,function(){return xS(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=I.T,I.T=null,v=Y.p,Y.p=2,E=rt,rt|=4;try{d3(a,s,c)}finally{rt=E,Y.p=v,I.T=m}}Xt=1,gS(),yS(),vS()}}function gS(){if(Xt===1){Xt=0;var a=bi,s=Co,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=I.T,I.T=null;var m=Y.p;Y.p=2;var v=rt;rt|=4;try{X1(s,a);var _=ug,E=nw(a.containerInfo),M=_.focusedElem,U=_.selectionRange;if(E!==M&&M&&M.ownerDocument&&tw(M.ownerDocument.documentElement,M)){if(U!==null&&Dm(M)){var J=U.start,ie=U.end;if(ie===void 0&&(ie=J),"selectionStart"in M)M.selectionStart=J,M.selectionEnd=Math.min(ie,M.value.length);else{var ue=M.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),we=M.textContent.length,Re=Math.min(U.start,we),ft=U.end===void 0?Re:Math.min(U.end,we);!te.extend&&Re>ft&&(E=ft,ft=Re,Re=E);var G=ew(M,Re),z=ew(M,ft);if(G&&z&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==z.node||te.focusOffset!==z.offset)){var Q=ue.createRange();Q.setStart(G.node,G.offset),te.removeAllRanges(),Re>ft?(te.addRange(Q),te.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),te.addRange(Q))}}}}for(ue=[],te=M;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ue.length;M++){var le=ue[M];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Bd=!!cg,ug=cg=null}finally{rt=v,Y.p=m,I.T=c}}a.current=s,Xt=2}}function yS(){if(Xt===2){Xt=0;var a=bi,s=Co,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=I.T,I.T=null;var m=Y.p;Y.p=2;var v=rt;rt|=4;try{K1(a,s.alternate,s)}finally{rt=v,Y.p=m,I.T=c}}Xt=3}}function vS(){if(Xt===4||Xt===3){Xt=0,ha();var a=bi,s=Co,c=Ta,m=aS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,Co=bi=null,bS(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(vi=null),gm(c),s=s.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(lt,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=I.T,v=Y.p,Y.p=2,I.T=null;try{for(var _=a.onRecoverableError,E=0;E<m.length;E++){var M=m[E];_(M.value,{componentStack:M.stack})}}finally{I.T=s,Y.p=v}}(Ta&3)!==0&&Cd(),ea(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===Xp?hc++:(hc=0,Xp=a):hc=0,mc(0)}}function bS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Vl(s)))}function Cd(){return gS(),yS(),vS(),xS()}function xS(){if(Xt!==5)return!1;var a=bi,s=Vp;Vp=0;var c=gm(Ta),m=I.T,v=Y.p;try{Y.p=32>c?32:c,I.T=null,c=Wp,Wp=null;var _=bi,E=Ta;if(Xt=0,Co=bi=null,Ta=0,(rt&6)!==0)throw Error(r(331));var M=rt;if(rt|=4,tS(_.current),J1(_,_.current,E,c),rt=M,mc(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(lt,_)}catch{}return!0}finally{Y.p=v,I.T=m,bS(a,s)}}function _S(a,s,c){s=hr(c,s),s=Ap(a.stateNode,s,2),a=fi(a,s,2),a!==null&&(Rl(a,2),ea(a))}function it(a,s,c){if(a.tag===3)_S(a,a,c);else for(;s!==null;){if(s.tag===3){_S(s,a,c);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(vi===null||!vi.has(m))){a=hr(c,a),c=w1(2),m=fi(s,c,2),m!==null&&(S1(c,m,s,a),Rl(m,2),ea(m));break}}s=s.return}}function Zp(a,s,c){var m=a.pingCache;if(m===null){m=a.pingCache=new m3;var v=new Set;m.set(s,v)}else v=m.get(s),v===void 0&&(v=new Set,m.set(s,v));v.has(c)||(Kp=!0,v.add(c),a=b3.bind(null,a,s,c),s.then(a,a))}function b3(a,s,c){var m=a.pingCache;m!==null&&m.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,mt===a&&(Ke&c)===c&&(Mt===4||Mt===3&&(Ke&62914560)===Ke&&300>kt()-Sd?(rt&2)===0&&To(a,0):Gp|=c,Ao===Ke&&(Ao=0)),ea(a)}function wS(a,s){s===0&&(s=g_()),a=Ji(a,s),a!==null&&(Rl(a,s),ea(a))}function x3(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),wS(a,c)}function _3(a,s){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(s),wS(a,c)}function w3(a,s){return Pr(a,s)}var Td=null,Po=null,eg=!1,kd=!1,tg=!1,_i=0;function ea(a){a!==Po&&a.next===null&&(Po===null?Td=Po=a:Po=Po.next=a),kd=!0,eg||(eg=!0,j3())}function mc(a,s){if(!tg&&kd){tg=!0;do for(var c=!1,m=Td;m!==null;){if(a!==0){var v=m.pendingLanes;if(v===0)var _=0;else{var E=m.suspendedLanes,M=m.pingedLanes;_=(1<<31-ct(42|a)+1)-1,_&=v&~(E&~M),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,ES(m,_))}else _=Ke,_=Qs(m,m===mt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Ml(m,_)||(c=!0,ES(m,_));m=m.next}while(c);tg=!1}}function S3(){SS()}function SS(){kd=eg=!1;var a=0;_i!==0&&R3()&&(a=_i);for(var s=kt(),c=null,m=Td;m!==null;){var v=m.next,_=jS(m,s);_===0?(m.next=null,c===null?Td=v:c.next=v,v===null&&(Po=c)):(c=m,(a!==0||(_&3)!==0)&&(kd=!0)),m=v}Xt!==0&&Xt!==5||mc(a),_i!==0&&(_i=0)}function jS(a,s){for(var c=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var E=31-ct(_),M=1<<E,U=v[E];U===-1?((M&c)===0||(M&m)!==0)&&(v[E]=XR(M,s)):U<=s&&(a.expiredLanes|=M),_&=~M}if(s=mt,c=Ke,c=Qs(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===s&&(at===2||at===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Kn(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ml(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(m!==null&&Kn(m),gm(c)){case 2:case 8:c=ve;break;case 32:c=ae;break;case 268435456:c=he;break;default:c=ae}return m=NS.bind(null,a),c=Pr(c,m),a.callbackPriority=s,a.callbackNode=c,s}return m!==null&&m!==null&&Kn(m),a.callbackPriority=2,a.callbackNode=null,2}function NS(a,s){if(Xt!==0&&Xt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Cd()&&a.callbackNode!==c)return null;var m=Ke;return m=Qs(a,a===mt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(sS(a,m,s),jS(a,kt()),a.callbackNode!=null&&a.callbackNode===c?NS.bind(null,a):null)}function ES(a,s){if(Cd())return null;sS(a,s,!0)}function j3(){I3(function(){(rt&6)!==0?Pr(ri,S3):SS()})}function ng(){if(_i===0){var a=yo;a===0&&(a=Dt,Dt<<=1,(Dt&261888)===0&&(Dt=256)),_i=a}return _i}function OS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$u(""+a)}function AS(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function N3(a,s,c,m,v){if(s==="submit"&&c&&c.stateNode===v){var _=OS((v[Pn]||null).action),E=m.submitter;E&&(s=(s=E[Pn]||null)?OS(s.formAction):E.getAttribute("formAction"),s!==null&&(_=s,E=null));var M=new Hu("action","action",null,m,v);a.push({event:M,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(_i!==0){var U=E?AS(v,E):new FormData(v);wp(c,{pending:!0,data:U,method:v.method,action:_},null,U)}}else typeof _=="function"&&(M.preventDefault(),U=E?AS(v,E):new FormData(v),wp(c,{pending:!0,data:U,method:v.method,action:_},_,U))},currentTarget:v}]})}}for(var rg=0;rg<$m.length;rg++){var ag=$m[rg],E3=ag.toLowerCase(),O3=ag[0].toUpperCase()+ag.slice(1);Ir(E3,"on"+O3)}Ir(iw,"onAnimationEnd"),Ir(sw,"onAnimationIteration"),Ir(ow,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(HD,"onTransitionRun"),Ir(FD,"onTransitionStart"),Ir(KD,"onTransitionCancel"),Ir(lw,"onTransitionEnd"),no("onMouseEnter",["mouseout","mouseover"]),no("onMouseLeave",["mouseout","mouseover"]),no("onPointerEnter",["pointerout","pointerover"]),no("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function CS(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],v=m.event;m=m.listeners;e:{var _=void 0;if(s)for(var E=m.length-1;0<=E;E--){var M=m[E],U=M.instance,J=M.currentTarget;if(M=M.listener,U!==_&&v.isPropagationStopped())break e;_=M,v.currentTarget=J;try{_(v)}catch(ie){Gu(ie)}v.currentTarget=null,_=U}else for(E=0;E<m.length;E++){if(M=m[E],U=M.instance,J=M.currentTarget,M=M.listener,U!==_&&v.isPropagationStopped())break e;_=M,v.currentTarget=J;try{_(v)}catch(ie){Gu(ie)}v.currentTarget=null,_=U}}}}function qe(a,s){var c=s[ym];c===void 0&&(c=s[ym]=new Set);var m=a+"__bubble";c.has(m)||(TS(s,a,2,!1),c.add(m))}function ig(a,s,c){var m=0;s&&(m|=4),TS(c,a,m,s)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function sg(a){if(!a[Pd]){a[Pd]=!0,S_.forEach(function(c){c!=="selectionchange"&&(A3.has(c)||ig(c,!1,a),ig(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Pd]||(s[Pd]=!0,ig("selectionchange",!1,s))}}function TS(a,s,c,m){switch(ij(s)){case 2:var v=n4;break;case 8:v=r4;break;default:v=_g}c=v.bind(null,s,c,a),v=void 0,!Em||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(s,c,{capture:!0,passive:v}):a.addEventListener(s,c,!0):v!==void 0?a.addEventListener(s,c,{passive:v}):a.addEventListener(s,c,!1)}function og(a,s,c,m,v){var _=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var E=m.tag;if(E===3||E===4){var M=m.stateNode.containerInfo;if(M===v)break;if(E===4)for(E=m.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===v)return;E=E.return}for(;M!==null;){if(E=Zs(M),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){m=_=E;continue e}M=M.parentNode}}m=m.return}D_(function(){var J=_,ie=jm(c),ue=[];e:{var Z=cw.get(a);if(Z!==void 0){var te=Hu,we=a;switch(a){case"keypress":if(Bu(c)===0)break e;case"keydown":case"keyup":te=_D;break;case"focusin":we="focus",te=Tm;break;case"focusout":we="blur",te=Tm;break;case"beforeblur":case"afterblur":te=Tm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=U_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=cD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=jD;break;case iw:case sw:case ow:te=fD;break;case lw:te=ED;break;case"scroll":case"scrollend":te=oD;break;case"wheel":te=AD;break;case"copy":case"cut":case"paste":te=mD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=z_;break;case"toggle":case"beforetoggle":te=TD}var Re=(s&4)!==0,ft=!Re&&(a==="scroll"||a==="scrollend"),G=Re?Z!==null?Z+"Capture":null:Z;Re=[];for(var z=J,Q;z!==null;){var le=z;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||G===null||(le=Ll(z,G),le!=null&&Re.push(gc(z,le,Q))),ft)break;z=z.return}0<Re.length&&(Z=new te(Z,we,null,c,ie),ue.push({event:Z,listeners:Re}))}}if((s&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",Z&&c!==Sm&&(we=c.relatedTarget||c.fromElement)&&(Zs(we)||we[Js]))break e;if((te||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(we=c.relatedTarget||c.toElement,te=J,we=we?Zs(we):null,we!==null&&(ft=o(we),Re=we.tag,we!==ft||Re!==5&&Re!==27&&Re!==6)&&(we=null)):(te=null,we=J),te!==we)){if(Re=U_,le="onMouseLeave",G="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Re=z_,le="onPointerLeave",G="onPointerEnter",z="pointer"),ft=te==null?Z:Il(te),Q=we==null?Z:Il(we),Z=new Re(le,z+"leave",te,c,ie),Z.target=ft,Z.relatedTarget=Q,le=null,Zs(ie)===J&&(Re=new Re(G,z+"enter",we,c,ie),Re.target=Q,Re.relatedTarget=ft,le=Re),ft=le,te&&we)t:{for(Re=C3,G=te,z=we,Q=0,le=G;le;le=Re(le))Q++;le=0;for(var Te=z;Te;Te=Re(Te))le++;for(;0<Q-le;)G=Re(G),Q--;for(;0<le-Q;)z=Re(z),le--;for(;Q--;){if(G===z||z!==null&&G===z.alternate){Re=G;break t}G=Re(G),z=Re(z)}Re=null}else Re=null;te!==null&&kS(ue,Z,te,Re,!1),we!==null&&ft!==null&&kS(ue,ft,we,Re,!0)}}e:{if(Z=J?Il(J):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var Ze=V_;else if(G_(Z))if(W_)Ze=zD;else{Ze=UD;var Ne=LD}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&wm(J.elementType)&&(Ze=V_):Ze=$D;if(Ze&&(Ze=Ze(a,J))){Y_(ue,Ze,c,ie);break e}Ne&&Ne(a,Z,J),a==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&_m(Z,"number",Z.value)}switch(Ne=J?Il(J):window,a){case"focusin":(G_(Ne)||Ne.contentEditable==="true")&&(lo=Ne,Im=J,Kl=null);break;case"focusout":Kl=Im=lo=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,rw(ue,c,ie);break;case"selectionchange":if(qD)break;case"keydown":case"keyup":rw(ue,c,ie)}var $e;if(Pm)e:{switch(a){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else oo?F_(a,c)&&(Ge="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(B_&&c.locale!=="ko"&&(oo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&oo&&($e=I_()):(ii=ie,Om="value"in ii?ii.value:ii.textContent,oo=!0)),Ne=Md(J,Ge),0<Ne.length&&(Ge=new $_(Ge,a,null,c,ie),ue.push({event:Ge,listeners:Ne}),$e?Ge.data=$e:($e=K_(c),$e!==null&&(Ge.data=$e)))),($e=PD?MD(a,c):RD(a,c))&&(Ge=Md(J,"onBeforeInput"),0<Ge.length&&(Ne=new $_("onBeforeInput","beforeinput",null,c,ie),ue.push({event:Ne,listeners:Ge}),Ne.data=$e)),N3(ue,a,J,c,ie)}CS(ue,s)})}function gc(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Md(a,s){for(var c=s+"Capture",m=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ll(a,c),v!=null&&m.unshift(gc(a,v,_)),v=Ll(a,s),v!=null&&m.push(gc(a,v,_))),a.tag===3)return m;a=a.return}return[]}function C3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function kS(a,s,c,m,v){for(var _=s._reactName,E=[];c!==null&&c!==m;){var M=c,U=M.alternate,J=M.stateNode;if(M=M.tag,U!==null&&U===m)break;M!==5&&M!==26&&M!==27||J===null||(U=J,v?(J=Ll(c,_),J!=null&&E.unshift(gc(c,J,U))):v||(J=Ll(c,_),J!=null&&E.push(gc(c,J,U)))),c=c.return}E.length!==0&&a.push({event:s,listeners:E})}var T3=/\r\n?/g,k3=/\u0000|\uFFFD/g;function PS(a){return(typeof a=="string"?a:""+a).replace(T3,`
`).replace(k3,"")}function MS(a,s){return s=PS(s),PS(a)===s}function dt(a,s,c,m,v,_){switch(c){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||ao(a,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&ao(a,""+m);break;case"className":Lu(a,"class",m);break;case"tabIndex":Lu(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Lu(a,c,m);break;case"style":M_(a,m,_);break;case"data":if(s!=="object"){Lu(a,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=$u(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(s!=="input"&&dt(a,s,"name",v.name,v,null),dt(a,s,"formEncType",v.formEncType,v,null),dt(a,s,"formMethod",v.formMethod,v,null),dt(a,s,"formTarget",v.formTarget,v,null)):(dt(a,s,"encType",v.encType,v,null),dt(a,s,"method",v.method,v,null),dt(a,s,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=$u(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=pa);break;case"onScroll":m!=null&&qe("scroll",a);break;case"onScrollEnd":m!=null&&qe("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=$u(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":qe("beforetoggle",a),qe("toggle",a),Iu(a,"popover",m);break;case"xlinkActuate":ma(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ma(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ma(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ma(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ma(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ma(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ma(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ma(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ma(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Iu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=iD.get(c)||c,Iu(a,c,m))}}function lg(a,s,c,m,v,_){switch(c){case"style":M_(a,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?ao(a,m):(typeof m=="number"||typeof m=="bigint")&&ao(a,""+m);break;case"onScroll":m!=null&&qe("scroll",a);break;case"onScrollEnd":m!=null&&qe("scrollend",a);break;case"onClick":m!=null&&(a.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!j_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),_=a[Pn]||null,_=_!=null?_[c]:null,typeof _=="function"&&a.removeEventListener(s,_,v),typeof m=="function")){typeof _!="function"&&_!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,m,v);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Iu(a,c,m)}}}function vn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",a),qe("load",a);var m=!1,v=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var E=c[_];if(E!=null)switch(_){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(a,s,_,E,c,null)}}v&&dt(a,s,"srcSet",c.srcSet,c,null),m&&dt(a,s,"src",c.src,c,null);return;case"input":qe("invalid",a);var M=_=E=v=null,U=null,J=null;for(m in c)if(c.hasOwnProperty(m)){var ie=c[m];if(ie!=null)switch(m){case"name":v=ie;break;case"type":E=ie;break;case"checked":U=ie;break;case"defaultChecked":J=ie;break;case"value":_=ie;break;case"defaultValue":M=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:dt(a,s,m,ie,c,null)}}C_(a,_,M,U,J,E,v,!1);return;case"select":qe("invalid",a),m=E=_=null;for(v in c)if(c.hasOwnProperty(v)&&(M=c[v],M!=null))switch(v){case"value":_=M;break;case"defaultValue":E=M;break;case"multiple":m=M;default:dt(a,s,v,M,c,null)}s=_,c=E,a.multiple=!!m,s!=null?ro(a,!!m,s,!1):c!=null&&ro(a,!!m,c,!0);return;case"textarea":qe("invalid",a),_=v=m=null;for(E in c)if(c.hasOwnProperty(E)&&(M=c[E],M!=null))switch(E){case"value":m=M;break;case"defaultValue":v=M;break;case"children":_=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:dt(a,s,E,M,c,null)}k_(a,m,v,_);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(m=c[U],m!=null))switch(U){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:dt(a,s,U,m,c,null)}return;case"dialog":qe("beforetoggle",a),qe("toggle",a),qe("cancel",a),qe("close",a);break;case"iframe":case"object":qe("load",a);break;case"video":case"audio":for(m=0;m<pc.length;m++)qe(pc[m],a);break;case"image":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"embed":case"source":case"link":qe("error",a),qe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(m=c[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(a,s,J,m,c,null)}return;default:if(wm(s)){for(ie in c)c.hasOwnProperty(ie)&&(m=c[ie],m!==void 0&&lg(a,s,ie,m,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(m=c[M],m!=null&&dt(a,s,M,m,c,null))}function P3(a,s,c,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,E=null,M=null,U=null,J=null,ie=null;for(te in c){var ue=c[te];if(c.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=ue;default:m.hasOwnProperty(te)||dt(a,s,te,null,m,ue)}}for(var Z in m){var te=m[Z];if(ue=c[Z],m.hasOwnProperty(Z)&&(te!=null||ue!=null))switch(Z){case"type":_=te;break;case"name":v=te;break;case"checked":J=te;break;case"defaultChecked":ie=te;break;case"value":E=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==ue&&dt(a,s,Z,te,m,ue)}}xm(a,E,M,U,J,ie,_,v);return;case"select":te=E=M=Z=null;for(_ in c)if(U=c[_],c.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":te=U;default:m.hasOwnProperty(_)||dt(a,s,_,null,m,U)}for(v in m)if(_=m[v],U=c[v],m.hasOwnProperty(v)&&(_!=null||U!=null))switch(v){case"value":Z=_;break;case"defaultValue":M=_;break;case"multiple":E=_;default:_!==U&&dt(a,s,v,_,m,U)}s=M,c=E,m=te,Z!=null?ro(a,!!c,Z,!1):!!m!=!!c&&(s!=null?ro(a,!!c,s,!0):ro(a,!!c,c?[]:"",!1));return;case"textarea":te=Z=null;for(M in c)if(v=c[M],c.hasOwnProperty(M)&&v!=null&&!m.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:dt(a,s,M,null,m,v)}for(E in m)if(v=m[E],_=c[E],m.hasOwnProperty(E)&&(v!=null||_!=null))switch(E){case"value":Z=v;break;case"defaultValue":te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&dt(a,s,E,v,m,_)}T_(a,Z,te);return;case"option":for(var we in c)if(Z=c[we],c.hasOwnProperty(we)&&Z!=null&&!m.hasOwnProperty(we))switch(we){case"selected":a.selected=!1;break;default:dt(a,s,we,null,m,Z)}for(U in m)if(Z=m[U],te=c[U],m.hasOwnProperty(U)&&Z!==te&&(Z!=null||te!=null))switch(U){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:dt(a,s,U,Z,m,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in c)Z=c[Re],c.hasOwnProperty(Re)&&Z!=null&&!m.hasOwnProperty(Re)&&dt(a,s,Re,null,m,Z);for(J in m)if(Z=m[J],te=c[J],m.hasOwnProperty(J)&&Z!==te&&(Z!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:dt(a,s,J,Z,m,te)}return;default:if(wm(s)){for(var ft in c)Z=c[ft],c.hasOwnProperty(ft)&&Z!==void 0&&!m.hasOwnProperty(ft)&&lg(a,s,ft,void 0,m,Z);for(ie in m)Z=m[ie],te=c[ie],!m.hasOwnProperty(ie)||Z===te||Z===void 0&&te===void 0||lg(a,s,ie,Z,m,te);return}}for(var G in c)Z=c[G],c.hasOwnProperty(G)&&Z!=null&&!m.hasOwnProperty(G)&&dt(a,s,G,null,m,Z);for(ue in m)Z=m[ue],te=c[ue],!m.hasOwnProperty(ue)||Z===te||Z==null&&te==null||dt(a,s,ue,Z,m,te)}function RS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var v=c[m],_=v.transferSize,E=v.initiatorType,M=v.duration;if(_&&M&&RS(E)){for(E=0,M=v.responseEnd,m+=1;m<c.length;m++){var U=c[m],J=U.startTime;if(J>M)break;var ie=U.transferSize,ue=U.initiatorType;ie&&RS(ue)&&(U=U.responseEnd,E+=ie*(U<M?1:(M-J)/(U-J)))}if(--m,s+=8*(_+E)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var cg=null,ug=null;function Rd(a){return a.nodeType===9?a:a.ownerDocument}function DS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function dg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fg=null;function R3(){var a=window.event;return a&&a.type==="popstate"?a===fg?!1:(fg=a,!0):(fg=null,!1)}var LS=typeof setTimeout=="function"?setTimeout:void 0,D3=typeof clearTimeout=="function"?clearTimeout:void 0,US=typeof Promise=="function"?Promise:void 0,I3=typeof queueMicrotask=="function"?queueMicrotask:typeof US<"u"?function(a){return US.resolve(null).then(a).catch(L3)}:LS;function L3(a){setTimeout(function(){throw a})}function wi(a){return a==="head"}function $S(a,s){var c=s,m=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(v),Io(s);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")yc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,yc(c);for(var _=c.firstChild;_;){var E=_.nextSibling,M=_.nodeName;_[Dl]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=E}}else c==="body"&&yc(a.ownerDocument.body);c=v}while(c);Io(s)}function zS(a,s){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function hg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":hg(c),vm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function U3(a,s,c,m){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Dl])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=vr(a.nextSibling),a===null)break}return null}function $3(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=vr(a.nextSibling),a===null))return null;return a}function BS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=vr(a.nextSibling),a===null))return null;return a}function mg(a){return a.data==="$?"||a.data==="$~"}function pg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function z3(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var m=function(){s(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function vr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var gg=null;function qS(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return vr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function HS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function FS(a,s,c){switch(s=Rd(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function yc(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);vm(a)}var br=new Map,KS=new Set;function Dd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ka=Y.d;Y.d={f:B3,r:q3,D:H3,C:F3,L:K3,m:G3,X:V3,S:Y3,M:W3};function B3(){var a=ka.f(),s=Ed();return a||s}function q3(a){var s=eo(a);s!==null&&s.tag===5&&s.type==="form"?l1(s):ka.r(a)}var Mo=typeof document>"u"?null:document;function GS(a,s,c){var m=Mo;if(m&&typeof s=="string"&&s){var v=dr(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),KS.has(v)||(KS.add(v),a={rel:a,crossOrigin:c,href:s},m.querySelector(v)===null&&(s=m.createElement("link"),vn(s,"link",a),sn(s),m.head.appendChild(s)))}}function H3(a){ka.D(a),GS("dns-prefetch",a,null)}function F3(a,s){ka.C(a,s),GS("preconnect",a,s)}function K3(a,s,c){ka.L(a,s,c);var m=Mo;if(m&&a&&s){var v='link[rel="preload"][as="'+dr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+dr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+dr(c.imageSizes)+'"]')):v+='[href="'+dr(a)+'"]';var _=v;switch(s){case"style":_=Ro(a);break;case"script":_=Do(a)}br.has(_)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),br.set(_,a),m.querySelector(v)!==null||s==="style"&&m.querySelector(vc(_))||s==="script"&&m.querySelector(bc(_))||(s=m.createElement("link"),vn(s,"link",a),sn(s),m.head.appendChild(s)))}}function G3(a,s){ka.m(a,s);var c=Mo;if(c&&a){var m=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+dr(m)+'"][href="'+dr(a)+'"]',_=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Do(a)}if(!br.has(_)&&(a=g({rel:"modulepreload",href:a},s),br.set(_,a),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bc(_)))return}m=c.createElement("link"),vn(m,"link",a),sn(m),c.head.appendChild(m)}}}function Y3(a,s,c){ka.S(a,s,c);var m=Mo;if(m&&a){var v=to(m).hoistableStyles,_=Ro(a);s=s||"default";var E=v.get(_);if(!E){var M={loading:0,preload:null};if(E=m.querySelector(vc(_)))M.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=br.get(_))&&yg(a,c);var U=E=m.createElement("link");sn(U),vn(U,"link",a),U._p=new Promise(function(J,ie){U.onload=J,U.onerror=ie}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Id(E,s,m)}E={type:"stylesheet",instance:E,count:1,state:M},v.set(_,E)}}}function V3(a,s){ka.X(a,s);var c=Mo;if(c&&a){var m=to(c).hoistableScripts,v=Do(a),_=m.get(v);_||(_=c.querySelector(bc(v)),_||(a=g({src:a,async:!0},s),(s=br.get(v))&&vg(a,s),_=c.createElement("script"),sn(_),vn(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function W3(a,s){ka.M(a,s);var c=Mo;if(c&&a){var m=to(c).hoistableScripts,v=Do(a),_=m.get(v);_||(_=c.querySelector(bc(v)),_||(a=g({src:a,async:!0,type:"module"},s),(s=br.get(v))&&vg(a,s),_=c.createElement("script"),sn(_),vn(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(v,_))}}function YS(a,s,c,m){var v=(v=xe.current)?Dd(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ro(c.href),c=to(v).hoistableStyles,m=c.get(s),m||(m={type:"style",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ro(c.href);var _=to(v).hoistableStyles,E=_.get(a);if(E||(v=v.ownerDocument||v,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,E),(_=v.querySelector(vc(a)))&&!_._p&&(E.instance=_,E.state.loading=5),br.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},br.set(a,c),_||X3(v,a,c,E.state))),s&&m===null)throw Error(r(528,""));return E}if(s&&m!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Do(c),c=to(v).hoistableScripts,m=c.get(s),m||(m={type:"script",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ro(a){return'href="'+dr(a)+'"'}function vc(a){return'link[rel="stylesheet"]['+a+"]"}function VS(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function X3(a,s,c,m){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=a.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),vn(s,"link",c),sn(s),a.head.appendChild(s))}function Do(a){return'[src="'+dr(a)+'"]'}function bc(a){return"script[async]"+a}function WS(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var m=a.querySelector('style[data-href~="'+dr(c.href)+'"]');if(m)return s.instance=m,sn(m),m;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),sn(m),vn(m,"style",v),Id(m,c.precedence,a),s.instance=m;case"stylesheet":v=Ro(c.href);var _=a.querySelector(vc(v));if(_)return s.state.loading|=4,s.instance=_,sn(_),_;m=VS(c),(v=br.get(v))&&yg(m,v),_=(a.ownerDocument||a).createElement("link"),sn(_);var E=_;return E._p=new Promise(function(M,U){E.onload=M,E.onerror=U}),vn(_,"link",m),s.state.loading|=4,Id(_,c.precedence,a),s.instance=_;case"script":return _=Do(c.src),(v=a.querySelector(bc(_)))?(s.instance=v,sn(v),v):(m=c,(v=br.get(_))&&(m=g({},c),vg(m,v)),a=a.ownerDocument||a,v=a.createElement("script"),sn(v),vn(v,"link",m),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,Id(m,c.precedence,a));return s.instance}function Id(a,s,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,_=v,E=0;E<m.length;E++){var M=m[E];if(M.dataset.precedence===s)_=M;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function yg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function vg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Ld=null;function XS(a,s,c){if(Ld===null){var m=new Map,v=Ld=new Map;v.set(c,m)}else v=Ld,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var _=c[v];if(!(_[Dl]||_[mn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(s)||"";E=a+E;var M=m.get(E);M?M.push(_):m.set(E,[_])}}return m}function QS(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function Q3(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function JS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function J3(a,s,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Ro(m.href),_=s.querySelector(vc(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Ud.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=_,sn(_);return}_=s.ownerDocument||s,m=VS(m),(v=br.get(v))&&yg(m,v),_=_.createElement("link"),sn(_);var E=_;E._p=new Promise(function(M,U){E.onload=M,E.onerror=U}),vn(_,"link",m),c.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Ud.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var bg=0;function Z3(a,s){return a.stylesheets&&a.count===0&&zd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&zd(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&bg===0&&(bg=62500*M3());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&zd(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>bg?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Ud(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var $d=null;function zd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,$d=new Map,s.forEach(e4,a),$d=null,Ud.call(a))}function e4(a,s){if(!(s.state.loading&4)){var c=$d.get(a);if(c)var m=c.get(null);else{c=new Map,$d.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var E=v[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),m=E)}m&&c.set(null,m)}v=s.instance,E=v.getAttribute("data-precedence"),_=c.get(E)||m,_===m&&c.set(null,v),c.set(E,v),this.count++,m=Ud.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var xc={$$typeof:O,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function t4(a,s,c,m,v,_,E,M,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.hiddenUpdates=mm(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function ZS(a,s,c,m,v,_,E,M,U,J,ie,ue){return a=new t4(a,s,c,E,U,J,ie,ue,M),s=1,_===!0&&(s|=24),_=Yn(3,null,null,s),a.current=_,_.stateNode=a,s=Jm(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:m,isDehydrated:c,cache:s},np(_),a}function ej(a){return a?(a=fo,a):fo}function tj(a,s,c,m,v,_){v=ej(v),m.context===null?m.context=v:m.pendingContext=v,m=di(s),m.payload={element:c},_=_===void 0?null:_,_!==null&&(m.callback=_),c=fi(a,m,s),c!==null&&(Un(c,a,s),Jl(c,a,s))}function nj(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function xg(a,s){nj(a,s),(a=a.alternate)&&nj(a,s)}function rj(a){if(a.tag===13||a.tag===31){var s=Ji(a,67108864);s!==null&&Un(s,a,67108864),xg(a,67108864)}}function aj(a){if(a.tag===13||a.tag===31){var s=Jn();s=pm(s);var c=Ji(a,s);c!==null&&Un(c,a,s),xg(a,s)}}var Bd=!0;function n4(a,s,c,m){var v=I.T;I.T=null;var _=Y.p;try{Y.p=2,_g(a,s,c,m)}finally{Y.p=_,I.T=v}}function r4(a,s,c,m){var v=I.T;I.T=null;var _=Y.p;try{Y.p=8,_g(a,s,c,m)}finally{Y.p=_,I.T=v}}function _g(a,s,c,m){if(Bd){var v=wg(m);if(v===null)og(a,s,m,qd,c),sj(a,m);else if(i4(v,a,s,c,m))m.stopPropagation();else if(sj(a,m),s&4&&-1<a4.indexOf(a)){for(;v!==null;){var _=eo(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=zt(_.pendingLanes);if(E!==0){var M=_;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var U=1<<31-ct(E);M.entanglements[1]|=U,E&=~U}ea(_),(rt&6)===0&&(jd=kt()+500,mc(0))}}break;case 31:case 13:M=Ji(_,2),M!==null&&Un(M,_,2),Ed(),xg(_,2)}if(_=wg(m),_===null&&og(a,s,m,qd,c),_===v)break;v=_}v!==null&&m.stopPropagation()}else og(a,s,m,null,c)}}function wg(a){return a=jm(a),Sg(a)}var qd=null;function Sg(a){if(qd=null,a=Zs(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=d(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return qd=a,null}function ij(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rr()){case ri:return 2;case ve:return 8;case ae:case fe:return 32;case he:return 268435456;default:return 32}default:return 32}}var jg=!1,Si=null,ji=null,Ni=null,_c=new Map,wc=new Map,Ei=[],a4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sj(a,s){switch(a){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":_c.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(s.pointerId)}}function Sc(a,s,c,m,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:c,eventSystemFlags:m,nativeEvent:_,targetContainers:[v]},s!==null&&(s=eo(s),s!==null&&rj(s)),a):(a.eventSystemFlags|=m,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function i4(a,s,c,m,v){switch(s){case"focusin":return Si=Sc(Si,a,s,c,m,v),!0;case"dragenter":return ji=Sc(ji,a,s,c,m,v),!0;case"mouseover":return Ni=Sc(Ni,a,s,c,m,v),!0;case"pointerover":var _=v.pointerId;return _c.set(_,Sc(_c.get(_)||null,a,s,c,m,v)),!0;case"gotpointercapture":return _=v.pointerId,wc.set(_,Sc(wc.get(_)||null,a,s,c,m,v)),!0}return!1}function oj(a){var s=Zs(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,__(a.priority,function(){aj(c)});return}}else if(s===31){if(s=d(c),s!==null){a.blockedOn=s,__(a.priority,function(){aj(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Hd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=wg(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);Sm=m,c.target.dispatchEvent(m),Sm=null}else return s=eo(c),s!==null&&rj(s),a.blockedOn=c,!1;s.shift()}return!0}function lj(a,s,c){Hd(a)&&c.delete(s)}function s4(){jg=!1,Si!==null&&Hd(Si)&&(Si=null),ji!==null&&Hd(ji)&&(ji=null),Ni!==null&&Hd(Ni)&&(Ni=null),_c.forEach(lj),wc.forEach(lj)}function Fd(a,s){a.blockedOn===s&&(a.blockedOn=null,jg||(jg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,s4)))}var Kd=null;function cj(a){Kd!==a&&(Kd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kd===a&&(Kd=null);for(var s=0;s<a.length;s+=3){var c=a[s],m=a[s+1],v=a[s+2];if(typeof m!="function"){if(Sg(m||c)===null)continue;break}var _=eo(c);_!==null&&(a.splice(s,3),s-=3,wp(_,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function Io(a){function s(U){return Fd(U,a)}Si!==null&&Fd(Si,a),ji!==null&&Fd(ji,a),Ni!==null&&Fd(Ni,a),_c.forEach(s),wc.forEach(s);for(var c=0;c<Ei.length;c++){var m=Ei[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ei.length&&(c=Ei[0],c.blockedOn===null);)oj(c),c.blockedOn===null&&Ei.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],_=c[m+1],E=v[Pn]||null;if(typeof _=="function")E||cj(c);else if(E){var M=null;if(_&&_.hasAttribute("formAction")){if(v=_,E=_[Pn]||null)M=E.formAction;else if(Sg(v)!==null)continue}else M=E.action;typeof M=="function"?c[m+1]=M:(c.splice(m,3),m-=3),cj(c)}}}function uj(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(E){return v=E})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function Ng(a){this._internalRoot=a}Gd.prototype.render=Ng.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,m=Jn();tj(c,m,a,s,null,null)},Gd.prototype.unmount=Ng.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;tj(a.current,2,null,a,null,null),Ed(),s[Js]=null}};function Gd(a){this._internalRoot=a}Gd.prototype.unstable_scheduleHydration=function(a){if(a){var s=x_();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Ei.length&&s!==0&&s<Ei[c].priority;c++);Ei.splice(c,0,a),c===0&&oj(a)}};var dj=t.version;if(dj!=="19.2.0")throw Error(r(527,dj,"19.2.0"));Y.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var o4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{lt=Yd.inject(o4),De=Yd}catch{}}return Nc.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,m="",v=v1,_=b1,E=x1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=ZS(a,1,!1,null,null,c,m,null,v,_,E,uj),a[Js]=s.current,sg(a),new Ng(s)},Nc.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var m=!1,v="",_=v1,E=b1,M=x1,U=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),s=ZS(a,1,!0,s,c??null,m,v,U,_,E,M,uj),s.context=ej(null),c=s.current,m=Jn(),m=pm(m),v=di(m),v.callback=null,fi(c,v,m),c=m,s.current.lanes=c,Rl(s,c),ea(s),a[Js]=s.current,sg(a),new Gd(s)},Nc.version="19.2.0",Nc}var _j;function _4(){if(_j)return Cg.exports;_j=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cg.exports=x4(),Cg.exports}var w4=_4();const S4=Vr(w4);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wj="popstate";function j4(e={}){function t(r,i){let{pathname:o,search:l,hash:d}=r.location;return Ov("",{pathname:o,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Yc(i)}return E4(t,n,null,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N4(){return Math.random().toString(36).substring(2,10)}function Sj(e,t){return{usr:e.state,key:e.key,idx:t}}function Ov(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bl(t):t,state:n,key:t&&t.key||r||N4()}}function Yc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E4(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let j=p(),N=j==null?null:j-h;h=j,f&&f({action:d,location:S.location,delta:N})}function y(j,N){d="PUSH";let A=Ov(S.location,j,N);h=p()+1;let O=Sj(A,h),C=S.createHref(A);try{l.pushState(O,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(C)}o&&f&&f({action:d,location:S.location,delta:1})}function b(j,N){d="REPLACE";let A=Ov(S.location,j,N);h=p();let O=Sj(A,h),C=S.createHref(A);l.replaceState(O,"",C),o&&f&&f({action:d,location:S.location,delta:0})}function w(j){return O4(j)}let S={get action(){return d},get location(){return e(i,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(wj,g),f=j,()=>{i.removeEventListener(wj,g),f=null}},createHref(j){return t(i,j)},createURL:w,encodeLocation(j){let N=w(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:b,go(j){return l.go(j)}};return S}function O4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Yc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kA(e,t,n="/"){return A4(e,t,n,!1)}function A4(e,t,n,r){let i=typeof t=="string"?bl(t):t,o=Fa(i.pathname||"/",n);if(o==null)return null;let l=PA(e);C4(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=z4(o);d=U4(l[f],h,r)}return d}function PA(e,t=[],n=[],r="",i=!1){let o=(l,d,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;Et(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=za([r,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),PA(l.children,t,y,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:I4(g,l.index),routesMeta:y})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,d);else for(let h of MA(l.path))o(l,d,!0,h)}),t}function MA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=MA(r.join("/")),d=[];return d.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function C4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:L4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var T4=/^:[\w-]+$/,k4=3,P4=2,M4=1,R4=10,D4=-2,jj=e=>e==="*";function I4(e,t){let n=e.split("/"),r=n.length;return n.some(jj)&&(r+=D4),t&&(r+=P4),n.filter(i=>!jj(i)).reduce((i,o)=>i+(T4.test(o)?k4:o===""?M4:R4),r)}function L4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function U4(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Pf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Pf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:za([o,g.pathname]),pathnameBase:F4(za([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=za([o,g.pathnameBase]))}return l}function Pf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let w=d[y]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[y];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function $4(e,t=!1,n=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function z4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function B4(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bl(e):e;return{pathname:n?n.startsWith("/")?n:q4(n,t):t,search:K4(r),hash:G4(i)}}function q4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function F0(e){let t=H4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function K0(e,t,n,r=!1){let i;typeof e=="string"?i=bl(e):(i={...e},Et(!i.pathname||!i.pathname.includes("?"),Mg("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),Mg("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),Mg("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}d=g>=0?t[g]:"/"}let f=B4(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var za=e=>e.join("/").replace(/\/\/+/g,"/"),F4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var RA=["POST","PUT","PATCH","DELETE"];new Set(RA);var V4=["GET",...RA];new Set(V4);var xl=x.createContext(null);xl.displayName="DataRouter";var Ah=x.createContext(null);Ah.displayName="DataRouterState";x.createContext(!1);var DA=x.createContext({isTransitioning:!1});DA.displayName="ViewTransition";var W4=x.createContext(new Map);W4.displayName="Fetchers";var X4=x.createContext(null);X4.displayName="Await";var Wr=x.createContext(null);Wr.displayName="Navigation";var du=x.createContext(null);du.displayName="Location";var Cr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var G0=x.createContext(null);G0.displayName="RouteError";function Q4(e,{relative:t}={}){Et(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Wr),{hash:i,pathname:o,search:l}=fu(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:za([n,o])),r.createHref({pathname:d,search:l,hash:i})}function _l(){return x.useContext(du)!=null}function qi(){return Et(_l(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(du).location}var IA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LA(e){x.useContext(Wr).static||x.useLayoutEffect(e)}function Xa(){let{isDataRoute:e}=x.useContext(Cr);return e?hI():J4()}function J4(){Et(_l(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(xl),{basename:t,navigator:n}=x.useContext(Wr),{matches:r}=x.useContext(Cr),{pathname:i}=qi(),o=JSON.stringify(F0(r)),l=x.useRef(!1);return LA(()=>{l.current=!0}),x.useCallback((f,h={})=>{if(Yr(l.current,IA),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=K0(f,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:za([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,i,e])}var Z4=x.createContext(null);function eI(e){let t=x.useContext(Cr).outlet;return x.useMemo(()=>t&&x.createElement(Z4.Provider,{value:e},t),[t,e])}function tI(){let{matches:e}=x.useContext(Cr),t=e[e.length-1];return t?t.params:{}}function fu(e,{relative:t}={}){let{matches:n}=x.useContext(Cr),{pathname:r}=qi(),i=JSON.stringify(F0(n));return x.useMemo(()=>K0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function nI(e,t){return UA(e,t)}function UA(e,t,n,r,i){var A;Et(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(Wr),{matches:l}=x.useContext(Cr),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let O=g&&g.path||"";$A(h,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=qi(),b;if(t){let O=typeof t=="string"?bl(t):t;Et(p==="/"||((A=O.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=y;let w=b.pathname||"/",S=w;if(p!=="/"){let O=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let j=kA(e,{pathname:S});Yr(g||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=oI(j&&j.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:za([p,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:za([p,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),l,n,r,i);return t&&N?x.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function rI(){let e=fI(),t=Y4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,l)}var aI=x.createElement(rI,null),iI=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Cr.Provider,{value:this.props.routeContext},x.createElement(G0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sI({routeContext:e,match:t,children:n}){let r=x.useContext(xl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Cr.Provider,{value:e},n)}function oI(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Et(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,f=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:y}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let y,b=!1,w=null,S=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||aI,d&&(f<0&&g===0?($A("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):f===g&&(b=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,g+1)),N=()=>{let A;return y?A=w:b?A=S:p.route.Component?A=x.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,x.createElement(sI,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?x.createElement(iI,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):N()},null)}function Y0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lI(e){let t=x.useContext(xl);return Et(t,Y0(e)),t}function cI(e){let t=x.useContext(Ah);return Et(t,Y0(e)),t}function uI(e){let t=x.useContext(Cr);return Et(t,Y0(e)),t}function V0(e){let t=uI(e),n=t.matches[t.matches.length-1];return Et(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function dI(){return V0("useRouteId")}function fI(){var r;let e=x.useContext(G0),t=cI("useRouteError"),n=V0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function hI(){let{router:e}=lI("useNavigate"),t=V0("useNavigate"),n=x.useRef(!1);return LA(()=>{n.current=!0}),x.useCallback(async(i,o={})=>{Yr(n.current,IA),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Nj={};function $A(e,t,n){!t&&!Nj[e]&&(Nj[e]=!0,Yr(!1,n))}x.memo(mI);function mI({routes:e,future:t,state:n,unstable_onError:r}){return UA(e,void 0,n,r,t)}function Mf({to:e,replace:t,state:n,relative:r}){Et(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Wr);Yr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Cr),{pathname:l}=qi(),d=Xa(),f=K0(e,F0(o),l,r==="path"),h=JSON.stringify(f);return x.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function pI(e){return eI(e.context)}function Sn(e){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gI({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Et(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=bl(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:y="default"}=n,b=x.useMemo(()=>{let w=Fa(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:y},navigationType:r}},[l,f,h,p,g,y,r]);return Yr(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Wr.Provider,{value:d},x.createElement(du.Provider,{children:t,value:b}))}function yI({children:e,location:t}){return nI(Av(e),t)}function Av(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Av(r.props.children,o));return}Et(r.type===Sn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Av(r.props.children,o)),n.push(l)}),n}var Nf="get",Ef="application/x-www-form-urlencoded";function Ch(e){return e!=null&&typeof e.tagName=="string"}function vI(e){return Ch(e)&&e.tagName.toLowerCase()==="button"}function bI(e){return Ch(e)&&e.tagName.toLowerCase()==="form"}function xI(e){return Ch(e)&&e.tagName.toLowerCase()==="input"}function _I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wI(e,t){return e.button===0&&(!t||t==="_self")&&!_I(e)}var Vd=null;function SI(){if(Vd===null)try{new FormData(document.createElement("form"),0),Vd=!1}catch{Vd=!0}return Vd}var jI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(e){return e!=null&&!jI.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):e}function NI(e,t){let n,r,i,o,l;if(bI(e)){let d=e.getAttribute("action");r=d?Fa(d,t):null,n=e.getAttribute("method")||Nf,i=Rg(e.getAttribute("enctype"))||Ef,o=new FormData(e)}else if(vI(e)||xI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Fa(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Nf,i=Rg(e.getAttribute("formenctype"))||Rg(d.getAttribute("enctype"))||Ef,o=new FormData(d,e),!SI()){let{name:h,type:p,value:g}=e;if(p==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,g)}}else{if(Ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,r=null,i=Ef,l=e}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function W0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EI(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Fa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function OI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CI(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await OI(o,n);return l.links?l.links():[]}return[]}));return MI(r.flat(1).filter(AI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ej(e,t,n,r,i,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):o==="data"?t.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function TI(e,t,{includeHydrateFallback:n}={}){return kI(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function kI(e){return[...new Set(e)]}function PI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function MI(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(PI(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function zA(){let e=x.useContext(xl);return W0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RI(){let e=x.useContext(Ah);return W0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var X0=x.createContext(void 0);X0.displayName="FrameworkContext";function BA(){let e=x.useContext(X0);return W0(e,"You must render this element inside a <HydratedRouter> element"),e}function DI(e,t){let n=x.useContext(X0),[r,i]=x.useState(!1),[o,l]=x.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,y=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=N=>{N.forEach(A=>{l(A.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return y.current&&j.observe(y.current),()=>{j.disconnect()}}},[e]),x.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:Ec(d,b),onBlur:Ec(f,w),onMouseEnter:Ec(h,b),onMouseLeave:Ec(p,w),onTouchStart:Ec(g,b)}]:[!1,y,{}]}function Ec(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function II({page:e,...t}){let{router:n}=zA(),r=x.useMemo(()=>kA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(UI,{page:e,matches:r,...t}):null}function LI(e){let{manifest:t,routeModules:n}=BA(),[r,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return CI(e,t,n).then(l=>{o||i(l)}),()=>{o=!0}},[e,t,n]),r}function UI({page:e,matches:t,...n}){let r=qi(),{manifest:i,routeModules:o}=BA(),{basename:l}=zA(),{loaderData:d,matches:f}=RI(),h=x.useMemo(()=>Ej(e,t,f,i,r,"data"),[e,t,f,i,r]),p=x.useMemo(()=>Ej(e,t,f,i,r,"assets"),[e,t,f,i,r]),g=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(N=>{var O;let A=i.routes[N.route.id];!A||!A.hasLoader||(!h.some(C=>C.route.id===N.route.id)&&N.route.id in d&&((O=o[N.route.id])!=null&&O.shouldRevalidate)||A.hasClientLoader?S=!0:w.add(N.route.id))}),w.size===0)return[];let j=EI(e,l,"data");return S&&w.size>0&&j.searchParams.set("_routes",t.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[l,d,r,i,h,t,e,o]),y=x.useMemo(()=>TI(p,i),[p,i]),b=LI(p);return x.createElement(x.Fragment,null,g.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:S})=>x.createElement("link",{key:w,nonce:n.nonce,...S})))}function $I(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qA&&(window.__reactRouterVersion="7.9.4")}catch{}function zI({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=j4({window:n,v5Compat:!0}));let i=r.current,[o,l]=x.useState({action:i.action,location:i.location}),d=x.useCallback(f=>{x.startTransition(()=>l(f))},[l]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.createElement(gI,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var HA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q0=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...y},b){let{basename:w}=x.useContext(Wr),S=typeof h=="string"&&HA.test(h),j,N=!1;if(typeof h=="string"&&S&&(j=h,qA))try{let q=new URL(window.location.href),$=h.startsWith("//")?new URL(q.protocol+h):new URL(h),F=Fa($.pathname,w);$.origin===q.origin&&F!=null?h=F+$.search+$.hash:N=!0}catch{Yr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Q4(h,{relative:i}),[O,C,T]=DI(r,y),P=HI(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:g});function k(q){t&&t(q),q.defaultPrevented||P(q)}let D=x.createElement("a",{...y,...T,href:j||A,onClick:N||o?t:k,ref:$I(b,C),target:f,"data-discover":!S&&n==="render"?"true":void 0});return O&&!S?x.createElement(x.Fragment,null,D,x.createElement(II,{page:A})):D});Q0.displayName="Link";var Cv=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:d,children:f,...h},p){let g=fu(l,{relative:h.relative}),y=qi(),b=x.useContext(Ah),{navigator:w,basename:S}=x.useContext(Wr),j=b!=null&&VI(g)&&d===!0,N=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,A=y.pathname,O=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(A=A.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&S&&(O=Fa(O,S)||O);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=A===N||!i&&A.startsWith(N)&&A.charAt(C)==="/",P=O!=null&&(O===N||!i&&O.startsWith(N)&&O.charAt(N.length)==="/"),k={isActive:T,isPending:P,isTransitioning:j},D=T?t:void 0,q;typeof r=="function"?q=r(k):q=[r,T?"active":null,P?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(k):o;return x.createElement(Q0,{...h,"aria-current":D,className:q,ref:p,style:$,to:l,viewTransition:d},typeof f=="function"?f(k):f)});Cv.displayName="NavLink";var BI=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Nf,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...y},b)=>{let w=GI(),S=YI(d,{relative:h}),j=l.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&HA.test(d),A=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let C=O.nativeEvent.submitter,T=(C==null?void 0:C.getAttribute("formmethod"))||l;w(C||O.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return x.createElement("form",{ref:b,method:j,action:S,onSubmit:r?f:A,...y,"data-discover":!N&&e==="render"?"true":void 0})});BI.displayName="Form";function qI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FA(e){let t=x.useContext(xl);return Et(t,qI(e)),t}function HI(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let d=Xa(),f=qi(),h=fu(e,{relative:o});return x.useCallback(p=>{if(wI(p,t)){p.preventDefault();let g=n!==void 0?n:Yc(f)===Yc(h);d(e,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[f,d,h,n,r,t,e,i,o,l])}var FI=0,KI=()=>`__${String(++FI)}__`;function GI(){let{router:e}=FA("useSubmit"),{basename:t}=x.useContext(Wr),n=dI();return x.useCallback(async(r,i={})=>{let{action:o,method:l,encType:d,formData:f,body:h}=NI(r,t);if(i.navigate===!1){let p=i.fetcherKey||KI();await e.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function YI(e,{relative:t}={}){let{basename:n}=x.useContext(Wr),r=x.useContext(Cr);Et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...fu(e||".",{relative:t})},l=qi();if(e==null){o.search=l.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:za([n,o.pathname])),Yc(o)}function VI(e,{relative:t}={}){let n=x.useContext(DA);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FA("useViewTransitionState"),i=fu(e,{relative:t});if(!n.isTransitioning)return!1;let o=Fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pf(i.pathname,l)!=null||Pf(i.pathname,o)!=null}var J0=TA();const Tv="active-customer-order",kv="active-customer-order-id",WI=1440*60*1e3,XI=e=>{if(!e)return null;try{const t=JSON.parse(e);if(t&&typeof t.orderId=="string"&&t.orderId.trim().length>0)return t}catch(t){console.error("Failed to parse stored active order",t)}return null},Vc=e=>{if(!(typeof window>"u"))try{if(!e){window.localStorage.removeItem(Tv),window.localStorage.removeItem(kv);return}window.localStorage.setItem(Tv,JSON.stringify(e)),window.localStorage.removeItem(kv)}catch(t){console.error("Failed to persist active order",t)}},Rf=()=>{if(typeof window>"u")return null;const e=XI(window.localStorage.getItem(Tv));if(e)return e.expiresAt&&e.expiresAt<=Date.now()?(Vc(null),null):e;const t=window.localStorage.getItem(kv);if(t&&t.trim().length>0){const n={orderId:t};return Vc(n),n}return null},QI=(e,t)=>{if(!e){Vc(null);return}Vc(t?{orderId:e,expiresAt:t}:{orderId:e})},KA=()=>{Vc(null)},JI="modulepreload",ZI=function(e){return"/"+e},Oj={},hu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=l(n.map(h=>{if(h=ZI(h),h in Oj)return;Oj[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":JI,p||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((b,w)=>{y.addEventListener("load",b),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},eL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Z0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Aj extends Z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cj extends Z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tj extends Z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pv||(Pv={}));var tL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class nL{constructor(t,{headers:n={},customFetch:r,region:i=Pv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=eL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return tL(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:d,signal:f}=r;let h={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)));const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:f}).catch(N=>{throw N.name==="AbortError"?N:new Aj(N)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new Cj(b);if(!b.ok)throw new Tj(b);let S=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield b.json():S==="application/octet-stream"?j=yield b.blob():S==="text/event-stream"?j=b:S==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Aj(o)}:{data:null,error:o,response:o instanceof Tj||o instanceof Cj?o.context:void 0}}})}}var ln={},Lo={},Uo={},$o={},zo={},Bo={},rL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sl=rL();const aL=sl.fetch,GA=sl.fetch.bind(sl),YA=sl.Headers,iL=sl.Request,sL=sl.Response,wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:YA,Request:iL,Response:sL,default:GA,fetch:aL},Symbol.toStringTag,{value:"Module"})),oL=f4(wl);var Wd={},kj;function VA(){if(kj)return Wd;kj=1,Object.defineProperty(Wd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Wd.default=e,Wd}var Pj;function WA(){if(Pj)return Bo;Pj=1;var e=Bo&&Bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bo,"__esModule",{value:!0});const t=e(oL),n=e(VA());class r{constructor(o){var l,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,y,b;let w=null,S=null,j=null,N=h.status,A=h.statusText;if(h.ok){if(this.method!=="HEAD"){const P=await h.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=P:S=JSON.parse(P))}const C=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");C&&T&&T.length>1&&(j=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,N=406,A="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const C=await h.text();try{w=JSON.parse(C),Array.isArray(w)&&h.status===404&&(S=[],w=null,N=200,A="OK")}catch{h.status===404&&C===""?(N=204,A="No Content"):w={message:C}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,N=200,A="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:S,count:j,status:N,statusText:A}});return this.shouldThrowOnError||(f=f.catch(h=>{var p,g,y;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(g=h==null?void 0:h.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(y=h==null?void 0:h.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return Bo.default=r,Bo}var Mj;function XA(){if(Mj)return zo;Mj=1;var e=zo&&zo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(WA());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(h,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var p;const g=[i?"analyze":null,o?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return zo.default=n,zo}var Rj;function eb(){if(Rj)return $o;Rj=1;var e=$o&&$o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(XA());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${h}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return $o.default=n,$o}var Dj;function QA(){if(Dj)return Uo;Dj=1;var e=Uo&&Uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uo,"__esModule",{value:!0});const t=e(eb());class n{constructor(i,{headers:o={},schema:l,fetch:d}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=d}select(i,o){const{head:l=!1,count:d}=o??{},f=l?"HEAD":"GET";let h=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var d;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:o}={}){var l;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Uo.default=n,Uo}var Ij;function lL(){if(Ij)return Lo;Ij=1;var e=Lo&&Lo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lo,"__esModule",{value:!0});const t=e(QA()),n=e(eb());class r{constructor(o,{headers:l={},schema:d,fetch:f}={}){this.url=o,this.headers=new Headers(l),this.schemaName=d,this.fetch=f}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:d=!1,get:f=!1,count:h}={}){var p;let g;const y=new URL(`${this.url}/rpc/${o}`);let b;d||f?(g=d?"HEAD":"GET",Object.entries(l).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{y.searchParams.append(S,j)})):(g="POST",b=l);const w=new Headers(this.headers);return h&&w.set("Prefer",`count=${h}`),new n.default({method:g,url:y,headers:w,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Lo.default=r,Lo}var Lj;function cL(){if(Lj)return ln;Lj=1;var e=ln&&ln.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(ln,"__esModule",{value:!0}),ln.PostgrestError=ln.PostgrestBuilder=ln.PostgrestTransformBuilder=ln.PostgrestFilterBuilder=ln.PostgrestQueryBuilder=ln.PostgrestClient=void 0;const t=e(lL());ln.PostgrestClient=t.default;const n=e(QA());ln.PostgrestQueryBuilder=n.default;const r=e(eb());ln.PostgrestFilterBuilder=r.default;const i=e(XA());ln.PostgrestTransformBuilder=i.default;const o=e(WA());ln.PostgrestBuilder=o.default;const l=e(VA());return ln.PostgrestError=l.default,ln.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},ln}var uL=cL();const dL=Vr(uL),{PostgrestClient:fL,PostgrestQueryBuilder:Qne,PostgrestFilterBuilder:Jne,PostgrestTransformBuilder:Zne,PostgrestBuilder:ere,PostgrestError:tre}=dL;class hL{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mL="2.75.0",pL=`realtime-js/${mL}`,gL="1.0.0",Mv=1e4,yL=1e3,vL=100;var $c;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($c||($c={}));var Jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jt||(Jt={}));var Br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Br||(Br={}));var Rv;(function(e){e.websocket="websocket"})(Rv||(Rv={}));var js;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(js||(js={}));class bL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+i));l=l+i;const f=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class JA{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(yt||(yt={}));const Uj=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=xL(l,e,t,i),o),{}):{}},xL=(e,t,n,r)=>{const i=t.find(d=>d.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?ZA(o,l):Dv(l)},ZA=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return jL(t,n)}switch(e){case yt.bool:return _L(t);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return wL(t);case yt.json:case yt.jsonb:return SL(t);case yt.timestamp:return NL(t);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return Dv(t);default:return Dv(t)}},Dv=e=>e,_L=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},SL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(d=>ZA(t,d))}return e},NL=e=>typeof e=="string"?e.replace(" ","T"):e,eC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Dg{constructor(t,n,r={},i=Mv){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $j;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($j||($j={}));class zc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zc.syncState(this.state,i,o,l),this.pendingDiffs.forEach(f=>{this.state=zc.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zc.syncDiff(this.state,i,o,l),d())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(o,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=o[h];if(g){const y=p.map(j=>j.presence_ref),b=g.map(j=>j.presence_ref),w=p.filter(j=>b.indexOf(j.presence_ref)<0),S=g.filter(j=>y.indexOf(j.presence_ref)<0);w.length>0&&(d[h]=w),S.length>0&&(f[h]=S)}else d[h]=p}),this.syncDiff(o,{joins:d,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(b=>b.presence_ref),y=p.filter(b=>g.indexOf(b.presence_ref)<0);t[d].unshift(...y)}r(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,i(d,h,f),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zj||(zj={}));var Bc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bc||(Bc={}));var Ma;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ma||(Ma={}));class tb{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dg(this,Br.join,this.params,this.timeout),this.rejoinTimer=new JA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Br.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new zc(this),this.broadcastEndpointURL=eC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Bc.PRESENCE]&&this.bindings[Bc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Ma.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Ma.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){t==null||t(Ma.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,N=[];for(let A=0;A<j;A++){const O=S[A],{filter:{event:C,schema:T,table:P,filter:k}}=O,D=b&&b[A];if(D&&D.event===C&&D.schema===T&&D.table===P&&D.filter===k)N.push(Object.assign(Object.assign({},O),{id:D.id}));else{this.unsubscribe(),this.state=Jt.errored,t==null||t(Ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ma.SUBSCRIBED);return}}).receive("error",b=>{this.state=Jt.errored,t==null||t(Ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Jt.joined&&t===Bc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,d,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Br.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Dg(this,Br.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=Br;if(r&&[d,f,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,S,j;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(S=b.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(b=>b.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var w,S,j,N,A,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const C=b.id,T=(w=b.filter)===null||w===void 0?void 0:w.event;return C&&((S=n.ids)===null||S===void 0?void 0:S.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const C=(A=(N=b==null?void 0:b.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return C==="*"||C===((O=n==null?void 0:n.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:S,table:j,commit_timestamp:N,type:A,errors:O}=w;y=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:N,eventType:A,new:{},old:{},errors:O}),this._getPayloadRecords(w))}b.callback(y,r)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&tb.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Br.close,{},t)}_onError(t){this._on(Br.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Uj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Uj(t.columns,t.old_record)),n}}const Ig=()=>{},Xd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},EL=[1e3,2e3,5e3,1e4],OL=1e4,AL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mv,this.transport=null,this.heartbeatIntervalMs=Xd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ig,this.ref=0,this.reconnectTimer=null,this.logger=Ig,this.conn=null,this.sendBuffer=[],this.serializer=new bL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>hu(async()=>{const{default:d}=await Promise.resolve().then(()=>wl);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Rv.websocket}`,this.httpEndpoint=eC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gL}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $c.connecting:return js.Connecting;case $c.open:return js.Open;case $c.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new tb(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,d=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${i} ${d}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Br.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([AL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:pL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Br.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new JA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,d,f,h,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Mv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Xd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Ig,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(g=>EL[g-1]||OL),this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((g,y)=>y(JSON.stringify(g))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class nb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class TL extends nb{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Iv extends nb{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var kL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const tC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},PL=()=>kL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hu(()=>Promise.resolve().then(()=>wl),void 0)).Response:Response}),Lv=e=>{if(Array.isArray(e))return e.map(n=>Lv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Lv(r)}),t},ML=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const Lg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RL=(e,t,n)=>Fs(void 0,void 0,void 0,function*(){const r=yield PL();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new TL(Lg(i),o,l))}).catch(i=>{t(new Iv(Lg(i),i))}):t(new Iv(Lg(e),e))}),DL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(ML(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function mu(e,t,n,r,i,o){return Fs(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,DL(t,r,i,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>RL(f,d,r))})})}function Df(e,t,n,r){return Fs(this,void 0,void 0,function*(){return mu(e,"GET",t,n,r)})}function na(e,t,n,r,i){return Fs(this,void 0,void 0,function*(){return mu(e,"POST",t,r,i,n)})}function Uv(e,t,n,r,i){return Fs(this,void 0,void 0,function*(){return mu(e,"PUT",t,r,i,n)})}function IL(e,t,n,r){return Fs(this,void 0,void 0,function*(){return mu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nC(e,t,n,r,i){return Fs(this,void 0,void 0,function*(){return mu(e,"DELETE",t,r,i,n)})}var LL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class UL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return LL(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Gt(t))return{data:null,error:t};throw t}})}}var $L=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class zL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new UL(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return $L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Gt(t))return{data:null,error:t};throw t}})}}var $n=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const BL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qL{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=tC(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return $n(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Bj),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),g=yield(t=="PUT"?Uv:na)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Gt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return $n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return $n(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:Bj.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield Uv(this.fetch,d.toString(),f,{headers:p});return{data:{path:o,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Gt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return $n(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield na(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),d=l.searchParams.get("token");if(!d)throw new nb("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}})}update(t,n,r){return $n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return $n(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return $n(this,void 0,void 0,function*(){try{return{data:{path:(yield na(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return $n(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield na(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return $n(this,void 0,void 0,function*(){try{const i=yield na(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",d=this._getFinalPath(t),f=()=>Df(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new zL(f,this.shouldThrowOnError)}info(t){return $n(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Df(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}})}exists(t){return $n(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield IL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r)&&r instanceof Iv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return $n(this,void 0,void 0,function*(){try{return{data:yield nC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gt(n))return{data:null,error:n};throw n}})}list(t,n,r){return $n(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},BL),n),{prefix:t||""});return{data:yield na(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}listV2(t,n){return $n(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield na(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const HL="2.75.0",FL={"X-Client-Info":`storage-js/${HL}`};var qo=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class KL{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FL),n),this.fetch=tC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qo(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Gt(t))return{data:null,error:t};throw t}})}getBucket(t){return qo(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gt(n))return{data:null,error:n};throw n}})}createBucket(t){return qo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield na(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return qo(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qo(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qo(this,void 0,void 0,function*(){try{return{data:yield nC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gt(n))return{data:null,error:n};throw n}})}}class GL extends KL{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new qL(this.url,this.headers,t,this.fetch)}}const YL="2.75.0";let Ic="";typeof Deno<"u"?Ic="deno":typeof document<"u"?Ic="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ic="react-native":Ic="node";const VL={"X-Client-Info":`supabase-js-${Ic}/${YL}`},WL={headers:VL},XL={schema:"public"},QL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JL={};var ZL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const e5=e=>{let t;return e?t=e:typeof fetch>"u"?t=GA:t=fetch,(...n)=>t(...n)},t5=()=>typeof Headers>"u"?YA:Headers,n5=(e,t,n)=>{const r=e5(n),i=t5();return(o,l)=>ZL(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var r5=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};function a5(e){return e.endsWith("/")?e:e+"/"}function i5(e,t){var n,r;const{db:i,auth:o,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,y={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>r5(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function s5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rC="2.75.0",Xo=30*1e3,$v=3,Ug=$v*Xo,o5="http://localhost:9999",l5="supabase.auth.token",c5={"X-Client-Info":`gotrue-js/${rC}`},zv="X-Supabase-Api-Version",aC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},u5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d5=600*1e3;class Wc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class f5 extends Wc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function h5(e){return Pe(e)&&e.name==="AuthApiError"}class Ns extends Wc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hi extends Wc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ti extends Hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function m5(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class Ho extends Hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qd extends Hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jd extends Hi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p5(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class qj extends Hi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bv extends Hi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $g(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class Hj extends Hi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qv extends Hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const If="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fj=` 	
\r=`.split(""),g5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fj.length;t+=1)e[Fj[t].charCodeAt(0)]=-2;for(let t=0;t<If.length;t+=1)e[If[t].charCodeAt(0)]=t;return e})();function Kj(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(If[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(If[r]),t.queuedBits-=6}}function iC(e,t,n){const r=g5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gj(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{b5(l,r,n)};for(let l=0;l<e.length;l+=1)iC(e.charCodeAt(l),i,o);return t.join("")}function y5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function v5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}y5(r,t)}}function b5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)iC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function x5(e){const t=[];return v5(e,n=>t.push(n)),new Uint8Array(t)}function As(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Kj(i,n,r)),Kj(null,n,r),t.join("")}function _5(e){return Math.round(Date.now()/1e3)+e}function w5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Zn=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},sC=()=>{if(!Zn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function S5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const oC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},j5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ai=async(e,t)=>{await e.removeItem(t)};class Th{constructor(){this.promise=new Th.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Th.promiseConstructor=Promise;function zg(e){const t=e.split(".");if(t.length!==3)throw new qv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!u5.test(t[r]))throw new qv("JWT not in base64url format");return{header:JSON.parse(Gj(t[0])),payload:JSON.parse(Gj(t[1])),signature:nl(t[2]),raw:{header:t[0],payload:t[1]}}}async function N5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E5(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function O5(e){return("0"+e.toString(16)).substr(-2)}function A5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,O5).join("")}async function C5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function T5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await C5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fo(e,t,n=!1){const r=A5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Qo(e,`${t}-code-verifier`,i);const o=await T5(r);return[o,r===o?"plain":"s256"]}const k5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function P5(e){const t=e.headers.get(zv);if(!t||!t.match(k5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function M5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function R5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(e){if(!D5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yj(e){return JSON.parse(JSON.stringify(e))}var I5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L5=[502,503,504];async function Vj(e){var t;if(!j5(e))throw new Bv(gs(e),0);if(L5.includes(e.status))throw new Bv(gs(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ns(gs(o),o)}let r;const i=P5(e);if(i&&i.getTime()>=aC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hj(gs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ti}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Hj(gs(n),e.status,n.weak_password.reasons);throw new f5(gs(n),e.status||500,r)}const U5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Le(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[zv]||(o[zv]=aC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await $5(e,t,n+d,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function $5(e,t,n,r,i,o){const l=U5(t,r,i,o);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new Bv(gs(f),0)}if(d.ok||await Vj(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(f){await Vj(f)}}function $r(e){var t;let n=null;q5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=_5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wj(e){const t=$r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Di(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function z5(e){return{data:e,error:null}}function B5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=I5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function Xj(e){return e}function q5(e){return e.access_token&&e.refresh_token&&e.expires_in}const qg=["global","local","others"];var H5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class F5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=oC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=qg[0]){if(qg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qg.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Di})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=H5(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:B5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Di})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Xj});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);h[`${j}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Pe(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Ko(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Di})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ko(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Di})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ko(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Di})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ko(t.userId);try{const{data:n,error:r}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ko(t.userId),Ko(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Xj});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);h[`${j}Page`]=S}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Pe(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}function Qj(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Go={debug:!!(globalThis&&sC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K5 extends lC{}async function G5(e,t,n){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new K5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Go.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Y5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function V5(e){return parseInt(e,16)}function W5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function X5(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=cC(e.address),w=p?`${p}://${r}`:r,S=e.statement?`${e.statement}
`:"",j=`${w} wants you to sign in with your Ethereum account:
${b}

${S}`;let N=`URI: ${g}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let A=`
Resources:`;for(const O of h){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);A+=`
- ${O}`}N+=A}return`${j}
${N}`}class Kt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Lf extends Kt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Q5({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(dC(l)){if(o.rp.id!==l)return new Kt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function J5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(dC(r)){if(n.rpId!==r)return new Kt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var uC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Z5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const e6=new Z5;function t6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=uC(e,["challenge","user","excludeCredentials"]),o=nl(t).buffer,l=Object.assign(Object.assign({},n),{id:nl(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:nl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function n6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=uC(e,["challenge","allowCredentials"]),i=nl(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},d),{id:nl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function r6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:As(new Uint8Array(e.response.attestationObject)),clientDataJSON:As(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function a6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:As(new Uint8Array(i.authenticatorData)),clientDataJSON:As(new Uint8Array(i.clientDataJSON)),signature:As(new Uint8Array(i.signature)),userHandle:i.userHandle?As(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jj(){var e,t;return!!(Zn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function i6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lf("Browser returned unexpected credential type",t)}:{data:null,error:new Lf("Empty credential response",t)}}catch(t){return{data:null,error:Q5({error:t,options:e})}}}async function s6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lf("Browser returned unexpected credential type",t)}:{data:null,error:new Lf("Empty credential response",t)}}catch(t){return{data:null,error:J5({error:t,options:e})}}}const o6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},l6={userVerification:"preferred",hints:["security-key"]};function Uf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const d=r[o];t(d)?r[o]=Uf(d,l):r[o]=Uf(l)}else r[o]=l}return r}function c6(e,t){return Uf(o6,e,t||{})}function u6(e,t){return Uf(l6,e,t||{})}class d6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const f=i??e6.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=c6(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:g}=await i6({publicKey:h,signal:f});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=u6(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:g}=await s6(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new Ns("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Wc("rpId is required for WebAuthn authentication")};try{if(!Jj())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new Ns("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Wc("rpId is required for WebAuthn registration")};try{if(!Jj())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Pe(l)?{data:null,error:l}:{data:null,error:new Ns("Unexpected error in register",l)}}}}Y5();const f6={url:o5,storageKey:l5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zj(e,t,n){return await n()}const Yo={};class Xc{get jwks(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xc.nextInstanceID,Xc.nextInstanceID+=1,this.instanceID>0&&Zn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},f6),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new F5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=oC(i.fetch),this.lock=i.lock||Zj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Zn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=G5:this.lock=Zj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new d6(this)},this.persistSession?(i.storage?this.storage=i.storage:sC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Qj(this.memoryStorage)),Zn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=S5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Zn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),p5(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Pe(n)?{error:n}:{error:new Ns("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:$r}),{data:l,error:d}=o;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:p,password:g,options:y}=t;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Fo(this.storage,this.storageKey)),o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:w},xform:$r})}else if("phone"in t){const{phone:p,password:g,options:y}=t;o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:$r})}else throw new Qd("You must provide either an email or phone number and a password");const{data:l,error:d}=o;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Pe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:d}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Wj})}else if("phone"in t){const{phone:o,password:l,options:d}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Wj})}else throw new Qd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ho}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,d,f,h,p,g,y;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:S,wallet:j,statement:N,options:A}=t;let O;if(Zn())if(typeof j=="object")O=j;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")O=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=j}const C=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),T=await O.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=cC(T[0]);let k=(r=A==null?void 0:A.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const q=await O.request({method:"eth_chainId"});k=V5(q)}const D={domain:C.host,address:P,statement:N,uri:C.href,version:"1",chainId:k,nonce:(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=A==null?void 0:A.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=A==null?void 0:A.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=X5(D),w=await O.request({method:"personal_sign",params:[W5(b),P]})}try{const{data:S,error:j}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:$r});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Ho}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(Pe(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,r,i,o,l,d,f,h,p,g,y,b;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:j,wallet:N,statement:A,options:O}=t;let C;if(Zn())if(typeof N=="object")C=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))C=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const T=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const P=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),A?{statement:A}:null));let k;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")k=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)k=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),S=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=O==null?void 0:O.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=O==null?void 0:O.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((h=O==null?void 0:O.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((g=(p=O==null?void 0:O.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...O.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const P=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:j,error:N}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:As(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:$r});if(N)throw N;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ho}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:N})}catch(j){if(Pe(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await fs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$r});if(await Ai(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ho}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Pe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,d=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$r}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Ho}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Fo(this.storage,this.storageKey));const{error:g}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Qd("You must provide either an email or phone number.")}catch(d){if(Pe(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:$r});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Fo(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:z5})}catch(o){if(Pe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ti;const{error:i}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:d}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new Qd("You must provide either an email or phone number and a type")}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ug:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await fs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Bg()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,p))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Di}):await this._useSession(async n=>{var r,i,o;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ti}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Di})})}catch(n){if(Pe(n))return m5(n)&&(await this._removeSession(),await Ai(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Ti;const l=i.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Fo(this.storage,this.storageKey));const{data:h,error:p}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Di});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ti;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=zg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ti;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Zn())throw new Jd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qj("No code detected.");const{data:A,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!o||!d||!l||!h)throw new Jd("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let y=p+g;f&&(y=parseInt(f));const b=y-p;b*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const w=y-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,p);const{data:S,error:j}=await this._getUser(o);if(j)throw j;const N={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:y,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(r){if(Pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await fs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(h5(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Ai(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=w5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Fo(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Pe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,d,f,h,p;const{data:g,error:y}=o;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Zn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Pe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$r}),{data:y,error:b}=g;return b?{data:{user:null,session:null},error:b}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ho}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:b})}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await E5(async i=>(i>0&&await N5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$r})),(i,o)=>{const l=200*Math.pow(2,i);return o&&$g(o)&&Date.now()+l-r<Xo})}catch(r){if(this._debug(n,"error",r),Pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Zn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await fs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Qo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Bg()}else if(i&&!i.user&&!i.user){const l=await fs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Ai(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,i)):i.user=Bg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ug;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ug}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),$g(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Th;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Ti;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(i,"error",o),Pe(o)){const l={data:null,error:o};return $g(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Yj(i);await Qo(this.storage,this.storageKey,o)}else{const i=Yj(n);await Qo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ai(this.storage,this.storageKey),await Ai(this.storage,this.storageKey+"-code-verifier"),await Ai(this.storage,this.storageKey+"-user"),this.userStorage&&await Ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Zn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xo}ms, refresh threshold is ${$v} ticks`),i<=$v&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Fo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?r6(t.webauthn.credential_response):a6(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:t6(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:n6(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=zg(i.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+d5>i)return r;const{data:o,error:l}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};r=b.session.access_token}const{header:i,payload:o,signature:l,raw:{header:d,payload:f}}=zg(r);n!=null&&n.allowExpired||M5(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:i,signature:l},error:null}}const p=R5(i.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,x5(`${d}.${f}`)))throw new qv("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}Xc.nextInstanceID=0;const h6=Xc;class m6 extends h6{constructor(t){super(t)}}var p6=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class g6{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const d=s5(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:XL,realtime:JL,auth:Object.assign(Object.assign({},QL),{storageKey:f}),global:WL},p=i5(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=n5(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new fL(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new GL(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new nL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return p6(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:d,lock:f,debug:h},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m6({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:d,lock:f,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new CL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y6=(e,t,n)=>new g6(e,t,n);function v6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}v6()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fC="Supabase client is not available in this offline build. Install @supabase/supabase-js in production.",hC=()=>{const e=Promise.reject(new Error(fC));return new Proxy({},{get(t,n){return n==="then"||n==="catch"||n==="finally"?e[n].bind(e):()=>hC()}})},b6=()=>{const e=hC(),t=async()=>{throw new Error(fC)};return{from(){return e},functions:{invoke:t},auth:{signInWithPassword:t,signOut:t,getSession:t}}},x6=e=>{try{const t=new URL(e),n=t.pathname.replace(/\/+$/,"");if(n&&n!=="/"){const r=n===""?"/":n;throw new Error(`VITE_SUPABASE_URL must point to the project root (e.g. https://xxxx.supabase.co). Remove the path "${r}" to avoid cross-origin errors.`)}return t.origin}catch(t){const n=t instanceof Error?` ${t.message}`:"";throw new Error(`Invalid VITE_SUPABASE_URL provided.${n}`.trim())}},_6=()=>b6();let Hv;try{const e="https://epolcaohkaozcanyexau.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",n=x6(e);Hv=y6(n,t,{auth:{persistSession:!1}})}catch(e){const t=e instanceof Error?e.message:"Unknown error while creating the Supabase client.";console.warn("Supabase client disabled. Falling back to the offline stub. Operations depending on Supabase will fail until the environment is configured.",t),Hv=_6()}const pe=Hv,w6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",VITE_SUPABASE_URL:"https://epolcaohkaozcanyexau.supabase.co"},S6=w6,j6="https://api.cloudinary.com/v1_1",N6="cloudinary.com",E6=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"),rb=e=>E6(e).toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,""),mC=()=>Math.random().toString(36).slice(2,10),qc=(e,t)=>e&&rb(e)||t,Gr=e=>{const t=S6[e];if(typeof t!="string")return;const n=t.trim();return n.length>0?n:void 0},e2=(e,t)=>{const n=Gr(e);if(!n)throw new Error(`Configuration Cloudinary manquante: définissez la variable d'environnement ${e} pour ${t}.`);return n},ab=async(e,{folder:t,uploadPreset:n,publicId:r,tags:i})=>{var g;const o=e2("VITE_CLOUDINARY_CLOUD_NAME","les téléversements de médias"),l=n??e2("VITE_CLOUDINARY_UPLOAD_PRESET","les téléversements de médias"),d=l,f=new FormData;f.append("file",e),f.append("upload_preset",l),t&&f.append("folder",t),r&&f.append("public_id",r),i!=null&&i.length&&f.append("tags",i.join(","));const h=await fetch(`${j6}/${o}/auto/upload`,{method:"POST",body:f}),p=await h.json();if(!h.ok||p.error){const y=(g=p.error)==null?void 0:g.message;throw y&&/upload preset/i.test(y)?new Error(`Le preset Cloudinary "${d}" est introuvable ou ne permet pas les téléversements non signés. Vérifiez sa configuration dans votre console Cloudinary (Settings → Upload → Upload presets).`):new Error(y??`Échec du téléversement Cloudinary (statut ${h.status}).`)}if(!p.secure_url&&!p.url)throw new Error("Cloudinary n'a pas renvoyé d'URL sécurisée pour le fichier téléversé.");return p.secure_url??p.url},$i=e=>{const t=e==null?void 0:e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"||!n.hostname.endsWith(N6)?null:t}catch{return null}},O6=Gr("VITE_CLOUDINARY_DEFAULT_PRODUCT_IMAGE")??"",t2=O6,pC=e=>{const t=$i(e);return t||t2||""},A6=async(e,t)=>{const n=Gr("VITE_CLOUDINARY_PRODUCTS_FOLDER")??"products",r=Gr("VITE_CLOUDINARY_UPLOAD_PRESET_PRODUCTS")??Gr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=t?rb(t):void 0,o=i?`${i}-${mC()}`:void 0;return ab(e,{folder:qc(n,"products"),uploadPreset:r,publicId:o,tags:["product"]})},C6=()=>qc(Gr("VITE_CLOUDINARY_CUSTOM_FOLDER")??"Custom","Custom"),Qc=async(e,t)=>{const n=C6(),r=Gr("VITE_CLOUDINARY_UPLOAD_PRESET_CUSTOM")??Gr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=(t==null?void 0:t.publicId)??(e instanceof File&&e.name?rb(e.name.replace(/\.[^/.]+$/,"")):void 0),o=i?`${i}-${mC()}`:void 0,l=Array.from(new Set(["customization","custom-folder",...(t==null?void 0:t.tags)??[]]));return ab(e,{folder:n,uploadPreset:r,publicId:o,tags:l})},gC=async(e,t)=>{const n=Gr("VITE_CLOUDINARY_RECEIPTS_FOLDER")??"receipts",r=Gr("VITE_CLOUDINARY_UPLOAD_PRESET_RECEIPTS")??Gr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=[qc(n,"receipts")];return t!=null&&t.orderId?i.push(`order-${qc(t.orderId,"commande")}`):t!=null&&t.customerReference&&i.push(`customer-${qc(t.customerReference,"client")}`),ab(e,{folder:i.join("/"),uploadPreset:r,tags:["payment","receipt"]})},yC="ouiouipos:role-logins",vC=()=>{if(typeof window>"u"||!window.localStorage)throw new Error("Local storage is not available for role login tracking.");return window.localStorage},T6=e=>{if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>{if(!n||typeof n!="object")return null;const{roleId:r,roleName:i,loginAt:o}=n;if(typeof r!="string"||typeof i!="string"||typeof o!="string")return null;const l=Date.parse(o);return Number.isNaN(l)?null:{roleId:r,roleName:i,loginAt:new Date(l).toISOString()}}).filter(n=>!!n).sort((n,r)=>Date.parse(n.loginAt)-Date.parse(r.loginAt)):[]}catch(t){return console.warn("Unable to parse stored role logins, clearing history.",t),[]}},ib=()=>{const t=vC().getItem(yC);return T6(t)},bC=e=>{vC().setItem(yC,JSON.stringify(e.slice(-500)))},n2=async(e,t,n)=>{const r=n??new Date().toISOString(),i={roleId:e,roleName:t,loginAt:r};try{const o=ib();o.push(i),bC(o)}catch(o){console.warn("Unable to persist role login locally.",o)}return i},r2=async e=>{const t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid start date provided when fetching role logins.");return ib().filter(r=>Date.parse(r.loginAt)>=t)},a2=e=>{try{const t=Date.parse(e);if(Number.isNaN(t))return;const n=ib().filter(r=>Date.parse(r.loginAt)>=t);bC(n)}catch(t){console.warn("Unable to prune stored role logins.",t)}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),i2=e=>{const t=P6(e);return t.charAt(0).toUpperCase()+t.slice(1)},xC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),M6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...d},f)=>x.createElement("svg",{ref:f,...R6,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:xC("lucide",i),...!o&&!M6(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>x.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=x.forwardRef(({className:r,...i},o)=>x.createElement(D6,{ref:o,iconNode:t,className:xC(`lucide-${k6(i2(e))}`,`lucide-${e}`,r),...i}));return n.displayName=i2(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],sb=be("armchair",I6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],U6=be("arrow-left",L6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],z6=be("bold",$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],q6=be("brush",B6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],F6=be("calendar",H6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],G6=be("chart-area",K6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],V6=be("chart-no-axes-column",Y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X6=be("check",W6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],_C=be("chef-hat",Q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wC=be("chevron-down",J6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eU=be("chevron-right",Z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],SC=be("chevron-up",tU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$f=be("circle-check-big",nU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aU=be("circle-check",rU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],sU=be("circle-minus",iU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ob=be("circle-plus",oU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cU=be("circle-question-mark",lU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dU=be("circle-x",uU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sl=be("clock",fU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jc=be("dollar-sign",hU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pU=be("download",mU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],jC=be("ellipsis-vertical",gU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vU=be("external-link",yU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xU=be("eye-off",bU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fv=be("eye",_U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],NC=be("file-text",wU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],s2=be("gift",SU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],NU=be("grip-vertical",jU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M12 3V2",key:"ar7q03"}],["path",{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5",key:"n2g93r"}],["path",{d:"M2 14h12a2 2 0 0 1 0 4h-2",key:"1o2jem"}],["path",{d:"M4 10h16",key:"img6z1"}],["path",{d:"M5 10a7 7 0 0 1 14 0",key:"1ega1o"}],["path",{d:"M5 14v6a1 1 0 0 1-1 1H2",key:"1hescx"}]],OU=be("hand-platter",EU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],CU=be("info",AU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],kU=be("italic",TU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MU=be("layout-dashboard",PU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zc=be("loader-circle",RU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],IU=be("log-in",DU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UU=be("log-out",LU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],EC=be("mail",$U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kh=be("map-pin",zU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],OC=be("menu",BU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],AC=be("message-square",qU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M5 12h14",key:"1ays0h"}]],CC=be("minus",HU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],KU=be("package-check",FU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],YU=be("package-plus",GU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zo=be("package",VU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],XU=be("palette",WU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],JU=be("pen",QU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],e$=be("pencil",ZU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Ph=be("percent",t$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],TC=be("phone",n$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pu=be("plus",r$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],i$=be("receipt",a$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],o$=be("refresh-cw",s$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],c$=be("save",l$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lb=be("search",u$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],f$=be("send",d$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m$=be("settings",h$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],g$=be("shield",p$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kC=be("shopping-bag",y$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],PC=be("shopping-cart",v$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],MC=be("soup",b$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],RC=be("square-pen",x$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],w$=be("strikethrough",_$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zf=be("tag",S$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ks=be("trash-2",j$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ia=be("triangle-alert",N$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],O$=be("truck",E$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],gu=be("upload",A$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cb=be("user",C$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Kv=be("users",T$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],P$=be("utensils-crossed",k$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],R$=be("utensils",M$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oa=be("x",D$),Ka="/site-customizer",Bn=[{name:"Dashboard",href:"/dashboard",icon:MU,permissionKey:"/dashboard"},{name:"À Emporter",href:"/para-llevar",icon:kC,permissionKey:"/para-llevar"},{name:"Plan de Salle",href:"/ventes",icon:sb,permissionKey:"/ventes"},{name:"Cuisine",href:"/cocina",icon:MC,permissionKey:"/cocina"},{name:"Personnalisation",href:Ka,icon:q6,permissionKey:Ka},{name:"Produits",href:"/produits",icon:P$,permissionKey:"/produits"},{name:"Ingrédients",href:"/ingredients",icon:Zo,permissionKey:"/ingredients"},{name:"Promotions",href:"/promotions",icon:Ph,permissionKey:"/promotions"},{name:"Résumé Ventes",href:"/resume-ventes",icon:G6,permissionKey:"/resume-ventes"}],DC={ADMIN:"admin"},Ms="__home_page",I$=e=>{if(e.status!=="active")return!1;const t=new Date,n=e.conditions;if(n.start_date){const r=new Date(n.start_date);if(t<r)return!1}if(n.end_date){const r=new Date(n.end_date);if(t>r)return!1}return!(n.usage_limit&&e.usage_count>=n.usage_limit)},L$=e=>{const t=new Date,n=e.conditions;if(n.days_of_week&&n.days_of_week.length>0){const r=t.getDay();if(!n.days_of_week.includes(r))return!1}if(n.time_range){const r=t.getHours(),i=t.getMinutes(),o=r*60+i,[l,d]=n.time_range.start_time.split(":").map(Number),[f,h]=n.time_range.end_time.split(":").map(Number),p=l*60+d,g=f*60+h;if(o<p||o>g)return!1}return!0},Mh=["review1","review2","review3","review4","review5","review6","review7"],U$=["name","handle","timeAgo","message","highlight","highlightCaption","location","badgeLabel","postImageAlt"],$$=["avatarUrl","highlightImageUrl","postImageUrl"],z$=["navigation.brand","navigation.brandLogo","navigation.staffLogo","navigation.links.home","navigation.links.about","navigation.links.menu","navigation.links.contact","navigation.links.loginCta","navigation.style.background","hero.title","hero.subtitle","hero.ctaLabel","hero.historyTitle","hero.reorderCtaLabel","hero.backgroundImage","about.title","about.description","about.image","about.style.background","menu.title","menu.ctaLabel","menu.loadingLabel","menu.image","menu.style.background","instagramReviews.title","instagramReviews.subtitle","instagramReviews.image","instagramReviews.style.background","findUs.title","findUs.addressLabel","findUs.address","findUs.cityLabel","findUs.city","findUs.hoursLabel","findUs.hours","findUs.mapLabel","findUs.style.background","footer.text","footer.style.background"],B$=[...U$,...$$],q$=Mh.flatMap(e=>B$.map(t=>`instagramReviews.reviews.${e}.${t}`)),yu=[...z$,...q$],H$=yu.filter(e=>!e.endsWith(".style.background")&&!e.endsWith(".image")&&!e.endsWith(".avatarUrl")&&!e.endsWith(".highlightImageUrl")&&!e.endsWith(".postImageUrl")&&e!=="hero.backgroundImage"&&e!=="navigation.brandLogo"&&e!=="navigation.staffLogo"),F$=new Set(["STRONG","EM","S","STRIKE","SPAN","BR","DIV","P","B","I"]),K$=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,G$=/^rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*(0|1|0?\.\d+))?\s*\)$/,IC=typeof window<"u"&&typeof document<"u",Y$=e=>{const t=e.trim().replace(/"|'/g,"");return K$.test(t)?t.toLowerCase():G$.test(t)?t.replace(/\s+/g,""):null},V$=e=>{const t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},W$=e=>{const n={B:"strong",I:"em",STRIKE:"s"}[e.tagName];if(!n)return e;const r=document.createElement(n);for(;e.firstChild;)r.appendChild(e.firstChild);return e.replaceWith(r),r},LC=e=>{if(!F$.has(e.tagName)){V$(e);return}const t=W$(e);if(Array.from(t.attributes).forEach(n=>{n.name!=="style"&&t.removeAttribute(n.name)}),t.hasAttribute("style")){const i=(t.getAttribute("style")??"").split(";").map(o=>o.trim()).filter(Boolean).find(o=>o.toLowerCase().startsWith("color"));if(i){const[,o]=i.split(":"),l=o?Y$(o):null;l?t.setAttribute("style",`color: ${l}`):t.removeAttribute("style")}else t.removeAttribute("style")}Array.from(t.childNodes).forEach(n=>{var r;if(n.nodeType===Node.COMMENT_NODE){(r=n.parentNode)==null||r.removeChild(n);return}n.nodeType===Node.ELEMENT_NODE&&LC(n)})},X$=e=>e.replace(/<\/?(?!br\b)[^>]+>/gi,"").replace(/\r\n|\r|\n/g,"<br>").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),Q$=e=>{const t=e??"";if(t.trim().length===0)return"";if(!IC)return X$(t).trim();const n=document.createElement("template");return n.innerHTML=t,Array.from(n.content.childNodes).forEach(r=>{var i;if(r.nodeType===Node.COMMENT_NODE){(i=r.parentNode)==null||i.removeChild(r);return}r.nodeType===Node.ELEMENT_NODE&&LC(r)}),n.innerHTML.trim()},J$=e=>{if(!IC)return e.replace(/<[^>]+>/g,"");const t=document.createElement("template");return t.innerHTML=e,t.content.textContent??""},o2=e=>e.replace(/[\u200B\u200C\u200D\uFEFF]/g,"").replace(/\r\n/g,`
`),ub=e=>{if(!e)return null;const t=Q$(e.html??""),n=o2(e.plainText??""),r=o2(J$(t)),i=n.trim().length>0?n:r;return t.trim().length===0&&i.trim().length===0?null:{html:t,plainText:i}},Z$={review1:{name:"Laura Méndez",handle:"@laurita.eats",timeAgo:"hace 2 días",message:"No puedo con la originalidad de estos tacos al pastor: cada mordisco tiene un giro gourmet brutal. La salsa cheddar queda cremosa sin empalagar y el toque crujiente lo es todo.",highlight:"Story « Taco Tuesday »",highlightCaption:"Guardado en Destacadas",location:"Bogotá · Servicio nocturno",badgeLabel:"Instagram",postImageAlt:"Assiette de tacos colorés garnis d'herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=640&q=80"},review2:{name:"Camila Torres",handle:"@camigoesout",timeAgo:"hace 5 días",message:"Estas arepas son lo más: combinan ingredientes súper frescos con un toque gourmet creativo. La mezcla dulce-salado y esa salsa cheddar para remojar me tuvieron feliz todo el brunch.",highlight:"Reel « Brunch entre amigas »",highlightCaption:"Comentarios llenos de antojos",location:"Medellín · Brunch de domingo",badgeLabel:"Instagram",postImageAlt:"Gros plan sur des arepas dorées et une sauce maison.",avatarUrl:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=640&q=80"},review3:{name:"Sebastián Ruiz",handle:"@ruizhungry",timeAgo:"hace 1 semana",message:"Armamos un afterwork aquí y fue un hit: combos originales, porciones generosas y un crunch brutal en cada bocado. La salsa cheddar se volvió tema de conversación.",highlight:"Post « Team Afterwork »",highlightCaption:"Reacciones de la oficina",location:"Barranquilla · Terraza privada",badgeLabel:"Instagram",postImageAlt:"Table conviviale avec plusieurs plats mexicains et des boissons fraîches.",avatarUrl:"https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=640&q=80"},review4:{name:"Valentina Ríos",handle:"@valen.foodnotes",timeAgo:"hace 2 semanas",message:"El menú tiene un mood gourmet sin perder lo reconfortante: masa crocante, cheddar fundido y combinaciones de ingredientes que se sienten pensadas con cariño. Increíble experiencia.",highlight:"Carousel « Night Out »",highlightCaption:"Comentarios fijados",location:"Cali · Cena casual",badgeLabel:"Instagram",postImageAlt:"Pizza gourmande avec fromage coulant et herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=640&q=80"},review5:{name:"Alejandro Pérez",handle:"@alexlovesfood",timeAgo:"hace 3 semanas",message:"Vine por curiosidad y me quedé por la originalidad del menú: el cheddar baña la burger justo como me gusta y el pan crujiente aguanta toda la salsa. Asociaciones de sabores top.",highlight:"Live « Burger Night »",highlightCaption:"Chat lleno de elogios",location:"Bogotá · Servicio takeout",badgeLabel:"Instagram",postImageAlt:"Burger gourmet avec sauce et frites croustillantes.",avatarUrl:"https://images.unsplash.com/photo-1529665253569-6d01c0eaf7b6?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=640&q=80"},review6:{name:"Juliana Gómez",handle:"@julie.foodstories",timeAgo:"hace 1 mes",message:"Pedimos catering para un cumpleaños y fue éxito total: tacos mini, dips calientes y una mesa que se veía divina para fotos. Todo llegó puntual y con instrucciones claras.",highlight:"Story « Fiesta privada »",highlightCaption:"Reseñas con confeti",location:"Cartagena · Evento privado",badgeLabel:"Instagram",postImageAlt:"Buffet coloré avec tacos, dips et accompagnements.",avatarUrl:"https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528715471579-d1bcf0ba5e83?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?auto=format&fit=crop&w=640&q=80"},review7:{name:"Manuela Herrera",handle:"@manuelatryit",timeAgo:"hace 6 semanas",message:"Amo que tengan opciones veggies sin perder el toque cheddar: las quesadillas con hongos y maíz dulce son mi nueva obsesión. Además, la atención es rapidísima.",highlight:"Reel « Veggie Lovers »",highlightCaption:"Comentarios verdes y felices",location:"Bogotá · Servicio para llevar",badgeLabel:"Instagram",postImageAlt:"Quesadillas dorées servies avec salsa verde.",avatarUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=640&q=80"}},He=e=>e.trim(),db=e=>typeof e=="string"&&e.trim().length>0,UC=(e,t)=>db(e)?e.trim():t,$C=(e,t)=>db(e)?e.trim():t,Hc=(e,t)=>db(e)?e.trim():t,Fe=(e,t)=>{if(typeof e!="string")return t;const n=e.trim();return n.length>0?n:t},ra=(e,t)=>e===void 0?t??null:e===null?null:$i(e)??t??null,aa=e=>$i(e)??null,ez=(e,t)=>{const n={};return Mh.forEach(r=>{const i=t[r],o=(e==null?void 0:e[r])??{};n[r]={name:Fe(o==null?void 0:o.name,i.name),handle:Fe(o==null?void 0:o.handle,i.handle),timeAgo:Fe(o==null?void 0:o.timeAgo,i.timeAgo),message:Fe(o==null?void 0:o.message,i.message),highlight:Fe(o==null?void 0:o.highlight,i.highlight),highlightCaption:Fe(o==null?void 0:o.highlightCaption,i.highlightCaption),location:Fe(o==null?void 0:o.location,i.location),badgeLabel:Fe(o==null?void 0:o.badgeLabel,i.badgeLabel),postImageAlt:Fe(o==null?void 0:o.postImageAlt,i.postImageAlt),avatarUrl:ra(o==null?void 0:o.avatarUrl,i.avatarUrl),highlightImageUrl:ra(o==null?void 0:o.highlightImageUrl,i.highlightImageUrl),postImageUrl:ra(o==null?void 0:o.postImageUrl,i.postImageUrl)}}),n},tz=e=>{const t={};return Mh.forEach(n=>{const r=(e==null?void 0:e[n])??{};t[n]={name:He((r==null?void 0:r.name)??""),handle:He((r==null?void 0:r.handle)??""),timeAgo:He((r==null?void 0:r.timeAgo)??""),message:He((r==null?void 0:r.message)??""),highlight:He((r==null?void 0:r.highlight)??""),highlightCaption:He((r==null?void 0:r.highlightCaption)??""),location:He((r==null?void 0:r.location)??""),badgeLabel:He((r==null?void 0:r.badgeLabel)??""),postImageAlt:He((r==null?void 0:r.postImageAlt)??""),avatarUrl:aa(r==null?void 0:r.avatarUrl),highlightImageUrl:aa(r==null?void 0:r.highlightImageUrl),postImageUrl:aa(r==null?void 0:r.postImageUrl)}}),t},Zd=e=>{if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0},zC=e=>{if(!e)return null;const t=Zd(e.textColor??null),n=Zd(e.fontFamily??null),r=Zd(e.fontSize??null),i=Zd(e.backgroundColor??null),o={};return t&&(o.textColor=t),n&&(o.fontFamily=n),r&&(o.fontSize=r),i&&(o.backgroundColor=i),Object.keys(o).length>0?o:null},nz=(e,t)=>{const n=e??t,r={};return yu.forEach(i=>{const o=zC(n[i]??null);o&&(r[i]=o)}),r},rz=(e,t)=>{const n=e??t,r={};return yu.forEach(i=>{const o=zC(n[i]??null);o&&(r[i]=o)}),r},az=(e,t)=>{const n=e??t,r={};return yu.forEach(i=>{const o=n[i],l=ub(o??null);l&&(r[i]=l)}),r},iz=(e,t)=>{const n=e??t,r={};return yu.forEach(i=>{const o=n[i],l=ub(o??null);l&&(r[i]=l)}),r},sz=["image","video","audio","font","raw"],oz=()=>`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,lz=e=>sz.includes(e)?e:"raw",cz=e=>{if(typeof e=="string"){const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString()}return new Date().toISOString()},uz=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:Math.round(t)},BC=e=>{if(!e)return null;const t=$i(e.url??void 0);if(!t)return null;const n=typeof e.id=="string"&&e.id.trim().length>0?e.id.trim():oz(),r=typeof e.name=="string"&&e.name.trim().length>0?e.name.trim():n,i=typeof e.format=="string"&&e.format.trim().length>0?e.format.trim():"application/octet-stream",o=lz(e.type),l=uz(e.bytes),d=cz(e.createdAt);return{id:n,name:r,url:t,format:i,bytes:l,type:o,createdAt:d}},dz=(e,t)=>e?{library:Array.isArray(e.library)?e.library.map(r=>BC(r)).filter(Boolean):t.library}:t,fz=(e,t)=>{const n=e??t;return{library:Array.isArray(n.library)?n.library.map(i=>BC(i)).filter(Boolean):t.library}},qC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#f1f5f9"},HC={background:{type:"image",color:"#0f172a",image:"https://picsum.photos/seed/tacosbg/1920/1080"},fontFamily:"Inter",fontSize:"18px",textColor:"#f8fafc"},FC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},KC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},GC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},YC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},VC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"14px",textColor:"#e2e8f0"},fb={library:[]},WC={},XC={},hs=(e,t)=>{var o,l,d,f;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=Hc((l=e==null?void 0:e.background)==null?void 0:l.color,t.background.color),i=n==="image"?ra(((d=e==null?void 0:e.background)==null?void 0:d.image)??void 0,t.background.image):null;return{background:{type:n,color:n==="color"?r:Hc((f=e==null?void 0:e.background)==null?void 0:f.color,t.background.color),image:n==="image"?i:null},fontFamily:UC((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:$C((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Hc((e==null?void 0:e.textColor)??null,t.textColor)}},ms=(e,t)=>{var o,l,d;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=Hc(((l=e==null?void 0:e.background)==null?void 0:l.color)??null,t.background.color),i=n==="image"?aa(((d=e==null?void 0:e.background)==null?void 0:d.image)??null):null;return{background:{type:n,color:r,image:n==="image"?i:null},fontFamily:UC((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:$C((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Hc((e==null?void 0:e.textColor)??null,t.textColor)}},Bf={navigation:{brand:"OUIOUITACOS",brandLogo:"/logo-brand.svg",staffLogo:"/logo-staff.svg",links:{home:"Accueil",about:"À propos",menu:"Menu",contact:"Contact",loginCta:"Staff Login"},style:qC},hero:{title:"Le Goût Authentique du Mexique",subtitle:"Des tacos préparés avec passion, des ingrédients frais et une touche de tradition pour un voyage gustatif inoubliable.",ctaLabel:"Commander en ligne",backgroundImage:"https://picsum.photos/seed/tacosbg/1920/1080",historyTitle:"Vos dernières commandes",reorderCtaLabel:"Commander à nouveau",style:HC},about:{title:"Notre Histoire",description:"Fondé par des passionnés de la cuisine mexicaine, OUIOUITACOS est né d'un désir simple : partager le goût authentique des tacos faits maison. Chaque recette est un héritage familial, chaque ingrédient est choisi avec soin, et chaque plat est préparé avec le cœur. Venez découvrir une explosion de saveurs qui vous transportera directement dans les rues de Mexico.",image:null,style:FC},menu:{title:"Nos Best-sellers",ctaLabel:"Voir le menu complet & Commander",loadingLabel:"Chargement du menu...",image:null,style:KC},instagramReviews:{title:"Ils nous adorent sur Instagram",subtitle:"Des foodies de toute la Colombie partagent leur coup de cœur pour notre cuisine : ambiance solaire, service attentionné et assiettes qui brillent autant que leurs stories.",image:"https://picsum.photos/seed/instagramreviews/600/600",style:GC,reviews:Mh.reduce((e,t)=>(e[t]={...Z$[t]},e),{})},findUs:{title:"Encuéntranos",addressLabel:"Dirección",address:`Cra. 53 #75-98
Barranquilla, Atlántico
Colombie`,cityLabel:"Email",city:"hola@ouiouipos.co",hoursLabel:"Horarios",hours:"Lunes a domingo · 11h00 - 23h00",mapLabel:"Ver en Google Maps",mapUrl:"https://www.google.com/maps?q=OUIOUITACOS%2C%20Cra%2053%20%2375-98%2C%20Barranquilla%2C%20Atl%C3%A1ntico%2C%20Colombie",style:YC},footer:{text:"Tous droits réservés.",style:VC},elementStyles:WC,elementRichText:XC,assets:fb},Gv=e=>{var n,r,i,o,l,d,f,h,p,g,y,b,w,S,j,N,A,O,C,T,P,k,D,q,$,F,H,re,B,K,I,Y,X,de,ne,R,L,W,se,oe,xe,Se,me,V,ge,ye,ce;const t=Bf;return{navigation:{brand:Fe((n=e==null?void 0:e.navigation)==null?void 0:n.brand,t.navigation.brand),brandLogo:ra((r=e==null?void 0:e.navigation)==null?void 0:r.brandLogo,t.navigation.brandLogo),staffLogo:ra((i=e==null?void 0:e.navigation)==null?void 0:i.staffLogo,t.navigation.staffLogo),links:{home:Fe((l=(o=e==null?void 0:e.navigation)==null?void 0:o.links)==null?void 0:l.home,t.navigation.links.home),about:Fe((f=(d=e==null?void 0:e.navigation)==null?void 0:d.links)==null?void 0:f.about,t.navigation.links.about),menu:Fe((p=(h=e==null?void 0:e.navigation)==null?void 0:h.links)==null?void 0:p.menu,t.navigation.links.menu),contact:Fe((y=(g=e==null?void 0:e.navigation)==null?void 0:g.links)==null?void 0:y.contact,t.navigation.links.contact),loginCta:Fe((w=(b=e==null?void 0:e.navigation)==null?void 0:b.links)==null?void 0:w.loginCta,t.navigation.links.loginCta)},style:hs((S=e==null?void 0:e.navigation)==null?void 0:S.style,t.navigation.style)},hero:{title:Fe((j=e==null?void 0:e.hero)==null?void 0:j.title,t.hero.title),subtitle:Fe((N=e==null?void 0:e.hero)==null?void 0:N.subtitle,t.hero.subtitle),ctaLabel:Fe((A=e==null?void 0:e.hero)==null?void 0:A.ctaLabel,t.hero.ctaLabel),backgroundImage:ra((O=e==null?void 0:e.hero)==null?void 0:O.backgroundImage,t.hero.backgroundImage),historyTitle:Fe((C=e==null?void 0:e.hero)==null?void 0:C.historyTitle,t.hero.historyTitle),reorderCtaLabel:Fe((T=e==null?void 0:e.hero)==null?void 0:T.reorderCtaLabel,t.hero.reorderCtaLabel),style:hs((P=e==null?void 0:e.hero)==null?void 0:P.style,t.hero.style)},about:{title:Fe((k=e==null?void 0:e.about)==null?void 0:k.title,t.about.title),description:Fe((D=e==null?void 0:e.about)==null?void 0:D.description,t.about.description),image:ra((q=e==null?void 0:e.about)==null?void 0:q.image,t.about.image),style:hs(($=e==null?void 0:e.about)==null?void 0:$.style,t.about.style)},menu:{title:Fe((F=e==null?void 0:e.menu)==null?void 0:F.title,t.menu.title),ctaLabel:Fe((H=e==null?void 0:e.menu)==null?void 0:H.ctaLabel,t.menu.ctaLabel),loadingLabel:Fe((re=e==null?void 0:e.menu)==null?void 0:re.loadingLabel,t.menu.loadingLabel),image:ra((B=e==null?void 0:e.menu)==null?void 0:B.image,t.menu.image),style:hs((K=e==null?void 0:e.menu)==null?void 0:K.style,t.menu.style)},instagramReviews:{title:Fe((I=e==null?void 0:e.instagramReviews)==null?void 0:I.title,t.instagramReviews.title),subtitle:Fe((Y=e==null?void 0:e.instagramReviews)==null?void 0:Y.subtitle,t.instagramReviews.subtitle),image:ra((X=e==null?void 0:e.instagramReviews)==null?void 0:X.image,t.instagramReviews.image),style:hs((de=e==null?void 0:e.instagramReviews)==null?void 0:de.style,t.instagramReviews.style),reviews:ez(((ne=e==null?void 0:e.instagramReviews)==null?void 0:ne.reviews)??null,t.instagramReviews.reviews)},findUs:{title:Fe((R=e==null?void 0:e.findUs)==null?void 0:R.title,t.findUs.title),addressLabel:Fe((L=e==null?void 0:e.findUs)==null?void 0:L.addressLabel,t.findUs.addressLabel),address:Fe((W=e==null?void 0:e.findUs)==null?void 0:W.address,t.findUs.address),cityLabel:Fe((se=e==null?void 0:e.findUs)==null?void 0:se.cityLabel,t.findUs.cityLabel),city:Fe((oe=e==null?void 0:e.findUs)==null?void 0:oe.city,t.findUs.city),hoursLabel:Fe((xe=e==null?void 0:e.findUs)==null?void 0:xe.hoursLabel,t.findUs.hoursLabel),hours:Fe((Se=e==null?void 0:e.findUs)==null?void 0:Se.hours,t.findUs.hours),mapLabel:Fe((me=e==null?void 0:e.findUs)==null?void 0:me.mapLabel,t.findUs.mapLabel),mapUrl:Fe((V=e==null?void 0:e.findUs)==null?void 0:V.mapUrl,t.findUs.mapUrl),style:hs((ge=e==null?void 0:e.findUs)==null?void 0:ge.style,t.findUs.style)},footer:{text:Fe((ye=e==null?void 0:e.footer)==null?void 0:ye.text,t.footer.text),style:hs((ce=e==null?void 0:e.footer)==null?void 0:ce.style,t.footer.style)},elementStyles:nz((e==null?void 0:e.elementStyles)??null,t.elementStyles),elementRichText:az((e==null?void 0:e.elementRichText)??null,t.elementRichText),assets:dz((e==null?void 0:e.assets)??null,fb)}},hz=e=>({navigation:{brand:He(e.navigation.brand),brandLogo:aa(e.navigation.brandLogo)??null,staffLogo:aa(e.navigation.staffLogo)??null,links:{home:He(e.navigation.links.home),about:He(e.navigation.links.about),menu:He(e.navigation.links.menu),contact:He(e.navigation.links.contact),loginCta:He(e.navigation.links.loginCta)},style:ms(e.navigation.style,qC)},hero:{title:He(e.hero.title),subtitle:He(e.hero.subtitle),ctaLabel:He(e.hero.ctaLabel),backgroundImage:aa(e.hero.backgroundImage),historyTitle:He(e.hero.historyTitle),reorderCtaLabel:He(e.hero.reorderCtaLabel),style:ms(e.hero.style,HC)},about:{title:He(e.about.title),description:He(e.about.description),image:aa(e.about.image),style:ms(e.about.style,FC)},menu:{title:He(e.menu.title),ctaLabel:He(e.menu.ctaLabel),loadingLabel:He(e.menu.loadingLabel),image:aa(e.menu.image),style:ms(e.menu.style,KC)},instagramReviews:{title:He(e.instagramReviews.title),subtitle:He(e.instagramReviews.subtitle),image:aa(e.instagramReviews.image),style:ms(e.instagramReviews.style,GC),reviews:tz(e.instagramReviews.reviews??null)},findUs:{title:He(e.findUs.title),addressLabel:He(e.findUs.addressLabel),address:He(e.findUs.address),cityLabel:He(e.findUs.cityLabel),city:He(e.findUs.city),hoursLabel:He(e.findUs.hoursLabel),hours:He(e.findUs.hours),mapLabel:He(e.findUs.mapLabel),mapUrl:He(e.findUs.mapUrl),style:ms(e.findUs.style,YC)},footer:{text:He(e.footer.text),style:ms(e.footer.style,VC)},elementStyles:rz(e.elementStyles,WC),elementRichText:iz(e.elementRichText,XC),assets:fz(e.assets,fb)}),Pi={},Of=e=>{Pi[e]&&Pi[e].forEach(t=>t())};let rl=null;const l2="site_content",mz="default",pz=()=>{if(!(rl||typeof pe.channel!="function"))try{rl=pe.channel("orders-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>Of("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},()=>Of("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},()=>Of("orders_updated")).subscribe(e=>{(e==="CHANNEL_ERROR"||e==="CLOSED"||e==="TIMED_OUT")&&(rl=null)})}catch(e){console.warn("Failed to subscribe to real-time order updates",e)}},Xe=e=>{if(e.error)throw new Error(e.error.message);return e.data},Es=e=>{if(e.error&&e.status!==406)throw new Error(e.error.message);return e.data??null},Nr=e=>{if(e)return new Date(e).getTime()},La=e=>{if(e==null)return;if(typeof e=="number")return e;const t=Number(e);return Number.isFinite(t)?t:void 0},Jo=e=>{if(e!==void 0)return e===null?null:new Date(e).toISOString()},qf=(e,t)=>e.reduce((n,r)=>{const i=t.get(r.ingredient_id);if(!i)return n;let o=i.prix_unitaire;return(i.unite==="kg"||i.unite==="L")&&(o=o/1e3),n+o*r.qte_utilisee},0),gz=e=>{if(!e)return{permissions:{},homePage:void 0};const{[Ms]:t,...n}=e;return{permissions:n,homePage:typeof t=="string"?t:void 0}},c2=(e,t)=>{const n={...e};return t?n[Ms]=t:delete n[Ms],n},yz=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===DC.ADMIN||t==="administrateur"},vz=(e,t)=>{const n={...e};return Ka in n||(n[Ka]=yz(t)?"editor":"none"),n},Oc=(e,t)=>{const{permissions:n,homePage:r}=gz(e.permissions),i=vz(n,e.name),o={id:e.id,name:e.name,homePage:r,permissions:i};return t&&e.pin&&(o.pin=e.pin),o},u2=e=>e!=null&&e.content?Gv(e.content):null,Yv=e=>({id:e.id,nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:e.stock_actuel,prix_unitaire:e.prix_unitaire}),Vv=e=>({id:e.id,nom:e.nom}),bz=e=>({ingredient_id:e.ingredient_id,qte_utilisee:e.qte_utilisee}),ys=(e,t)=>{const n=(e.product_recipes??[]).map(bz),r={id:e.id,nom_produit:e.nom_produit,description:e.description??void 0,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:pC(e.image),recipe:n,is_best_seller:e.is_best_seller??!1,best_seller_rank:e.best_seller_rank??null};return t&&(r.cout_revient=qf(n,t)),r},Wv=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),QC=e=>({id:e.id,produitRef:e.produit_id,nom_produit:e.nom_produit,prix_unitaire:La(e.prix_unitaire)??0,quantite:e.quantite,excluded_ingredients:e.excluded_ingredients??[],commentaire:e.commentaire??"",estado:e.estado,date_envoi:Nr(e.date_envoi)}),xz=(e,t)=>e.length!==t.length?!1:e.every((n,r)=>n===t[r]),_z=(e,t)=>{if(e.produitRef!==t.produitRef||e.nom_produit!==t.nom_produit||e.prix_unitaire!==t.prix_unitaire||e.quantite!==t.quantite||e.commentaire!==t.commentaire||e.estado!==t.estado)return!1;const n=[...e.excluded_ingredients].sort(),r=[...t.excluded_ingredients].sort();return xz(n,r)},wz=(e,t)=>{const n=[...t],r=[];return e.forEach(i=>{const o=n.findIndex(l=>_z(l,i));o!==-1&&r.push(n.splice(o,1)[0])}),[...r,...n]},Pa=e=>{const t=(e.order_items??[]).map(QC),n=La(e.total),r=La(e.profit),i={id:e.id,type:e.type,table_id:e.table_id??void 0,table_nom:e.table_nom??void 0,couverts:e.couverts??0,statut:e.statut,estado_cocina:e.estado_cocina,date_creation:Nr(e.date_creation)??Date.now(),date_envoi_cuisine:Nr(e.date_envoi_cuisine),date_listo_cuisine:Nr(e.date_listo_cuisine),date_servido:Nr(e.date_servido),payment_status:e.payment_status,items:t,total:n??0,profit:r,payment_method:e.payment_method??void 0,payment_receipt_url:e.payment_receipt_url??void 0,receipt_url:e.receipt_url??void 0};return(e.client_nom||e.client_telephone||e.client_adresse)&&(i.clientInfo={nom:e.client_nom??"",telephone:e.client_telephone??"",adresse:e.client_adresse??void 0}),i.subtotal=La(e.subtotal)??0,i.total_discount=La(e.total_discount)??0,i.promo_code=e.promo_code??void 0,i.applied_promotions=e.applied_promotions?typeof e.applied_promotions=="string"?JSON.parse(e.applied_promotions):e.applied_promotions:[],i},Sz=e=>({id:e.id,orderId:e.order_id,productId:e.product_id,productName:e.product_name,categoryId:e.category_id,categoryName:e.category_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,unitCost:e.unit_cost,totalCost:e.total_cost,profit:e.profit,paymentMethod:e.payment_method??void 0,saleDate:Nr(e.sale_date)??Date.now()}),jz=(e,t)=>{if(!e.commande_id)return"libre";const n=t==null?void 0:t.estado_cocina;return!n||n==="no_enviado"?"libre":n==="listo"?"para_entregar":n==="servido"||n==="entregada"?"para_pagar":e.statut==="para_entregar"||e.statut==="para_pagar"?e.statut:"en_cuisine"},Xv=(e,t)=>{const n=e.commande_id?t.get(e.commande_id):void 0,r={id:e.id,nom:e.nom,capacite:e.capacite,statut:jz(e,n),commandeId:e.commande_id??void 0,couverts:e.commande_id?e.couverts??void 0:void 0};return r.commandeId&&n&&(r.estado_cocina=n.estado_cocina,r.date_envoi_cuisine=n.date_envoi_cuisine),r},d2=async e=>{if(!e.commande_id)return Xv(e,new Map);const t=await pe.from("orders").select("id, estado_cocina, date_envoi_cuisine").eq("id",e.commande_id).maybeSingle(),n=Es(t),r=n?new Map([[n.id,{estado_cocina:n.estado_cocina,date_envoi_cuisine:Nr(n.date_envoi_cuisine)}]]):new Map;return Xv(e,r)},ki=()=>pe.from("orders").select(`
        id,
        type,
        table_id,
        table_nom,
        couverts,
        statut,
        estado_cocina,
        date_creation,
        date_envoi_cuisine,
        date_listo_cuisine,
        date_servido,
        payment_status,
        total,
        profit,
        payment_method,
        payment_receipt_url,
        client_nom,
        client_telephone,
        client_adresse,
        receipt_url,
        order_items (
          id,
          order_id,
          produit_id,
          nom_produit,
          prix_unitaire,
          quantite,
          excluded_ingredients,
          commentaire,
          estado,
          date_envoi
        ),
        subtotal,
        total_discount,
        promo_code,
        applied_promotions
      `).order("date_creation",{ascending:!1}),Nz=(e,t)=>`
        id,
        nom_produit,
        description,
        prix_vente,
        categoria_id,
        estado,
        image${e?`,
        is_best_seller,
        best_seller_rank`:""}${t?`,
        product_recipes (
          ingredient_id,
          qte_utilisee
        )`:""}
      `,f2=e=>{const t=(e==null?void 0:e.includeBestSellerColumns)!==!1,n=(e==null?void 0:e.includeRecipes)!==!1;let r=pe.from("products").select(Nz(t,n));return e!=null&&e.orderBy?r=r.order(e.orderBy.column,{ascending:e.orderBy.ascending??!0,nullsFirst:e.orderBy.nullsFirst}):r=r.order("nom_produit"),r},Ez=e=>{if(!(e!=null&&e.message))return!1;const t=e.message.toLowerCase();return t.includes("does not exist")&&t.includes("column")&&(t.includes("is_best_seller")||t.includes("best_seller_rank"))},Os=async(e,t)=>{let r=await e(f2({...t,includeBestSellerColumns:!0}),!0);return Ez(r.error)&&(r=await e(f2({...t,includeBestSellerColumns:!1}),!1)),r},Qt=async e=>{const t=await ki().eq("id",e).maybeSingle(),n=Es(t);return n?Pa(n):null},el=async()=>{const e=await pe.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").order("nom");return Xe(e).map(Yv)},Oz=e=>e?typeof e=="string"?e.toLowerCase().includes("permission"):e instanceof Error?e.message.toLowerCase().includes("permission"):typeof e=="object"&&"message"in e?String(e.message??"").toLowerCase().includes("permission"):!1:!1,Hg=async e=>{try{return await el()}catch(t){if(Oz(t))return console.warn(`[api.${e}] Impossible de récupérer les ingrédients (permissions insuffisantes). Poursuite avec une liste vide.`,t),[];throw t}},Af=async()=>{const e=await pe.from("categories").select("id, nom").order("nom");return Xe(e).map(Vv)},h2=async()=>{const e=await pe.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").order("nom"),t=Xe(e),n=t.map(i=>i.commande_id).filter(i=>!!i);let r=new Map;if(n.length>0){const i=await pe.from("orders").select("id, estado_cocina, date_envoi_cuisine").in("id",n),o=Xe(i);r=new Map(o.map(l=>[l.id,{estado_cocina:l.estado_cocina,date_envoi_cuisine:Nr(l.date_envoi_cuisine)}]))}return t.map(i=>Xv(i,r))},Fc=(e=new Date)=>{const t=new Date(e);return t.setHours(5,0,0,0),e<t&&t.setDate(t.getDate()-1),t},Az={week:{days:7,label:"7 derniers jours"},month:{days:30,label:"30 derniers jours"}},Cz=e=>{const t=Az[e],n=new Date(Fc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t.days),{config:t,start:r,end:n}},m2=async e=>{if(!e.items.length)return await pe.from("sales").delete().eq("order_id",e.id),await pe.from("orders").update({profit:0}).eq("id",e.id),0;const t=Array.from(new Set(e.items.map(b=>b.produitRef))),n=t.length>0?Os(b=>b.in("id",t)):Os(b=>b.limit(0)),[r,i,o]=await Promise.all([Af(),el(),n]),l=new Map(i.map(b=>[b.id,b])),d=new Map(r.map(b=>[b.id,b.nom]));let f=[];t.length>0&&(f=Xe(o));const h=new Map(f.map(b=>{const w=ys(b,l);return[w.id,w]})),p=Jo(e.date_servido)??new Date().toISOString(),g=e.items.filter(b=>Wv(b.produitRef)).map(b=>{const w=h.get(b.produitRef),S=w?qf(w.recipe,l):0,j=(w==null?void 0:w.categoria_id)??"unknown",N=w?d.get(j)??"Sans catégorie":"Sans catégorie",A=(b.prix_unitaire-S)*b.quantite;return{order_id:e.id,product_id:b.produitRef,product_name:b.nom_produit,category_id:j,category_name:N,quantity:b.quantite,unit_price:b.prix_unitaire,total_price:b.prix_unitaire*b.quantite,unit_cost:S,total_cost:S*b.quantite,profit:A,payment_method:e.payment_method??null,sale_date:p}}),y=g.reduce((b,w)=>b+w.profit,0);return await pe.from("sales").delete().eq("order_id",e.id),await pe.from("sales").insert(g),await pe.from("orders").update({profit:y}).eq("id",e.id),y},Ra={subscribe:(e,t)=>(Pi[e]||(Pi[e]=[]),Pi[e].push(t),e==="orders_updated"&&pz(),()=>{var n;Pi[e]=(Pi[e]??[]).filter(r=>r!==t),e==="orders_updated"&&((n=Pi[e])==null?void 0:n.length)===0&&rl&&(typeof pe.removeChannel=="function"&&pe.removeChannel(rl),rl=null)}),publish:e=>{Of(e)}},Rt=e=>{(e==null?void 0:e.includeNotifications)!==!1&&Ra.publish("notifications_updated"),Ra.publish("orders_updated")},je={notifications:Ra,getSiteContent:async()=>{const e=await pe.from(l2).select("id, content, updated_at").order("updated_at",{ascending:!1}).limit(1).maybeSingle(),t=Es(e);return u2(t)},updateSiteContent:async e=>{const t=hz(e),n=await pe.from(l2).upsert({id:mz,content:t},{onConflict:"id"}).select("id, content, updated_at").single(),r=Xe(n),i=u2(r);if(!i)throw new Error("Contenu du site introuvable après la mise à jour.");return i},getRoles:async()=>{const e=await pe.from("roles").select("id, name, pin, permissions").order("name");return Xe(e).map(n=>Oc(n,!0))},getRoleById:async e=>{const t=await pe.from("roles").select("id, name, permissions").eq("id",e).maybeSingle(),n=Es(t);return n?Oc(n,!1):null},createRole:async e=>{const t=await pe.from("roles").insert({name:e.name,pin:e.pin,permissions:c2(e.permissions,e.homePage)}).select("id, name, pin, permissions").single(),n=Xe(t);return Ra.publish("notifications_updated"),Oc(n,!0)},updateRole:async(e,t)=>{const n=await pe.from("roles").update({name:t.name,pin:t.pin,permissions:c2(t.permissions,t.homePage)}).eq("id",e).select("id, name, pin, permissions").single(),r=Xe(n);return Ra.publish("notifications_updated"),Oc(r,!0)},deleteRole:async e=>{const t=await pe.from("roles").delete().eq("id",e);Xe(t),Ra.publish("notifications_updated")},loginWithPin:async e=>{const t=await pe.from("roles").select("id, name, permissions").eq("pin",e).maybeSingle(),n=Es(t);if(!n)return null;const r=Oc(n,!1);try{await n2(r.id,r.name)}catch(i){console.warn("Failed to enregistrer la connexion du rôle",i)}return r},getDashboardStats:async(e="week")=>{var Se;const{config:t,start:n,end:r}=Cz(e),i=n.toISOString(),o=r.toISOString(),l=new Date(n);l.setDate(l.getDate()-t.days);const d=l.toISOString(),h=Fc().toISOString(),[p,g,y,b,w,S]=await Promise.all([h2(),el(),Af(),Os(me=>me),ki().eq("statut","finalisee").gte("date_creation",h),ki().eq("statut","finalisee").gte("date_creation",d).lt("date_creation",o)]),N=Xe(w).map(Pa),O=Xe(S).map(Pa),C=O.filter(me=>me.date_creation>=n.getTime()),T=O.filter(me=>me.date_creation<n.getTime()),P=new Map(g.map(me=>[me.id,me])),k=Xe(b),D=new Map(k.map(me=>{const V=ys(me,P);return[V.id,V]})),q=new Map(y.map(me=>[me.id,me.nom])),$=Jo((Se=N[0])==null?void 0:Se.date_servido)??new Date().toISOString(),F=N.flatMap(me=>me.items.map(V=>{const ge=D.get(V.produitRef),ye=ge?qf(ge.recipe,P):0,ce=(ge==null?void 0:ge.categoria_id)??"unknown",Qe=ge?q.get(ce)??"Sans catégorie":"Sans catégorie",Ae=(V.prix_unitaire-ye)*V.quantite;return{order_id:me.id,product_id:V.produitRef,product_name:V.nom_produit,category_id:ce,category_name:Qe,quantity:V.quantite,unit_price:V.prix_unitaire,total_price:V.prix_unitaire*V.quantite,unit_cost:ye,total_cost:ye*V.quantite,profit:Ae,payment_method:me.payment_method??null,sale_date:$}})),H=F.reduce((me,V)=>me+V.total_price,0);F.reduce((me,V)=>me+V.profit,0),N.reduce((me,V)=>me+(V.couverts??0),0),N.length>0&&H/N.length;const re=C.reduce((me,V)=>me+(V.total??0),0),B=C.reduce((me,V)=>me+V.items.reduce((ge,ye)=>{const ce=D.get(ye.produitRef),Qe=ce?qf(ce.recipe,P):0;return ge+(ye.prix_unitaire-Qe)*ye.quantite},0),0),K=C.reduce((me,V)=>me+(V.couverts??0),0),I=C.length>0?re/C.length:0,Y=new Map;C.forEach(me=>{me.items.forEach(V=>{const ge=D.get(V.produitRef),ye=ge?q.get(ge.categoria_id)??"Sans catégorie":"Sans catégorie";Y.set(ye,(Y.get(ye)??0)+V.prix_unitaire*V.quantite)})});const X=Array.from(Y.entries()).map(([me,V])=>({name:me,value:V})),de=[...C].sort((me,V)=>V.date_creation-me.date_creation).slice(0,5),ne=Array.from(D.values()).filter(me=>me.is_best_seller).sort((me,V)=>{const ge=me.best_seller_rank??Number.POSITIVE_INFINITY,ye=V.best_seller_rank??Number.POSITIVE_INFINITY;return ge===ye?me.nom_produit.localeCompare(V.nom_produit):ge-ye}).slice(0,6),R=p.filter(me=>me.statut!=="libre").length,L=p.reduce((me,V)=>me+(V.couverts??0),0),W=N.filter(me=>me.estado_cocina==="recibido").length,se=g.filter(me=>me.stock_actuel<=me.stock_minimum),oe=(me,V,ge)=>{const ye=V.getTime(),ce=ge.getTime();return me.reduce((Qe,Ae)=>Ae.date_creation>=ye&&Ae.date_creation<ce?Qe+(Ae.total??0):Qe,0)},xe=Array.from({length:t.days}).map((me,V)=>{const ge=new Date(n);ge.setDate(ge.getDate()+V);const ye=new Date(ge);ye.setDate(ye.getDate()+1);const ce=new Date(l);ce.setDate(ce.getDate()+V);const Qe=new Date(ce);return Qe.setDate(Qe.getDate()+1),{name:t.days===7?V===t.days-1?"Auj":`J-${t.days-1-V}`:ge.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),ventes:oe(C,ge,ye),ventesPeriodePrecedente:oe(T,ce,Qe)}});return{period:e,periodLabel:t.label,periodStart:i,periodEnd:o,ventesPeriode:re,beneficePeriode:B,clientsPeriode:K,panierMoyen:I,tablesOccupees:R,clientsActuels:L,commandesEnCuisine:W,ingredientsStockBas:se,ventesPeriodeSeries:xe,ventesParCategorie:X,recentOrders:de,bestSellerProducts:ne}},getSalesByProduct:async e=>{const t=h=>{if(h)return typeof h=="string"?h:h.toISOString()},n=t(e==null?void 0:e.start)??Fc().toISOString(),r=t(e==null?void 0:e.end);let i=pe.from("sales").select("product_id, product_name, total_price").gte("sale_date",n);r&&(i=i.lt("sale_date",r));const o=await i,l=Xe(o),d=new Map;l.forEach(h=>{const p=d.get(h.product_id)??{name:h.product_name,value:0};p.value+=h.total_price,d.set(h.product_id,p)});const f=Array.from(d.values()).sort((h,p)=>p.value-h.value);if(f.length>6){const h=f.slice(0,6),p=f.slice(6).reduce((g,y)=>g+y.value,0);return[...h,{name:"Autres",value:p}]}return f},getTables:async()=>h2(),createTable:async e=>{const t=await pe.from("restaurant_tables").insert({nom:e.nom,capacite:e.capacite,couverts:e.couverts??null}).select("id, nom, capacite, statut, commande_id, couverts").single(),n=Xe(t);return Rt(),d2(n)},updateTable:async(e,t)=>{const n={};t.nom!==void 0&&(n.nom=t.nom),t.capacite!==void 0&&(n.capacite=t.capacite),t.couverts!==void 0&&(n.couverts=t.couverts??null);const r=await pe.from("restaurant_tables").update(n).eq("id",e).select("id, nom, capacite, statut, commande_id, couverts").single(),i=Xe(r);return Rt(),d2(i)},deleteTable:async e=>{const t=await pe.from("restaurant_tables").delete().eq("id",e);Xe(t),Rt()},getIngredients:async()=>el(),getProducts:async()=>{const[e,t]=await Promise.all([Os(i=>i.neq("estado","archive")),Hg("getProducts")]),n=Xe(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.map(i=>ys(i,r))},getProductById:async e=>{const[t,n]=await Promise.all([Os(o=>o.eq("id",e).maybeSingle()),Hg("getProductById")]),r=Es(t);if(!r)return null;const i=n.length>0?new Map(n.map(o=>[o.id,o])):void 0;return ys(r,i)},getBestSellerProducts:async()=>{const[e,t]=await Promise.all([Os((i,o)=>o?i.eq("is_best_seller",!0).order("best_seller_rank",{ascending:!0,nullsFirst:!1}).limit(6):i.limit(0),{includeRecipes:!1}),Hg("getBestSellerProducts")]),n=Xe(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.filter(i=>i.estado!=="archive").sort((i,o)=>{const l=i.best_seller_rank??Number.POSITIVE_INFINITY,d=o.best_seller_rank??Number.POSITIVE_INFINITY;return l-d}).map(i=>ys(i,r)).filter(i=>i.is_best_seller).slice(0,6)},getCategories:async()=>Af(),createProduct:async(e,t)=>{let n;t&&(n=await pe.storage.from("product-images").upload(`${e.nom_produit}-${Date.now()}`,t).then(o=>{var l;if(o.error)throw o.error;return(l=o.data)==null?void 0:l.path}));const r=await pe.from("products").insert({nom_produit:e.nom_produit,description:e.description??null,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:n??null}).select("id, nom_produit, description, prix_vente, categoria_id, estado, image").single(),i=Xe(r);return e.recipe.length>0&&await pe.from("product_recipes").insert(e.recipe.map(o=>({product_id:i.id,ingredient_id:o.ingredient_id,qte_utilisee:o.qte_utilisee}))),Rt(),ys({...i,product_recipes:e.recipe.map(o=>({...o,product_id:i.id}))})},updateProduct:async(e,t,n)=>{let r;n?r=await pe.storage.from("product-images").upload(`${t.nom_produit??e}-${Date.now()}`,n).then(l=>{var d;if(l.error)throw l.error;return(d=l.data)==null?void 0:d.path}):"image"in t&&t.image===null&&(r=null);const i={};t.nom_produit!==void 0&&(i.nom_produit=t.nom_produit),t.description!==void 0&&(i.description=t.description),t.prix_vente!==void 0&&(i.prix_vente=t.prix_vente),t.categoria_id!==void 0&&(i.categoria_id=t.categoria_id),t.estado!==void 0&&(i.estado=t.estado),r!==void 0&&(i.image=r),Object.keys(i).length>0&&await pe.from("products").update(i).eq("id",e),t.recipe&&(await pe.from("product_recipes").delete().eq("product_id",e),t.recipe.length>0&&await pe.from("product_recipes").insert(t.recipe.map(l=>({product_id:e,ingredient_id:l.ingredient_id,qte_utilisee:l.qte_utilisee})))),Rt();const o=await je.getProductById(e);if(!o)throw new Error("Product not found after update");return o},deleteProduct:async e=>{const t=await je.getProductById(e);if(t!=null&&t.image){const n=t.image.split("/").pop();n&&await pe.storage.from("product-images").remove([n])}await pe.from("product_recipes").delete().eq("product_id",e),await pe.from("products").delete().eq("id",e),Rt()},createCategory:async e=>{const t=await pe.from("categories").insert(e).select("id, nom").single(),n=Xe(t);return Rt(),Vv(n)},updateCategory:async(e,t)=>{const n=await pe.from("categories").update(t).eq("id",e).select("id, nom").single(),r=Xe(n);return Rt(),Vv(r)},deleteCategory:async e=>{await pe.from("categories").delete().eq("id",e),Rt()},createIngredient:async e=>{const t=await pe.from("ingredients").insert({nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:0,prix_unitaire:0}).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),n=Xe(t);return Ra.publish("notifications_updated"),Yv(n)},updateIngredient:async(e,t)=>{const n=await pe.from("ingredients").update(t).eq("id",e).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),r=Xe(n);return Ra.publish("notifications_updated"),Yv(r)},deleteIngredient:async e=>{const t=await pe.from("product_recipes").select("ingredient_id, product_id, qte_utilisee").eq("ingredient_id",e).limit(1),{data:n}=t;return n&&n.length>0?{success:!1}:(await pe.from("ingredients").delete().eq("id",e),Ra.publish("notifications_updated"),{success:!0})},getKitchenOrders:async()=>{const e=await ki().eq("estado_cocina","recibido").or("statut.eq.en_cours,type.eq.a_emporter"),n=Xe(e).map(Pa),r=[];return n.forEach(i=>{const o=i.items.filter(d=>d.estado==="enviado");if(o.length===0)return;o.reduce((d,f)=>{const h=f.date_envoi??i.date_envoi_cuisine??i.date_creation,p=d.get(h)??[];return p.push(f),d.set(h,p),d},new Map).forEach((d,f)=>{r.push({...i,items:d,date_envoi_cuisine:f,ticketKey:`${i.id}-${f}`})})}),r.sort((i,o)=>{const l=i.date_envoi_cuisine??i.date_creation,d=o.date_envoi_cuisine??o.date_creation;return l-d})},getTakeawayOrders:async()=>{const e=await ki().eq("type","a_emporter"),n=Xe(e).map(Pa);return{pending:n.filter(r=>r.statut==="pendiente_validacion"&&r.estado_cocina==="no_enviado"),ready:n.filter(r=>r.estado_cocina==="listo")}},getOrderById:async e=>await Qt(e)??void 0,createOrGetOrderByTableId:async e=>{const t=await pe.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").eq("id",e).maybeSingle(),n=Es(t);if(!n)throw new Error("Table not found");if(n.commande_id){const l=await Qt(n.commande_id);if(l)return l}const r=new Date().toISOString(),i=await pe.from("orders").insert({type:"sur_place",table_id:n.id,table_nom:n.nom,couverts:n.couverts??n.capacite,statut:"en_cours",estado_cocina:"no_enviado",date_creation:r,payment_status:"unpaid",total:0}).select("*").single(),o=Xe(i);return await pe.from("restaurant_tables").update({statut:"en_cuisine",commande_id:o.id,couverts:n.couverts??n.capacite}).eq("id",e),Rt(),Pa(o)},cancelUnsentTableOrder:async e=>{const t=await Qt(e);!t||t.estado_cocina!=="no_enviado"||t.items.some(r=>r.estado!=="en_attente")||(await pe.from("order_items").delete().eq("order_id",e),await pe.from("orders").delete().eq("id",e),t.table_id&&await pe.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",t.table_id),Rt())},addOrderItems:async(e,t)=>{const n=new Date().toISOString(),r=t.map(o=>({...o,order_id:e,estado:"en_attente",date_envoi:n}));await pe.from("order_items").insert(r),Rt();const i=await Qt(e);if(!i)throw new Error("Order not found after adding items");return i},updateOrderItems:async(e,t)=>{const n=await Qt(e);if(!n)throw new Error("Order not found");const r=new Set(n.items.map(p=>p.id)),i=new Set(t.map(p=>p.id)),o=t.filter(p=>!r.has(p.id)),l=t.filter(p=>r.has(p.id)),d=n.items.filter(p=>!i.has(p.id)),f=new Date().toISOString();o.length>0&&await pe.from("order_items").insert(o.map(p=>({...p,order_id:e,estado:"en_attente",date_envoi:f}))),l.length>0&&await Promise.all(l.map(p=>pe.from("order_items").update({produit_id:p.produitRef,nom_produit:p.nom_produit,prix_unitaire:p.prix_unitaire,quantite:p.quantite,excluded_ingredients:p.excluded_ingredients??[],commentaire:p.commentaire,estado:p.estado??"en_attente",date_envoi:p.date_envoi?new Date(p.date_envoi).toISOString():f}).eq("id",p.id))),d.length>0&&await pe.from("order_items").delete().in("id",d.map(p=>p.id)),Rt();const h=await Qt(e);if(!h)throw new Error("Order not found after item update");return h},updateOrder:async(e,t,n)=>{t.items&&t.items;const{items:r,clientInfo:i,removedItemIds:o=[],...l}=t,d={};l.type&&(d.type=l.type),l.table_id!==void 0&&(d.table_id=l.table_id),l.table_nom!==void 0&&(d.table_nom=l.table_nom),l.couverts!==void 0&&(d.couverts=l.couverts),l.statut&&(d.statut=l.statut),l.estado_cocina&&(d.estado_cocina=l.estado_cocina),l.payment_status&&(d.payment_status=l.payment_status),l.payment_method!==void 0&&(d.payment_method=l.payment_method),l.payment_receipt_url!==void 0&&(d.payment_receipt_url=l.payment_receipt_url),l.receipt_url!==void 0&&(d.receipt_url=l.receipt_url),l.total!==void 0&&(d.total=l.total),l.profit!==void 0&&(d.profit=l.profit),l.date_creation!==void 0&&(d.date_creation=Jo(l.date_creation)),l.date_envoi_cuisine!==void 0&&(d.date_envoi_cuisine=Jo(l.date_envoi_cuisine)),l.date_listo_cuisine!==void 0&&(d.date_listo_cuisine=Jo(l.date_listo_cuisine)),l.date_servido!==void 0&&(d.date_servido=Jo(l.date_servido)),t.items&&(d.total=t.items.reduce((p,g)=>p+g.prix_unitaire*g.quantite,0));const f=o.filter(p=>Wv(p));f.length>0&&await pe.from("order_items").delete().in("id",f),i&&(d.client_nom=(i==null?void 0:i.nom)??null,d.client_telephone=(i==null?void 0:i.telephone)??null,d.client_adresse=(i==null?void 0:i.adresse)??null),Object.keys(d).length>0&&await pe.from("orders").update(d).eq("id",e),Rt({includeNotifications:(n==null?void 0:n.includeNotifications)??!0});const h=await Qt(e);if(!h)throw new Error("Order not found after update");return t.items?{...h,items:wz(t.items,h.items)}:h},sendOrderToKitchen:async(e,t)=>{const n=await Qt(e);if(!n)throw new Error("Order not found");const r=n.items.filter(f=>f.estado==="en_attente"),i=(()=>{if(!t||t.length===0)return r;const f=new Set(t);return r.filter(h=>f.has(h.id))})();if(i.length===0)return n;const o=i.filter(f=>Wv(f.id)).map(f=>f.id);if(o.length===0)return n;const l=new Date().toISOString();await pe.from("order_items").update({estado:"enviado",date_envoi:l}).in("id",o),await pe.from("orders").update({estado_cocina:"recibido",date_envoi_cuisine:l}).eq("id",e),n.table_id&&await pe.from("restaurant_tables").update({statut:"en_cuisine"}).eq("id",n.table_id),Rt();const d=await Qt(e);if(!d)throw new Error("Order not found after sending to kitchen");return d},markOrderAsReady:async e=>{const t=new Date().toISOString();await pe.from("orders").update({estado_cocina:"listo",date_listo_cuisine:t}).eq("id",e);const n=await Qt(e);n!=null&&n.table_id&&await pe.from("restaurant_tables").update({statut:"para_entregar"}).eq("id",n.table_id),Rt();const r=await Qt(e);if(!r)throw new Error("Order not found after ready update");return r},markOrderAsServed:async e=>{const t=await Qt(e);if(!t)throw new Error("Order not found");const n=new Date().toISOString();await pe.from("orders").update({estado_cocina:"servido",date_servido:n}).eq("id",e),t.table_id&&await pe.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",t.table_id),Rt();const r=await Qt(e);if(!r)throw new Error("Order not found after serve update");return r},finalizeOrder:async(e,t,n)=>{const r=await Qt(e);if(!r)throw new Error("Order not found");const i=new Date().toISOString();await pe.from("orders").update({statut:"finalisee",payment_status:"paid",payment_method:t,payment_receipt_url:n??null,date_servido:i,total:r.total,subtotal:r.subtotal,total_discount:r.total_discount,promo_code:r.promo_code,applied_promotions:r.applied_promotions?JSON.stringify(r.applied_promotions):null}).eq("id",e),r.table_id&&await pe.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",r.table_id),Rt();const o=await Qt(e);if(!o)throw new Error("Order not found after finalization");const l=await m2(o);return{...o,profit:l}},submitCustomerOrder:async e=>{var l,d,f;const n=new Date().toISOString(),r=await pe.from("orders").insert({type:"a_emporter",couverts:1,statut:"pendiente_validacion",estado_cocina:"no_enviado",date_creation:n,payment_status:"unpaid",total:e.total??e.items.reduce((h,p)=>h+p.prix_unitaire*p.quantite,0),client_nom:((l=e.clientInfo)==null?void 0:l.nom)??null,client_telephone:((d=e.clientInfo)==null?void 0:d.telephone)??null,client_adresse:((f=e.clientInfo)==null?void 0:f.adresse)??null,receipt_url:e.receipt_url??null,subtotal:e.subtotal??null,total_discount:e.total_discount??null,promo_code:e.promo_code??null,applied_promotions:e.applied_promotions?JSON.stringify(e.applied_promotions):null}).select("*").single(),i=Xe(r);if(e.items.length>0){const h=e.items.map(g=>{const y=g.produitRef&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(g.produitRef);return{order_id:i.id,produit_id:y?g.produitRef:null,nom_produit:g.nom_produit,prix_unitaire:g.prix_unitaire,quantite:g.quantite,excluded_ingredients:g.excluded_ingredients??[],commentaire:g.commentaire,estado:g.estado??"en_attente",date_envoi:g.date_envoi?new Date(g.date_envoi).toISOString():null}}),p=await pe.from("order_items").insert(h);if(p.error)throw console.error("Error inserting order items:",p.error),new Error(`Failed to insert order items: ${p.error.message}`)}Rt();const o=await Qt(i.id);if(!o)throw new Error("Order not found after creation");return o},getCustomerOrderStatus:async e=>Qt(e),validateTakeawayOrder:async e=>{const t=new Date().toISOString();await pe.from("orders").update({statut:"en_cours",estado_cocina:"recibido",payment_status:"paid",payment_method:"carte_bancaire",date_envoi_cuisine:t}).eq("id",e),await pe.from("order_items").update({estado:"enviado",date_envoi:t}).eq("order_id",e),Rt();const n=await Qt(e);if(!n)throw new Error("Order not found after validation");return n},markTakeawayAsDelivered:async e=>{await pe.from("orders").update({statut:"finalisee",estado_cocina:"entregada",payment_method:"transferencia"}).eq("id",e),Rt();const t=await Qt(e);if(!t)throw new Error("Order not found after delivery");const n=await m2(t);return{...t,profit:n}},getNotificationCounts:async()=>{const e=await ki(),n=Xe(e).map(Pa);return{pendingTakeaway:n.filter(r=>r.type==="a_emporter"&&r.statut==="pendiente_validacion"&&r.estado_cocina==="no_enviado").length,readyTakeaway:n.filter(r=>r.type==="a_emporter"&&r.estado_cocina==="listo").length,kitchenOrders:n.filter(r=>r.estado_cocina==="recibido").length,lowStockIngredients:(await el()).filter(r=>r.stock_actuel<=r.stock_minimum).length,readyForService:n.filter(r=>r.type==="sur_place"&&r.estado_cocina==="listo").length}},generateDailyReport:async()=>{const e=new Date,t=Fc(e),n=t.toISOString();a2(n);const[r,i,o,l]=await Promise.all([ki().eq("statut","finalisee"),Af(),el(),Os(k=>k)]);let d=[],f=!1;try{d=await r2(n)}catch(k){console.warn("Failed to fetch role logins for daily report",k),f=!0}const p=Xe(r).map(Pa),g=t.getTime(),y=e.getTime(),b=p.filter(k=>{const D=k.date_servido??k.date_listo_cuisine??k.date_creation;return D>=g&&D<=y}),w=b.reduce((k,D)=>k+(D.total??0),0),S=b.reduce((k,D)=>k+(D.couverts??0),0),j=b.length>0?w/b.length:0,N=new Map(o.map(k=>[k.id,k])),A=Xe(l),O=new Map(A.map(k=>{const D=ys(k,N);return[D.id,D]})),C=new Map(i.map(k=>[k.id,k.nom])),T=new Map;b.forEach(k=>{k.items.forEach(D=>{const q=O.get(D.produitRef),$=q?C.get(q.categoria_id)??"Sans catégorie":"Sans catégorie",F=q?q.categoria_id:"unknown",H=T.get(F)??{categoryName:$,products:[]},re=H.products.find(B=>B.id===D.produitRef);re?(re.quantity+=D.quantite,re.totalSales+=D.prix_unitaire*D.quantite):H.products.push({id:D.produitRef,name:D.nom_produit,quantity:D.quantite,totalSales:D.prix_unitaire*D.quantite}),T.set(F,H)})}),T.forEach(k=>{k.products.sort((D,q)=>q.quantity-D.quantity)});const P=o.filter(k=>k.stock_actuel<=k.stock_minimum);return{generatedAt:e.toISOString(),startDate:t.toISOString(),clientsDuJour:S,panierMoyen:j,ventesDuJour:w,soldProducts:Array.from(T.values()),lowStockIngredients:P,roleLogins:d,roleLoginsUnavailable:f}},getSalesHistory:async()=>{const e=await pe.from("sales").select("*").order("sale_date",{ascending:!1});return Xe(e).map(Sz)},getFinalizedOrders:async()=>{const e=await ki().eq("statut","finalisee");return Xe(e).map(Pa)},createOrder:async e=>{const t={type:e.order_type||"para_llevar",statut:e.status||"pending",estado_cocina:"en_attente",payment_status:"pending",date_creation:new Date().toISOString(),total:e.total??0,subtotal:e.subtotal??0,total_discount:e.total_discount??0,promo_code:e.promo_code||null,applied_promotions:e.applied_promotions?JSON.stringify(e.applied_promotions):null,payment_method:e.payment_method||null,payment_receipt_url:e.receipt_url||null,client_nom:e.client_name||null,client_telephone:e.client_phone||null,client_adresse:e.client_address||null},n=await pe.from("orders").insert(t).select(`
        id,
        type,
        table_id,
        table_nom,
        couverts,
        statut,
        estado_cocina,
        date_creation,
        date_envoi_cuisine,
        date_listo_cuisine,
        date_servido,
        payment_status,
        total,
        profit,
        payment_method,
        payment_receipt_url,
        client_nom,
        client_telephone,
        client_adresse,
        receipt_url,
        subtotal,
        total_discount,
        promo_code,
        applied_promotions
      `).single(),r=Xe(n),i=[];if(e.items&&e.items.length>0){const l=e.items.map(h=>({order_id:r.id,produit_id:h.produitRef,nom_produit:h.nom_produit,prix_unitaire:h.prix_unitaire,quantite:h.quantite,excluded_ingredients:h.excluded_ingredients||[],commentaire:h.commentaire||null,estado:"en_attente"})),d=await pe.from("order_items").insert(l).select("*"),f=Xe(d);i.push(...f.map(QC))}const o={id:r.id,type:r.type,table_id:r.table_id??void 0,table_nom:r.table_nom??void 0,couverts:r.couverts??0,statut:r.statut,estado_cocina:r.estado_cocina,date_creation:Nr(r.date_creation)??Date.now(),date_envoi_cuisine:Nr(r.date_envoi_cuisine),date_listo_cuisine:Nr(r.date_listo_cuisine),date_servido:Nr(r.date_servido),payment_status:r.payment_status,items:i,total:La(r.total)??0,profit:La(r.profit),payment_method:r.payment_method??void 0,payment_receipt_url:r.payment_receipt_url??void 0,receipt_url:r.receipt_url??void 0,subtotal:La(r.subtotal),total_discount:La(r.total_discount),promo_code:r.promo_code??void 0,applied_promotions:r.applied_promotions?typeof r.applied_promotions=="string"?JSON.parse(r.applied_promotions):r.applied_promotions:void 0};return(r.client_nom||r.client_telephone||r.client_adresse)&&(o.clientInfo={nom:r.client_nom??"",telephone:r.client_telephone??"",adresse:r.client_adresse??void 0}),Rt({includeNotifications:!0}),o},logins:{fetchSince:r2,clearBefore:a2,log:n2}};let ef=null;const Rh=()=>{const[e,t]=x.useState(ef),[n,r]=x.useState(!0),[i,o]=x.useState(null),l=x.useCallback(async()=>{r(!0);try{const f=await je.getSiteContent(),h=Gv(f??void 0);ef=h,t(h),o(null)}catch(f){console.error("Failed to fetch site content",f),ef=Bf,t(Bf),o(f instanceof Error?f.message:"Impossible de charger le contenu du site.")}finally{r(!1)}},[]),d=x.useCallback(async f=>{const h=await je.updateSiteContent(f),p=Gv(h);return t(p),ef=p,p},[]);return x.useEffect(()=>{l()},[l]),{content:e,loading:n,error:i,refresh:l,updateContent:d}},JC=x.createContext(void 0),Tz=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("oui-oui-tacos-role"),p=localStorage.getItem("oui-oui-tacos-session");if(!h||!p){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session");return}const g=JSON.parse(h),y=JSON.parse(p);if(!(g!=null&&g.id)||y.roleId!==g.id){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null);return}const b=await je.getRoleById(g.id);b?(n(b),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(b)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:b.id,authenticatedAt:Date.now()}))):(localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null))}catch(h){console.error("Failed to restore role:",h),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null)}finally{i(!1)}})()},[]);const o=x.useCallback(async f=>{i(!0);try{const h=await je.loginWithPin(f);if(!h)throw new Error("PIN invalide");return n(h),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(h)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:h.id,authenticatedAt:Date.now()})),h}finally{i(!1)}},[]),l=x.useCallback(()=>{n(null),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session")},[]),d=x.useCallback(async()=>{if(t!=null&&t.id)try{const f=await je.getRoleById(t.id);f?(n(f),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(f)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:f.id,authenticatedAt:Date.now()}))):l()}catch(f){console.error("Failed to refresh role:",f)}},[l,t==null?void 0:t.id]);return u.jsx(JC.Provider,{value:{role:t,loading:r,login:o,logout:l,refreshRole:d},children:e})},da=()=>{const e=x.useContext(JC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Hf=e=>e==="editor"||e==="readonly",hb=e=>{if(!e)return null;const{homePage:t,permissions:n}=e;if(t&&Hf(n==null?void 0:n[t]))return t;const r=Bn.find(i=>Hf(n==null?void 0:n[i.permissionKey]));return r?r.href:null},kz=["a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),Pz=({isOpen:e,onClose:t,notifications:n,onReportClick:r})=>{const{role:i,logout:o}=da(),l=Xa(),d=x.useRef(null),f=x.useRef(null),h=()=>{o(),l("/")},p=i==null?void 0:i.permissions,g=x.useMemo(()=>Bn.filter(S=>{const j=p==null?void 0:p[S.permissionKey];return Hf(j)}),[p]),y=x.useMemo(()=>g.find(S=>S.permissionKey===Ka),[g]),b=x.useMemo(()=>g.filter(S=>S.permissionKey!==Ka),[g]);x.useEffect(()=>{var O;if(!e||typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches)return;f.current=document.activeElement;const j=d.current,N=j==null?void 0:j.querySelectorAll(kz);(O=N==null?void 0:N[0])==null||O.focus();const A=C=>{if(C.key==="Escape"&&(C.preventDefault(),t()),C.key==="Tab"&&N&&N.length>0){const T=N[0],P=N[N.length-1];C.shiftKey?document.activeElement===T&&(C.preventDefault(),P.focus()):document.activeElement===P&&(C.preventDefault(),T.focus())}};return document.addEventListener("keydown",A),()=>{var C,T;document.removeEventListener("keydown",A),(T=(C=f.current)==null?void 0:C.focus)==null||T.call(C)}},[e,t]);const w=()=>{typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches||t()};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 md:hidden ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!e,onClick:t}),u.jsxs("aside",{ref:d,className:`app-sidebar fixed inset-y-0 left-0 z-50 flex w-72 flex-col transition-transform duration-300 ease-in-out md:static md:z-auto md:w-64 md:translate-x-0 ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,"aria-label":"Navegación principal",children:[u.jsxs("div",{className:"app-sidebar__header",children:[u.jsx("span",{className:"app-sidebar__brand",children:"OUIOUI"}),u.jsx("button",{onClick:t,className:"app-sidebar__close md:hidden","aria-label":"Cerrar el menú",children:u.jsx(oa,{size:20})})]}),u.jsxs("div",{className:"app-sidebar__content",children:[u.jsx("div",{className:"app-sidebar__scroll-region",children:u.jsx("nav",{className:"app-sidebar__nav",children:b.map(S=>{let j=null;return n&&(S.href==="/para-llevar"&&(n.pendingTakeaway>0||n.readyTakeaway>0)?j=u.jsxs("span",{className:"app-sidebar__badge-group",children:[n.pendingTakeaway>0&&u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.pendingTakeaway} por validar`,children:n.pendingTakeaway}),n.readyTakeaway>0&&u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--success",title:`${n.readyTakeaway} listo(s)`,children:n.readyTakeaway})]}):S.href==="/ventes"&&n.readyForService>0?j=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.readyForService} pedido(s) listo(s)`,children:n.readyForService})}):S.href==="/cocina"&&n.kitchenOrders>0?j=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.kitchenOrders})}):S.href==="/ingredients"&&n.lowStockIngredients>0&&(j=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.lowStockIngredients})}))),u.jsxs(Cv,{to:S.href,onClick:w,className:({isActive:N})=>`app-sidebar__nav-link${N?" is-active":""}`,children:[u.jsx(S.icon,{size:22}),u.jsx("span",{children:S.name}),j]},S.name)})})}),u.jsxs("div",{className:"app-sidebar__section",children:[y&&u.jsxs(Cv,{to:y.href,onClick:w,className:({isActive:S})=>`app-sidebar__action${S?" is-active":""}`,children:[u.jsx(y.icon,{size:22}),u.jsx("span",{className:"font-semibold",children:y.name})]}),u.jsxs("button",{onClick:()=>{r(),w()},className:"app-sidebar__action",children:[u.jsx(NC,{size:22}),u.jsx("span",{className:"font-semibold",children:"Reporte"})]}),u.jsxs("button",{onClick:h,className:"app-sidebar__action app-sidebar__action--logout",children:[u.jsx(UU,{size:22}),u.jsx("span",{className:"font-semibold",children:"Cerrar sesión"})]})]})]})]})]})},On=({isOpen:e,onClose:t,title:n,children:r,size:i="md"})=>{const o={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},l=x.useId();return x.useEffect(()=>{if(!e)return;const d=f=>{f.key==="Escape"&&(f.preventDefault(),t())};return window.addEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}},[e,t]),e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4 py-4 sm:px-6 sm:py-8",onClick:t,children:u.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":l,className:`relative flex w-full flex-col overflow-hidden rounded-2xl bg-white shadow-2xl ${o[i]} max-h-[calc(100vh-2rem)] sm:max-h-[90vh] focus:outline-none`,onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 px-4 py-3 sm:px-6",children:[u.jsx("h3",{id:l,className:"text-lg font-semibold text-slate-900 sm:text-xl",children:n}),u.jsx("button",{type:"button",onClick:t,className:"rounded-full p-1.5 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-500","aria-label":"Fermer la fenêtre modale",children:u.jsx(oa,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-5 sm:px-6 sm:py-6",children:r})]})}):null},Mz=new Intl.NumberFormat("es-CO",{maximumFractionDigits:0}),Rz=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});function ZC(e){return Number.isFinite(e)?Math.round(e):0}function Dz(e){return Mz.format(ZC(e))}function ke(e){return Rz.format(ZC(e))}const Fg=({icon:e,label:t,value:n})=>u.jsxs("div",{className:"bg-gray-100 p-3 sm:p-4 rounded-lg flex flex-col sm:flex-row sm:items-center items-start gap-3",children:[u.jsx("div",{className:"p-2 sm:p-3 bg-brand-primary/20 text-brand-primary rounded-full",children:e}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-semibold",children:t}),u.jsx("p",{className:"font-bold text-gray-800 text-[clamp(1.1rem,2.5vw,1.5rem)]",children:n})]})]}),Iz=({isOpen:e,onClose:t})=>{const[n,r]=x.useState(null),[i,o]=x.useState(!0),[l,d]=x.useState(null);x.useEffect(()=>{e&&(async()=>{o(!0),d(null);try{const y=await je.generateDailyReport();r(y)}catch(y){console.error("Error al generar el informe diario",y),r(null),d("No fue posible generar el informe diario. Intenta nuevamente más tarde.")}finally{o(!1)}})()},[e]);const f=g=>{const y=new Map;return g.forEach(b=>{const w=new Date(b.loginAt).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),S=y.get(b.roleName)??[];S.push(w),y.set(b.roleName,S)}),y},h=g=>{const y=[];if(y.push("*REPORTE OUIOUITACOS*"),y.push(`Generado el: ${new Date(g.generatedAt).toLocaleString("es-CO")}`),y.push(`Periodo: desde ${new Date(g.startDate).toLocaleString("es-CO")}`),y.push("---"),y.push("*Estadísticas del día*"),y.push(`- Ventas: *${ke(g.ventesDuJour)}*`),y.push(`- Clientes: *${g.clientsDuJour}*`),y.push(`- Ticket promedio: *${ke(g.panierMoyen)}*`),y.push("---"),y.push("*Productos vendidos*"),g.soldProducts.length===0?y.push("Ningún producto vendido."):g.soldProducts.forEach(b=>{y.push(`
_${b.categoryName}_`),b.products.forEach(w=>{y.push(`  - ${w.quantity}x ${w.name} (${ke(w.totalSales)})`)})}),y.push("---"),y.push("*Inicios de sesión desde las 05:00*"),g.roleLoginsUnavailable)y.push("Inicios de sesión no disponibles en este dispositivo.");else{const b=f(g.roleLogins);b.size===0?y.push("No hay inicios de sesión registrados."):b.forEach((w,S)=>{y.push(`- ${S}: ${w.join(", ")}`)})}return y.push("---"),y.push("*Inventario bajo*"),g.lowStockIngredients.length===0?y.push("No hay ingredientes con inventario bajo."):g.lowStockIngredients.forEach(b=>{y.push(`- ${b.nom} (${b.stock_actuel} / ${b.stock_minimum} ${b.unite})`)}),encodeURIComponent(y.join(`
`))},p=()=>{if(!n)return;const y=`https://wa.me/?text=${h(n)}`;window.open(y,"_blank"),t()};return u.jsx(On,{isOpen:e,onClose:t,title:"Reporte diario",size:"xl",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[i&&u.jsx("p",{children:"Generando el reporte..."}),!i&&l&&u.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:l}),!i&&!n&&!l&&u.jsx("p",{className:"text-red-500",children:"No fue posible generar el reporte."}),!i&&n&&u.jsxs("div",{className:"space-y-6",children:[n.roleLoginsUnavailable&&u.jsxs("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-3 text-sm text-yellow-800 flex items-start gap-2",children:[u.jsx(ia,{className:"mt-0.5 h-4 w-4"}),u.jsx("span",{children:"Los inicios de sesión de los roles no están disponibles en este dispositivo (almacenamiento local inaccesible)."})]}),u.jsxs("div",{className:"text-center border-b pb-4",children:[u.jsx("h2",{className:"font-bold text-brand-secondary text-[clamp(1.75rem,4vw,2.75rem)]",children:"Reporte OUIOUITACOS"}),u.jsxs("p",{className:"text-gray-500",children:["Generado el ",new Date(n.generatedAt).toLocaleString("es-CO")]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Datos desde ",new Date(n.startDate).toLocaleString("es-CO")]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsx(Fg,{icon:u.jsx(Jc,{}),label:"Ventas del día",value:ke(n.ventesDuJour)}),u.jsx(Fg,{icon:u.jsx(Kv,{}),label:"Clientes del día",value:n.clientsDuJour}),u.jsx(Fg,{icon:u.jsx(PC,{}),label:"Ticket promedio",value:ke(n.panierMoyen)})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(Zo,{})," Productos vendidos"]}),u.jsx("div",{className:"space-y-4",children:n.soldProducts.map(g=>u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-brand-primary",children:g.categoryName}),u.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:g.products.map(y=>u.jsxs("li",{children:[y.quantity,"x ",y.name," - ",u.jsx("span",{className:"font-semibold",children:ke(y.totalSales)})]},y.id))})]},g.categoryName))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(IU,{})," Inicios de sesión desde las 05:00"]}),n.roleLoginsUnavailable?u.jsx("p",{className:"text-gray-500",children:"Inicios de sesión no disponibles: no es posible acceder al almacenamiento local."}):(()=>{const g=f(n.roleLogins);return g.size===0?u.jsx("p",{className:"text-gray-500",children:"No hay inicios de sesión registrados desde las 05:00."}):u.jsx("ul",{className:"space-y-2",children:Array.from(g.entries()).map(([y,b])=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-100 p-2 rounded-md",children:[u.jsx("span",{className:"font-semibold text-gray-800",children:y}),u.jsx("span",{className:"text-sm text-gray-600",children:b.join(", ")})]},y))})})()]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(ia,{className:"text-orange-500"})," Ingredientes con inventario bajo"]}),n.lowStockIngredients.length>0?u.jsx("ul",{className:"space-y-1",children:n.lowStockIngredients.map(g=>u.jsxs("li",{className:"flex justify-between items-center bg-orange-50 p-2 rounded-md text-orange-800",children:[u.jsx("span",{children:g.nom}),u.jsxs("span",{className:"font-bold",children:[g.stock_actuel," / ",g.stock_minimum," ",g.unite]})]},g.id))}):u.jsx("p",{className:"text-gray-500",children:"No hay ingredientes con inventario bajo."})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 border-t",children:[u.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"}),u.jsxs("button",{onClick:p,disabled:i||!n,className:"w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:[u.jsx(AC,{size:20})," Enviar por WhatsApp"]})]})]})})},Lz=()=>{const[e,t]=x.useState(!1),{role:n}=da(),[r,i]=x.useState(null),[o,l]=x.useState(!1),d=()=>t(!0),f=()=>t(!1);return x.useEffect(()=>{const h=async()=>{try{const g=await je.getNotificationCounts();i(g)}catch(g){console.error("Failed to fetch notifications",g)}};h();const p=je.notifications.subscribe("notifications_updated",h);return()=>{p()}},[]),x.useEffect(()=>{if(typeof window>"u")return;const h=()=>{window.innerWidth>=768&&t(!1)};return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"app-shell",children:[u.jsx(Pz,{isOpen:e,onClose:f,notifications:r,onReportClick:()=>l(!0)}),u.jsxs("div",{className:"app-main",children:[u.jsxs("header",{className:"app-header",children:[u.jsx("button",{type:"button",onClick:d,className:"app-header__menu-button md:hidden","aria-label":"Abrir el menú",children:u.jsx(OC,{size:24})}),u.jsxs("h1",{className:"app-header__title",children:["Bienvenido, ",n==null?void 0:n.name]}),u.jsx("div",{className:"app-header__spacer md:hidden","aria-hidden":"true"})]}),u.jsx("main",{className:"app-content",children:u.jsx("div",{className:"app-content__inner",children:u.jsx(pI,{})})})]})]}),u.jsx(Iz,{isOpen:o,onClose:()=>l(!1)})]})},Uz=e=>{try{const t=localStorage.getItem("customer-order-history"),n=t?JSON.parse(t):[],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1),n.unshift(e);const i=n.slice(0,10);localStorage.setItem("customer-order-history",JSON.stringify(i))}catch(t){console.error("Failed to save order to history:",t)}},$z=({orderId:e,onNewOrderClick:t,variant:n="page"})=>{var S,j,N,A;const[r,i]=x.useState(null),[o,l]=x.useState(!0),[d,f]=x.useState(!1),h=[{name:"Enviado",icon:NC},{name:"Validado",icon:$f},{name:"En preparacion",icon:_C},{name:"Listo",icon:KU}],p=x.useCallback(O=>O?O.statut==="finalisee"||O.estado_cocina==="servido"||O.estado_cocina==="entregada"||O.estado_cocina==="listo"?3:O.estado_cocina==="recibido"?2:O.statut==="en_cours"?1:O.statut==="pendiente_validacion"||O.estado_cocina==="no_enviado"?0:-1:-1,[]),g=x.useMemo(()=>p(r),[r,p]);x.useEffect(()=>{let O=!0,C;const T=async()=>{try{const P=await je.getCustomerOrderStatus(e);if(O){if(i(P),(P==null?void 0:P.statut)==="finalisee"||(P==null?void 0:P.estado_cocina)==="servido"||(P==null?void 0:P.estado_cocina)==="entregada"){C&&clearInterval(C),Uz(P);const k=P.date_servido??Date.now();QI(P.id,k+WI)}if(!P){const k=Rf();(k==null?void 0:k.orderId)===e&&KA()}}}catch(P){console.error("Failed to fetch order status",P)}finally{O&&l(!1)}};return T(),C=setInterval(T,5e3),()=>{O=!1,clearInterval(C)}},[e]);const y=(r==null?void 0:r.statut)==="finalisee"||(r==null?void 0:r.estado_cocina)==="servido"||(r==null?void 0:r.estado_cocina)==="entregada"||(r==null?void 0:r.estado_cocina)==="listo",b=n==="page"?"container mx-auto p-4 lg:p-8":"flex-1 flex flex-col justify-center items-center text-center text-white p-4 bg-black bg-opacity-60 w-full",w=n==="page"?"bg-white/95 p-6 rounded-xl shadow-2xl max-w-2xl mx-auto":"max-w-4xl mx-auto";return o?u.jsx("div",{className:b,children:"Chargement du suivi de commande..."}):r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:b,children:u.jsxs("div",{className:w,children:[u.jsx("h2",{className:`text-3xl font-bold text-center mb-2 ${n==="hero"?"text-white":"text-gray-800"}`,children:"Suivi de votre commande"}),u.jsxs("p",{className:`text-center font-semibold mb-8 ${n==="hero"?"text-gray-300":"text-gray-500"}`,children:["Commande #",r.id.slice(-6)]}),u.jsx("div",{className:"flex items-center mb-10 px-2",children:h.map((O,C)=>{const T=C===g,P=C===h.length-1,k=C<g||P&&y;return u.jsxs(Hn.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 rounded-full border-4 transition-all duration-500 ${k?"bg-green-500 border-green-300":T?"bg-blue-600 border-blue-400 animate-pulse":"bg-gray-400 border-gray-300"}`,children:u.jsx(O.icon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),u.jsx("p",{className:`mt-2 text-xs sm:text-sm font-semibold text-center ${k||T?`${n==="hero"?"text-white":"text-gray-800"}`:"text-gray-400"}`,children:O.name})]}),C<h.length-1&&u.jsxs("div",{className:`flex-1 h-1.5 ${n==="hero"?"bg-gray-600":"bg-gray-300"} rounded-full mx-2 sm:mx-4 relative overflow-hidden`,children:[u.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500 transition-all duration-1000",style:{width:k?"100%":"0%"}}),T&&u.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-500",style:{width:"50%",animation:"progress-bar-pulse 2s ease-in-out infinite"}})]})]},O.name)})}),u.jsx("style",{children:`
                    @keyframes progress-bar-pulse {
                        0% { transform: translateX(-100%); opacity: 0.8; }
                        50% { opacity: 1; }
                        100% { transform: translateX(200%); opacity: 0.8; }
                    }
                    
                    .stamp-container {
                        position: relative;
                        width: 180px;
                        height: 180px;
                        animation: stamp-appear 0.5s ease-out;
                    }
                    
                    @keyframes stamp-appear {
                        0% {
                            transform: scale(0) rotate(-45deg);
                            opacity: 0;
                        }
                        60% {
                            transform: scale(1.1) rotate(0deg);
                        }
                        100% {
                            transform: scale(1) rotate(0deg);
                            opacity: 1;
                        }
                    }
                    
                    .stamp-border {
                        width: 100%;
                        height: 100%;
                        border: 4px solid #dc2626;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        background: rgba(220, 38, 38, 0.05);
                        position: relative;
                        box-shadow: 0 0 0 2px #dc2626;
                    }
                    
                    .stamp-border::before {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        border-radius: 50%;
                        background: repeating-linear-gradient(
                            45deg,
                            transparent,
                            transparent 2px,
                            rgba(220, 38, 38, 0.03) 2px,
                            rgba(220, 38, 38, 0.03) 4px
                        );
                    }
                    
                    .stamp-inner {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        text-align: center;
                        z-index: 1;
                    }
                    
                    .stamp-text {
                        font-family: 'Arial Black', 'Arial Bold', sans-serif;
                        font-weight: 900;
                        color: #dc2626;
                        text-transform: uppercase;
                        letter-spacing: 2px;
                        line-height: 1;
                        text-shadow: 
                            1px 1px 0 rgba(220, 38, 38, 0.3),
                            -1px -1px 0 rgba(220, 38, 38, 0.3);
                    }
                    
                    .stamp-text:first-child {
                        font-size: 20px;
                        margin-bottom: 6px;
                    }
                    
                    .stamp-text-large {
                        font-size: 42px;
                        font-weight: 900;
                    }
                    
                    /* Effet de texture grunge */
                    .stamp-border::after {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        border-radius: 50%;
                        background-image: 
                            radial-gradient(circle at 20% 30%, transparent 0%, transparent 2%, rgba(220, 38, 38, 0.1) 2%, transparent 3%),
                            radial-gradient(circle at 80% 70%, transparent 0%, transparent 2%, rgba(220, 38, 38, 0.1) 2%, transparent 3%),
                            radial-gradient(circle at 40% 80%, transparent 0%, transparent 1%, rgba(220, 38, 38, 0.1) 1%, transparent 2%),
                            radial-gradient(circle at 60% 20%, transparent 0%, transparent 1%, rgba(220, 38, 38, 0.1) 1%, transparent 2%);
                        opacity: 0.8;
                    }
                `}),u.jsxs("div",{className:`${n==="hero"?"bg-black/20 p-4 rounded-lg":"border-t pt-6 mt-6"} space-y-4 relative`,children:[y&&u.jsx("div",{className:"absolute top-4 right-4 z-10 pointer-events-none",children:u.jsx("div",{className:"relative",style:{transform:"rotate(15deg)"},children:u.jsx("div",{className:"stamp-container",children:u.jsx("div",{className:"stamp-border",children:u.jsxs("div",{className:"stamp-inner",children:[u.jsx("span",{className:"stamp-text",children:"PEDIDO"}),u.jsx("span",{className:"stamp-text stamp-text-large",children:"LISTO"})]})})})})}),u.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"}`,children:"Résumé de la commande"}),u.jsx("div",{className:"space-y-2",children:r.items&&r.items.length>0?r.items.map(O=>{const T=O.nom_produit==="Domicilio"&&O.prix_unitaire===0;return u.jsxs("div",{className:`flex justify-between items-center ${n==="hero"?"text-gray-200":"text-gray-600"}`,children:[u.jsxs("span",{children:[O.quantite,"x ",O.nom_produit]}),T?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-400 line-through",children:ke(8e3)}),u.jsx("span",{className:"text-sm font-bold text-green-600",children:"GRATIS"})]}):u.jsx("span",{children:ke(O.prix_unitaire*O.quantite)})]},O.id)}):u.jsx("p",{className:`${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Aucun article enregistré pour cette commande."})}),r.subtotal!==void 0&&r.subtotal!==null&&r.subtotal!==r.total&&u.jsxs("div",{className:`flex justify-between ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:[u.jsx("span",{children:"Subtotal"}),u.jsx("span",{children:ke(r.subtotal)})]}),r.promo_code&&r.total_discount&&r.total_discount>0&&u.jsxs("div",{className:`flex justify-between items-center ${n==="hero"?"text-green-400":"text-green-600"}`,children:[u.jsxs("span",{className:"text-sm",children:["🎟️ Code promo: ",r.promo_code]}),u.jsxs("span",{className:"text-sm font-semibold",children:["-",ke(r.total_discount)]})]}),u.jsxs("div",{className:`flex justify-between font-bold text-lg border-t pt-2 ${n==="hero"?"text-white border-gray-500":"text-gray-800"}`,children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:ke(r.total)})]}),u.jsxs("div",{className:`border-t pt-4 space-y-2 ${n==="hero"?"border-gray-500":""}`,children:[u.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"} mb-2`,children:"Informations Client"}),u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(cb,{size:16,className:"mr-2"}),(S=r.clientInfo)==null?void 0:S.nom]}),u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(TC,{size:16,className:"mr-2"}),(j=r.clientInfo)==null?void 0:j.telephone]}),((N=r.clientInfo)==null?void 0:N.adresse)&&u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(kh,{size:16,className:"mr-2"}),(A=r.clientInfo)==null?void 0:A.adresse]}),r.receipt_url&&u.jsxs("button",{onClick:()=>f(!0),className:"flex items-center text-blue-400 hover:underline",children:[u.jsx(i$,{size:16,className:"mr-2"}),"Voir le justificatif"]})]})]}),u.jsxs("div",{className:"mt-8 text-center space-y-4",children:[y&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-700",children:[u.jsx($f,{size:16})," Pedido listo"]})}),u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsx("p",{className:`text-sm ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Le statut de votre commande est mis à jour automatiquement."}),u.jsx("button",{onClick:y?t:void 0,disabled:!y,className:`font-bold py-3 px-6 rounded-lg transition ${y?`${n==="hero"?"bg-gray-200 text-gray-800 hover:bg-gray-300":"bg-brand-primary text-brand-secondary hover:bg-brand-primary-dark"} cursor-pointer`:"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50"}`,children:"Volver"})]})]})]})}),u.jsx(On,{isOpen:d,onClose:()=>f(!1),title:"Justificatif de Paiement",children:r.receipt_url?u.jsx("img",{src:r.receipt_url,alt:"Justificatif",className:"w-full h-auto rounded-md"}):u.jsx("p",{children:"Aucun justificatif fourni."})})]}):n==="hero"?null:u.jsx("div",{className:b,children:u.jsxs("div",{className:w,children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Commande non trouvée"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Nous n'avons pas pu retrouver votre commande."}),u.jsx("button",{onClick:t,className:"bg-brand-primary text-brand-secondary font-bold py-3 px-6 rounded-lg hover:bg-yellow-400 transition",children:"Passer une nouvelle commande"})]})})},zz={"font/woff2":"woff2","application/font-woff2":"woff2","application/x-font-woff2":"woff2","font/woff":"woff","application/font-woff":"woff","application/x-font-woff":"woff","application/x-font-ttf":"truetype","font/ttf":"truetype","application/x-font-otf":"opentype","font/otf":"opentype","application/vnd.ms-fontobject":"embedded-opentype","application/x-font-eot":"embedded-opentype","image/svg+xml":"svg"},Bz={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg"},mb=e=>{const t=e.trim();return(t.length>0?t:"Custom Font").replace(/"|'/g,"")},qz=e=>{if(!e)return null;const t=e.toLowerCase();for(const[n,r]of Object.entries(zz))if(t.includes(n))return r;return null},Hz=e=>{const n=e.toLowerCase().match(/\.([a-z0-9]+)(?:\?|#|$)/);if(!n)return null;const r=n[1];return Bz[r]??null},Fz=e=>{const t=qz(e.format);return t||Hz(e.url)},Kz=e=>{const t=mb(e.name),n=Fz(e),r=n?` format("${n}")`:"",i=`url("${e.url}")${r}`;return`@font-face {
  font-family: "${t}";
  src: ${i};
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}`},Gz="data-custom-font-faces",eT=e=>{x.useEffect(()=>{if(typeof document>"u")return;const t=e.filter(o=>o.type==="font");if(t.length===0)return;const n=[],r=new Set;if(t.forEach(o=>{const l=Kz(o),d=l.match(/font-family: "([^"]+)";/),f=d?d[1]:o.name;r.has(f)||(r.add(f),n.push(l))}),n.length===0)return;const i=document.createElement("style");return i.setAttribute(Gz,"true"),i.textContent=n.join(`
`),document.head.appendChild(i),()=>{i.remove()}},[e])},tT=e=>{if(!e)return e??void 0;const t=e.trim();return t.length===0||t.includes(",")?t.length===0?void 0:t:/^(['"]).*\1$/.test(t)||!/[^a-zA-Z0-9-]/.test(t)?t:`'${t.replace(/'/g,"\\'")}'`},qr=e=>e.background.type==="image"&&e.background.image?{backgroundImage:`url('${e.background.image}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:e.background.color}:{backgroundColor:e.background.color},nT=(e,t)=>{const n=qr(e);if(e.background.type==="image"){const r=e.background.image??t;return r?{...n,backgroundImage:`url('${r}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n}return t?{...n,backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n},Hr=e=>({color:e.textColor,fontFamily:tT(e.fontFamily)}),Ii=e=>({...Hr(e),fontSize:e.fontSize}),pb=(e,t)=>{const n={color:(t==null?void 0:t.textColor)??e.textColor,fontFamily:tT((t==null?void 0:t.fontFamily)??e.fontFamily)};return t!=null&&t.backgroundColor&&t.backgroundColor.trim().length>0&&(n.backgroundColor=t.backgroundColor),n},rT=(e,t)=>({...pb(e,t),fontSize:(t==null?void 0:t.fontSize)??e.fontSize}),aT=(e,t)=>t!=null&&t.backgroundColor?{backgroundColor:t.backgroundColor}:{},iT=(e,t,n)=>{if(!e)return e;try{const r=new URL(e);return r.searchParams.set(t,n),r.toString()}catch{const i=e.includes("?")?"&":"?",o=encodeURIComponent(t),l=encodeURIComponent(n);return`${e}${i}${o}=${l}`}},p2="/logo-brand.svg",Ba=e=>{if(e.startsWith("navigation."))return"navigation";if(e.startsWith("hero."))return"hero";if(e.startsWith("about."))return"about";if(e.startsWith("menu."))return"menu";if(e.startsWith("instagramReviews."))return"instagramReviews";if(e.startsWith("findUs."))return"findUs";if(e.startsWith("footer."))return"footer";throw new Error(`Zone introuvable pour l'élément modifiable "${e}"`)},sT=Hn.createContext(!0),We=({id:e,onEdit:t,children:n,label:r,className:i,buttonClassName:o,as:l="div"})=>{const d=["group relative",i].filter(Boolean).join(" "),f=Hn.useContext(sT),[h,p]=x.useState(!1);if(!f)return u.jsx(l,{className:d,children:n});const g=["customization-edit-button absolute z-30 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-white shadow-lg transition-all duration-200","opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 focus-visible:opacity-100","focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500","hover:scale-110 hover:bg-blue-600 active:scale-95",o??"right-2 top-2"].filter(Boolean).join(" "),y=b=>{b.preventDefault(),b.stopPropagation();const w=Ba(e),S=b.currentTarget.getBoundingClientRect(),j=b.currentTarget.closest(`[data-zone="${w}"]`)??b.currentTarget.parentElement,N=(j==null?void 0:j.getBoundingClientRect())??null;t(e,{zone:w,anchor:S??N})};return u.jsxs(l,{className:d,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[u.jsx("button",{type:"button",onClick:y,className:g,"aria-label":r,"data-element-id":e,title:r,children:u.jsx(JU,{className:"h-4 w-4","aria-hidden":"true"})}),h&&u.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-blue-500 border-dashed rounded-lg opacity-50 animate-pulse"}),h&&u.jsxs("div",{className:"absolute z-40 bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap",children:[r,u.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]}),n]})},Vo=({children:e,className:t,zone:n,activeZone:r})=>{const o=["customization-section-card relative overflow-hidden rounded-3xl border bg-white shadow-sm transition-all",r===n?"active border-brand-primary/70 shadow-brand-primary/20 ring-2 ring-brand-primary/10":"border-gray-200",t].filter(Boolean).join(" ");return u.jsx("div",{className:o,"data-zone":n,children:e})},g2=({content:e,bestSellerProducts:t,onEdit:n,activeZone:r,showEditButtons:i=!0})=>{const o=qr(e.navigation.style),l=Hr(e.navigation.style);Ii(e.navigation.style);const d=e.navigation.brandLogo??p2,f=e.navigation.staffLogo??e.navigation.brandLogo??p2,h=nT(e.hero.style,e.hero.backgroundImage),p=Hr(e.hero.style),g=Ii(e.hero.style),y=qr(e.about.style),b=Hr(e.about.style);Ii(e.about.style);const w=qr(e.menu.style),S=Hr(e.menu.style),j=Ii(e.menu.style),N=qr(e.findUs.style),A=Hr(e.findUs.style),O=qr(e.footer.style),C=Ii(e.footer.style);eT(e.assets.library);const T=e.elementStyles??{},P=e.elementRichText??{},k=W=>{var xe;const se=P[W],oe=(xe=se==null?void 0:se.html)==null?void 0:xe.trim();return oe&&oe.length>0?oe:null},D=(W,se,oe,xe)=>{const Se=k(W);return Se?Hn.createElement(se,{...oe,dangerouslySetInnerHTML:{__html:Se}}):Hn.createElement(se,oe,xe)},q={navigation:e.navigation.style,hero:e.hero.style,about:e.about.style,menu:e.menu.style,instagramReviews:e.instagramReviews.style,findUs:e.findUs.style,footer:e.footer.style},$=W=>T[W],F=W=>{const se=Ba(W);return pb(q[se],$(W))},H=W=>{const se=Ba(W);return rT(q[se],$(W))},re=W=>{const se=Ba(W);return aT(q[se],$(W))},B=e.findUs.address.trim(),K=e.findUs.mapUrl,I=typeof K=="string"?K.trim():"",Y=I.length>0,X=!Y&&B.length>0?encodeURIComponent(B):"",de=Y?I:X?`https://www.google.com/maps?q=${X}`:"https://www.google.com/maps",ne=Y?iT(I,"output","embed"):X?`https://www.google.com/maps?q=${X}&output=embed`:"about:blank",R=Y||X.length>0,L=B.length>0?B:e.findUs.title;return u.jsx(sT.Provider,{value:i,children:u.jsxs("div",{className:"space-y-6 rounded-[2.5rem] border border-gray-200 bg-slate-50 p-6 shadow-inner",children:[u.jsx(Vo,{zone:"navigation",activeZone:r,children:u.jsx(We,{id:"navigation.style.background",label:"Modifier le fond de la navigation",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("header",{className:"login-header",style:o,children:u.jsxs("div",{className:"layout-container login-header__inner",style:l,children:[u.jsxs("div",{className:"login-brand",style:l,children:[u.jsx(We,{id:"navigation.brandLogo",label:"Modifier le logo principal",onEdit:n,as:"span",className:"inline-flex items-center",children:u.jsx("img",{src:d,alt:`Logo ${e.navigation.brand}`,className:"login-brand__logo"})}),u.jsx(We,{id:"navigation.brand",label:"Modifier le nom de la marque",onEdit:n,as:"span",className:"ml-3 inline-flex items-center",buttonClassName:"-right-3 -top-3",children:D("navigation.brand","span",{className:"login-brand__name",style:F("navigation.brand")},e.navigation.brand)})]}),u.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[u.jsx(We,{id:"navigation.links.home",label:"Modifier le lien Accueil",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.home","span",{className:"login-nav__link",style:H("navigation.links.home")},e.navigation.links.home)}),u.jsx(We,{id:"navigation.links.about",label:"Modifier le lien À propos",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.about","span",{className:"login-nav__link",style:H("navigation.links.about")},e.navigation.links.about)}),u.jsx(We,{id:"navigation.links.menu",label:"Modifier le lien Menu",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.menu","span",{className:"login-nav__link",style:H("navigation.links.menu")},e.navigation.links.menu)}),u.jsx(We,{id:"navigation.links.loginCta",label:"Modifier le bouton personnel",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:u.jsx("div",{className:"login-nav__staff-btn","aria-label":e.navigation.links.loginCta,role:"img",children:u.jsx(We,{id:"navigation.staffLogo",label:"Modifier le logo d'accès staff",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:u.jsx("img",{src:f,alt:"",className:"login-brand__logo","aria-hidden":"true"})})})})]})]})})})}),u.jsx(Vo,{zone:"hero",activeZone:r,children:u.jsx(We,{id:"hero.backgroundImage",label:"Modifier le visuel de fond du hero",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-hero",style:{...h,...p},children:u.jsx("div",{className:"section-hero__inner",children:u.jsxs("div",{className:"hero-content",style:p,children:[u.jsx(We,{id:"hero.title",label:"Modifier le titre du hero",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.title","h2",{className:"hero-title",style:F("hero.title")},e.hero.title)}),u.jsx(We,{id:"hero.subtitle",label:"Modifier le sous-titre du hero",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("hero.subtitle","p",{className:"hero-subtitle",style:H("hero.subtitle")},e.hero.subtitle)}),u.jsx(We,{id:"hero.ctaLabel",label:"Modifier le texte du bouton principal",onEdit:n,className:"mt-6 inline-flex",buttonClassName:"-right-3 -top-3",children:u.jsx("button",{type:"button",className:"ui-btn ui-btn-accent hero-cta",style:{...H("hero.ctaLabel"),...re("hero.ctaLabel")},disabled:!0,children:D("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:H("hero.ctaLabel")},e.hero.ctaLabel)})}),u.jsxs("div",{className:"hero-history mt-6",children:[u.jsx(We,{id:"hero.historyTitle",label:"Modifier le titre de l'historique",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.historyTitle","p",{className:"hero-history__title",style:H("hero.historyTitle")},e.hero.historyTitle)}),u.jsx(We,{id:"hero.reorderCtaLabel",label:"Modifier le bouton de réassort",onEdit:n,className:"hero-history__list",buttonClassName:"right-2 top-2",children:u.jsx(u.Fragment,{children:[0,1,2].map(W=>u.jsxs("div",{className:"hero-history__item",children:[u.jsxs("div",{className:"hero-history__meta",children:[u.jsx("p",{className:"hero-history__date",style:g,children:"Pedido del 12/03/2024"}),u.jsxs("p",{className:"hero-history__details",style:g,children:["2 article(s) • ",ke(32e3)]})]}),u.jsx("button",{type:"button",className:"hero-history__cta",style:{...H("hero.reorderCtaLabel"),...re("hero.reorderCtaLabel")},disabled:!0,children:D("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:H("hero.reorderCtaLabel")},e.hero.reorderCtaLabel)})]},W))})})]})]})})})})}),u.jsx(Vo,{zone:"about",activeZone:r,children:u.jsx(We,{id:"about.style.background",label:"Modifier le fond de la section À propos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-surface",style:{...y,...b},children:u.jsxs("div",{className:"section-inner section-inner--center",style:b,children:[u.jsx(We,{id:"about.title",label:"Modifier le titre À propos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("about.title","h2",{className:"section-title",style:F("about.title")},e.about.title)}),u.jsx(We,{id:"about.description",label:"Modifier la description À propos",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("about.description","p",{className:"section-text section-text--muted",style:H("about.description")},e.about.description)}),e.about.image&&u.jsx(We,{id:"about.image",label:"Modifier l'image À propos",onEdit:n,className:"mt-6 block",buttonClassName:"right-4 top-4",children:u.jsx("img",{src:e.about.image,alt:e.about.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})})]})})})}),u.jsx(Vo,{zone:"menu",activeZone:r,children:u.jsx(We,{id:"menu.style.background",label:"Modifier le fond de la section Menu",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-muted",style:{...w,...S},children:u.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:S,children:[u.jsx(We,{id:"menu.title",label:"Modifier le titre du menu",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("menu.title","h2",{className:"section-title",style:F("menu.title")},e.menu.title)}),e.menu.image&&u.jsx(We,{id:"menu.image",label:"Modifier l'image du menu",onEdit:n,className:"mb-8 block",buttonClassName:"right-4 top-4",children:u.jsx("img",{src:e.menu.image,alt:e.menu.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})}),u.jsx("div",{className:"menu-grid",children:t.length>0?t.map(W=>{const se=!!W.image;return u.jsxs("article",{className:"ui-card menu-card",children:[se?u.jsx("img",{src:W.image,alt:W.nom_produit,className:"h-40 w-full rounded-t-xl object-cover"}):u.jsx("div",{className:"h-40 w-full rounded-t-xl bg-gradient-to-br from-orange-200 via-amber-100 to-orange-50"}),u.jsxs("div",{className:"menu-card__body",children:[u.jsx("h3",{className:"menu-card__title",style:S,children:W.nom_produit}),W.description&&u.jsx("p",{className:"menu-card__description",style:j,children:W.description}),u.jsx("p",{className:"menu-card__price",style:j,children:ke(W.prix_vente)})]})]},W.id)}):u.jsx("div",{className:"col-span-full rounded-2xl border border-dashed border-slate-300 bg-white/70 p-6 text-center",children:u.jsx("p",{className:"text-sm text-slate-500",style:j,children:"Aucun best seller sélectionné pour le moment."})})}),u.jsx(We,{id:"menu.ctaLabel",label:"Modifier le bouton de commande",onEdit:n,className:"section-actions mt-8",buttonClassName:"right-2 top-2",children:u.jsxs("div",{className:"section-actions",children:[u.jsx("button",{type:"button",className:"ui-btn ui-btn-primary hero-cta",style:{...H("menu.ctaLabel"),...re("menu.ctaLabel")},disabled:!0,children:D("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:H("menu.ctaLabel")},e.menu.ctaLabel)}),u.jsx(We,{id:"menu.loadingLabel",label:"Modifier le texte de chargement",onEdit:n,className:"ml-4 inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("menu.loadingLabel","p",{className:"section-text section-text--muted",style:H("menu.loadingLabel")},e.menu.loadingLabel)})]})})]})})})}),u.jsx(Vo,{zone:"findUs",activeZone:r,children:u.jsx(We,{id:"findUs.style.background",label:"Modifier le fond de la section Encuéntranos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-surface",style:{...N,...A},children:u.jsxs("div",{className:"find-us-grid",style:A,children:[u.jsxs("div",{className:"find-us-panel",style:A,children:[u.jsx(We,{id:"findUs.title",label:"Modifier le titre Encuéntranos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.title","h2",{className:"section-title",style:F("findUs.title")},e.findUs.title)}),u.jsxs("div",{className:"find-us-details",children:[u.jsxs("div",{className:"find-us-detail",style:A,children:[u.jsx(kh,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.addressLabel",label:"Modifier le libellé de l'adresse",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.addressLabel","h3",{className:"find-us-detail__title",style:F("findUs.addressLabel")},e.findUs.addressLabel)}),u.jsx(We,{id:"findUs.address",label:"Modifier l'adresse",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.address","p",{className:"find-us-detail__text",style:H("findUs.address")},e.findUs.address)})]})]}),u.jsxs("div",{className:"find-us-detail",style:A,children:[u.jsx(Sl,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.hoursLabel",label:"Modifier le libellé des horaires",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:F("findUs.hoursLabel")},e.findUs.hoursLabel)}),u.jsx(We,{id:"findUs.hours",label:"Modifier les horaires",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.hours","p",{className:"find-us-detail__text",style:H("findUs.hours")},e.findUs.hours)})]})]}),u.jsxs("div",{className:"find-us-detail",style:A,children:[u.jsx(EC,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.cityLabel",label:"Modifier le libellé de l'email",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.cityLabel","h3",{className:"find-us-detail__title",style:F("findUs.cityLabel")},e.findUs.cityLabel)}),u.jsx(We,{id:"findUs.city",label:"Modifier l'email",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.city","p",{className:"find-us-detail__text",style:H("findUs.city")},e.findUs.city)})]})]})]})]}),u.jsx("div",{className:"find-us-map",style:A,children:R?u.jsxs("div",{className:"find-us-map__frame",children:[u.jsx("iframe",{title:`Carte Google Maps pour ${L}`,src:ne,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),u.jsx("a",{className:"find-us-map__link",href:de,target:"_blank",rel:"noopener noreferrer",children:u.jsx(We,{id:"findUs.mapLabel",label:"Modifier le libellé du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:H("findUs.mapLabel")},e.findUs.mapLabel)})})]}):u.jsx("div",{className:"find-us-map__placeholder",children:u.jsx(We,{id:"findUs.mapLabel",label:"Modifier le libellé du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:H("findUs.mapLabel")},e.findUs.mapLabel)})})})]})})})}),u.jsx(Vo,{zone:"footer",activeZone:r,children:u.jsx(We,{id:"footer.style.background",label:"Modifier le fond du pied de page",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("footer",{className:"site-footer",style:{...O,...C},children:u.jsx("div",{className:"layout-container site-footer__inner",style:C,children:u.jsx(We,{id:"footer.text",label:"Modifier le texte du pied de page",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:u.jsxs("p",{style:H("footer.text"),children:["© ",new Date().getFullYear()," ",e.navigation.brand,"."," ",D("footer.text","span",{style:H("footer.text")},e.footer.text)]})})})})})})]})})},y2="/logo-brand.svg",Yz=Bf,oT=Hn.forwardRef(({pin:e,onPinChange:t,pinLength:n,describedBy:r,disabled:i},o)=>{const l=g=>{e.length<n&&!i&&t(e+g)},d=()=>{e.length>0&&!i&&t(e.slice(0,-1))},f=g=>{if(i)return;const y=g.target.value.replace(/\D/g,"").slice(0,n);t(y)},h=g=>{if(/^\d$/.test(g.key)){g.preventDefault(),l(g.key);return}if(g.key==="Backspace"){g.preventDefault(),d();return}g.key==="Escape"&&(g.preventDefault(),t(""))},p=e.length===0?`Aucun chiffre saisi. Vous pouvez entrer ${n} chiffres.`:`${e.length} ${e.length>1?"chiffres saisis":"chiffre saisi"} sur ${n}.`;return u.jsxs("div",{className:"pin-input","aria-label":"Clavier numérique sécurisé",children:[u.jsx("input",{ref:o,id:"staff-pin-field",type:"password",inputMode:"numeric",autoComplete:"one-time-code",className:"pin-input__field",value:e,onChange:f,onKeyDown:h,"aria-describedby":r,"aria-label":`Code PIN à ${n} chiffres`,disabled:i,"aria-disabled":i,"aria-busy":i}),u.jsx("div",{className:"pin-indicator",role:"presentation",children:Array.from({length:n}).map((g,y)=>u.jsx("div",{className:"pin-indicator__slot","aria-hidden":"true",children:e[y]?"•":""},y))}),u.jsx("div",{className:"pin-input__live","aria-live":"polite",children:p}),u.jsxs("div",{className:"pin-pad",children:[[...Array(9)].map((g,y)=>u.jsx("button",{type:"button",onClick:()=>l(String(y+1)),className:"pin-pad__button",disabled:i,children:y+1},y+1)),u.jsx("div",{"aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>l("0"),className:"pin-pad__button",disabled:i,children:"0"}),u.jsx("button",{type:"button",onClick:d,className:"pin-pad__button pin-pad__button--muted",disabled:i,children:"DEL"})]})]})});oT.displayName="PinInput";const Vz=e=>e===1?"menu-grid menu-grid--single":e===2?"menu-grid menu-grid--double":e===3?"menu-grid menu-grid--triple":e>=6?"menu-grid menu-grid--six":e>0?"menu-grid menu-grid--multi":"menu-grid",Wz=e=>{const t="ui-card menu-card";return e===1?`${t} menu-card--single`:e===2?`${t} menu-card--double`:e===3?`${t} menu-card--triple`:e>=6?`${t} menu-card--compact`:t},Xz=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(""),[i,o]=x.useState(""),[l,d]=x.useState(!1),f=x.useRef(null),{login:h}=da(),p=Xa(),{content:g}=Rh(),[y,b]=x.useState(()=>g);x.useEffect(()=>{g&&b(g)},[g]);const w=y??Yz;eT(w.assets.library);const{navigation:S,hero:j,about:N,menu:A,findUs:O,footer:C}=w,T=S.brandLogo??y2,P=S.brandLogo??y2,k=qr(S.style),D=Hr(S.style),q=nT(j.style,j.backgroundImage),$=Hr(j.style),F=Ii(j.style),H=qr(N.style),re=Hr(N.style),B=qr(A.style),K=Hr(A.style),I=Ii(A.style),Y=qr(O.style),X=Hr(O.style),de=qr(C.style),ne=Ii(C.style),R=w.elementStyles??{},L={navigation:S.style,hero:j.style,about:N.style,menu:A.style,instagramReviews:w.instagramReviews.style,findUs:O.style,footer:C.style},W=Oe=>R[Oe],se=Oe=>{const Ye=Ba(Oe);return pb(L[Ye],W(Oe))},oe=Oe=>{const Ye=Ba(Oe);return rT(L[Ye],W(Oe))},xe=Oe=>{const Ye=Ba(Oe);return aT(L[Ye],W(Oe))},Se=w.elementRichText??{},me=Oe=>{var an;const Ye=Se[Oe],Dt=(an=Ye==null?void 0:Ye.html)==null?void 0:an.trim();return Dt&&Dt.length>0?Dt:null},V=(Oe,Ye,Dt,an)=>{const Dr=me(Oe);return Dr?Hn.createElement(Ye,{...Dt,dangerouslySetInnerHTML:{__html:Dr}}):Hn.createElement(Ye,Dt,an)},[ge,ye]=x.useState([]),[ce,Qe]=x.useState([]),[Ae,wt]=x.useState(!0),[At,Wt]=x.useState(!1),[cr,fa]=x.useState(()=>Rf()),Pr=x.useCallback(async Oe=>{d(!0),o("");try{const Ye=await h(Oe),Dt=hb(Ye)??"/dashboard";t(!1),r(""),p(Dt)}catch(Ye){console.error("Failed to authenticate with PIN",Ye);const Dt=Ye instanceof Error&&Ye.message?Ye.message:"PIN invalide";o(Dt),r(""),requestAnimationFrame(()=>{var an;(an=f.current)==null||an.focus()})}finally{d(!1)}},[h,p]);x.useEffect(()=>{if(!e)return;const Oe=window.setTimeout(()=>{var Ye;(Ye=f.current)==null||Ye.focus()},0);return()=>window.clearTimeout(Oe)},[e]),x.useEffect(()=>{n.length===6&&!l&&Pr(n)},[n,l,Pr]),x.useEffect(()=>{if(!(typeof window>"u"))try{const Oe=window.localStorage.getItem("customer-order-history");if(!Oe)return;const Ye=JSON.parse(Oe);Array.isArray(Ye)&&Qe(Ye)}catch(Oe){console.error("Could not load order history",Oe)}},[]),x.useEffect(()=>{let Oe=!0;return(async()=>{try{const Dt=await je.getBestSellerProducts();Oe&&ye(Dt)}catch(Dt){console.error("Could not load best seller products",Dt)}finally{Oe&&wt(!1)}})(),()=>{Oe=!1}},[]);const Kn=O.address.trim(),Mr=O.mapUrl,ha=typeof Mr=="string"?Mr.trim():"",kt=ha.length>0,Rr=!kt&&Kn.length>0?encodeURIComponent(Kn):"",ri=kt?ha:Rr?`https://www.google.com/maps?q=${Rr}`:"https://www.google.com/maps",ve=kt?iT(ha,"output","embed"):Rr?`https://www.google.com/maps?q=${Rr}&output=embed`:"about:blank",ae=kt||Rr.length>0,fe=Kn.length>0?Kn:O.title,he=(cr==null?void 0:cr.orderId)??null,Me=ge.slice(0,6),ze=Me.length,lt=Vz(ze),De=Wz(ze),Je=Oe=>{Oe.preventDefault(),n.length===6&&!l&&Pr(n)},ct=()=>{KA(),fa(null)},gt=Oe=>{localStorage.setItem("customer-order-reorder-id",Oe),p("/commande-client")};return u.jsxs("div",{className:"login-page",children:[u.jsx("header",{className:"login-header",style:k,children:u.jsxs("div",{className:"layout-container login-header__inner",style:D,children:[u.jsxs("div",{className:"login-brand",style:D,children:[u.jsx("img",{src:T,alt:`Logo ${S.brand}`,className:"login-brand__logo"}),V("navigation.brand","span",{className:"login-brand__name",style:se("navigation.brand")},S.brand)]}),u.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[V("navigation.links.home","a",{href:"#accueil",className:"login-nav__link",style:oe("navigation.links.home")},S.links.home),V("navigation.links.about","a",{href:"#apropos",className:"login-nav__link",style:oe("navigation.links.about")},S.links.about),V("navigation.links.menu","a",{href:"#menu",className:"login-nav__link",style:oe("navigation.links.menu")},S.links.menu),u.jsx("button",{type:"button",onClick:()=>t(!0),className:"login-nav__staff-btn","aria-label":S.links.loginCta,children:u.jsx("img",{src:P,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]}),u.jsx("button",{type:"button",onClick:()=>Wt(!0),className:"login-header__menu","aria-label":"Ouvrir le menu",children:u.jsx(OC,{size:24})})]})}),At&&u.jsxs("div",{className:"login-menu-overlay",role:"dialog","aria-modal":"true",style:k,children:[u.jsx("button",{type:"button",onClick:()=>Wt(!1),className:"login-menu-overlay__close","aria-label":"Fermer le menu",children:u.jsx(oa,{size:28})}),u.jsxs("nav",{className:"login-menu-overlay__nav","aria-label":"Navigation mobile",style:D,children:[V("navigation.links.home","a",{href:"#accueil",onClick:()=>Wt(!1),className:"login-menu-overlay__link",style:oe("navigation.links.home")},S.links.home),V("navigation.links.about","a",{href:"#apropos",onClick:()=>Wt(!1),className:"login-menu-overlay__link",style:oe("navigation.links.about")},S.links.about),V("navigation.links.menu","a",{href:"#menu",onClick:()=>Wt(!1),className:"login-menu-overlay__link",style:oe("navigation.links.menu")},S.links.menu),u.jsx("button",{type:"button",onClick:()=>{t(!0),Wt(!1)},className:"login-nav__staff-btn login-menu-overlay__staff-btn","aria-label":S.links.loginCta,children:u.jsx("img",{src:P,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]})]}),u.jsxs("main",{children:[u.jsx("section",{id:"accueil",className:"section section-hero",style:{...q,...$},children:u.jsx("div",{className:"section-hero__inner",children:he?u.jsx($z,{orderId:he,onNewOrderClick:ct,variant:"hero"}):u.jsxs("div",{className:"hero-content",style:$,children:[V("hero.title","h2",{className:"hero-title",style:se("hero.title")},j.title),V("hero.subtitle","p",{className:"hero-subtitle",style:oe("hero.subtitle")},j.subtitle),u.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-accent hero-cta",style:{...oe("hero.ctaLabel"),...xe("hero.ctaLabel")},children:V("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:oe("hero.ctaLabel")},j.ctaLabel)}),ce.length>0&&u.jsxs("div",{className:"hero-history",children:[V("hero.historyTitle","p",{className:"hero-history__title",style:oe("hero.historyTitle")},j.historyTitle),u.jsx("div",{className:"hero-history__list",children:ce.slice(0,3).map(Oe=>u.jsxs("div",{className:"hero-history__item",children:[u.jsxs("div",{className:"hero-history__meta",children:[u.jsxs("p",{className:"hero-history__date",style:F,children:["Pedido del ",new Date(Oe.date_creation).toLocaleDateString()]}),u.jsxs("p",{className:"hero-history__details",style:F,children:[Oe.items.length," article(s) • ",ke(Oe.total)]})]}),u.jsx("button",{type:"button",onClick:()=>gt(Oe.id),className:"hero-history__cta",style:{...oe("hero.reorderCtaLabel"),...xe("hero.reorderCtaLabel")},children:V("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:oe("hero.reorderCtaLabel")},j.reorderCtaLabel)})]},Oe.id))})]})]})})}),u.jsx("section",{id:"apropos",className:"section section-surface",style:{...H,...re},children:u.jsxs("div",{className:"section-inner section-inner--center",style:re,children:[V("about.title","h2",{className:"section-title",style:se("about.title")},N.title),V("about.description","p",{className:"section-text section-text--muted",style:oe("about.description")},N.description),N.image&&u.jsx("img",{src:N.image,alt:N.title,className:"mt-6 h-64 w-full rounded-xl object-cover shadow-lg"})]})}),u.jsx("section",{id:"menu",className:"section section-muted",style:{...B,...K},children:u.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:K,children:[V("menu.title","h2",{className:"section-title",style:se("menu.title")},A.title),A.image&&u.jsx("img",{src:A.image,alt:A.title,className:"mb-8 h-64 w-full rounded-xl object-cover shadow-lg"}),Ae?V("menu.loadingLabel","p",{className:"section-text section-text--muted",style:oe("menu.loadingLabel")},A.loadingLabel):Me.length>0?u.jsx("div",{className:lt,children:Me.map(Oe=>u.jsxs("article",{className:De,children:[u.jsx("img",{src:Oe.image,alt:Oe.nom_produit,className:"menu-card__media"}),u.jsxs("div",{className:"menu-card__body",children:[u.jsx("h3",{className:"menu-card__title",style:K,children:Oe.nom_produit}),u.jsx("p",{className:"menu-card__description",style:I,children:Oe.description}),u.jsx("p",{className:"menu-card__price",style:I,children:ke(Oe.prix_vente)})]})]},Oe.id))}):u.jsx("p",{className:"section-text section-text--muted",style:I,children:"Aucun produit best seller n'est disponible pour le moment."}),u.jsx("div",{className:"section-actions",children:u.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-primary hero-cta",style:{...oe("menu.ctaLabel"),...xe("menu.ctaLabel")},children:V("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:oe("menu.ctaLabel")},A.ctaLabel)})})]})}),u.jsx("section",{id:"find-us",className:"section section-surface",style:{...Y,...X},children:u.jsxs("div",{className:"section-inner section-inner--wide find-us-grid",style:X,children:[u.jsxs("div",{className:"find-us-panel",style:X,children:[V("findUs.title","h2",{className:"section-title",style:se("findUs.title")},O.title),u.jsxs("div",{className:"find-us-details",children:[u.jsxs("div",{className:"find-us-detail",style:X,children:[u.jsx(kh,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[V("findUs.addressLabel","h3",{className:"find-us-detail__title",style:se("findUs.addressLabel")},O.addressLabel),V("findUs.address","p",{className:"find-us-detail__text",style:oe("findUs.address")},O.address)]})]}),u.jsxs("div",{className:"find-us-detail",style:X,children:[u.jsx(Sl,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[V("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:se("findUs.hoursLabel")},O.hoursLabel),V("findUs.hours","p",{className:"find-us-detail__text",style:oe("findUs.hours")},O.hours)]})]}),u.jsxs("div",{className:"find-us-detail",style:X,children:[u.jsx(EC,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[V("findUs.cityLabel","h3",{className:"find-us-detail__title",style:se("findUs.cityLabel")},O.cityLabel),V("findUs.city","p",{className:"find-us-detail__text",style:oe("findUs.city")},O.city)]})]})]})]}),u.jsx("div",{className:"find-us-map",style:X,children:ae?u.jsxs("div",{className:"find-us-map__frame",children:[u.jsx("iframe",{title:`Carte Google Maps pour ${fe}`,src:ve,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),u.jsx("a",{className:"find-us-map__link",href:ri,target:"_blank",rel:"noopener noreferrer",children:V("findUs.mapLabel","span",{className:"find-us-map__label",style:oe("findUs.mapLabel")},O.mapLabel)})]}):u.jsx("div",{className:"find-us-map__placeholder",children:V("findUs.mapLabel","span",{className:"find-us-map__label",style:oe("findUs.mapLabel")},O.mapLabel)})})]})})]}),u.jsx("footer",{className:"site-footer",style:{...de,...ne},children:u.jsx("div",{className:"layout-container site-footer__inner",style:ne,children:u.jsxs("p",{style:oe("footer.text"),children:["© ",new Date().getFullYear()," ",S.brand,"."," ",V("footer.text","span",{style:oe("footer.text")},C.text)]})})}),u.jsx(On,{isOpen:e,onClose:()=>{t(!1),r(""),o("")},title:"Connexion du personnel",size:"lg",children:u.jsx("div",{className:"login-modal",children:u.jsx("form",{onSubmit:Je,className:"login-modal__form","aria-describedby":i?"staff-pin-error":void 0,children:u.jsxs("div",{className:"login-modal__panel",children:[u.jsx(oT,{ref:f,pin:n,onPinChange:r,pinLength:6,describedBy:i?"staff-pin-error":void 0,disabled:l}),i&&u.jsx("p",{id:"staff-pin-error",className:"login-modal__error",role:"alert","aria-live":"assertive",children:i})]})})})})]})};function lT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=lT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=lT(e))&&(r&&(r+=" "),r+=t);return r}var Kg={},Gg={},v2;function Qz(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Gg)),Gg}var Yg={},b2;function cT(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Yg)),Yg}var Vg={},x2;function gb(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Vg)),Vg}var Wg={},Xg={},_2;function Jz(){return _2||(_2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Xg)),Xg}var w2;function yb(){return w2||(w2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jz(),n=gb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let d=0,f="",h="",p=!1;for(i.charCodeAt(0)===46&&(o.push(""),d++);d<l;){const g=i[d];h?g==="\\"&&d+1<l?(d++,f+=i[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,o.push(f),f=""):f+=g:g==="["?(p=!0,f&&(o.push(f),f="")):g==="."?f&&(o.push(f),f=""):f+=g,d++}return f&&o.push(f),o}e.toPath=r})(Wg)),Wg}var S2;function vb(){return S2||(S2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qz(),n=cT(),r=gb(),i=yb();function o(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?o(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=o})(Kg)),Kg}var Qg,j2;function Zz(){return j2||(j2=1,Qg=vb().get),Qg}var e8=Zz();const Us=Vr(e8);var Jg={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function t8(){if(N2)return ht;N2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var j=S.$$typeof;switch(j){case e:switch(S=S.type,S){case n:case i:case r:case f:case h:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case g:case p:return S;case o:return S;default:return j}}case t:return j}}}return ht.ContextConsumer=o,ht.ContextProvider=l,ht.Element=e,ht.ForwardRef=d,ht.Fragment=n,ht.Lazy=g,ht.Memo=p,ht.Portal=t,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=f,ht.SuspenseList=h,ht.isContextConsumer=function(S){return w(S)===o},ht.isContextProvider=function(S){return w(S)===l},ht.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},ht.isForwardRef=function(S){return w(S)===d},ht.isFragment=function(S){return w(S)===n},ht.isLazy=function(S){return w(S)===g},ht.isMemo=function(S){return w(S)===p},ht.isPortal=function(S){return w(S)===t},ht.isProfiler=function(S){return w(S)===i},ht.isStrictMode=function(S){return w(S)===r},ht.isSuspense=function(S){return w(S)===f},ht.isSuspenseList=function(S){return w(S)===h},ht.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===o||S.$$typeof===d||S.$$typeof===b||S.getModuleId!==void 0)},ht.typeOf=w,ht}var E2;function n8(){return E2||(E2=1,Jg.exports=t8()),Jg.exports}var r8=n8(),un=e=>e===0?0:e>0?1:-1,ir=e=>typeof e=="number"&&e!=+e,Cs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ce=e=>(typeof e=="number"||e instanceof Number)&&!ir(e),ca=e=>Ce(e)||typeof e=="string",a8=0,eu=e=>{var t=++a8;return"".concat(e||"").concat(t)},En=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(t)&&typeof t!="string")return r;var o;if(Cs(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return ir(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},uT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function _n(e,t,n){return Ce(e)&&Ce(t)?e+n*(t-e):t}function i8(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Us(r,t))===n)}var dn=e=>e===null||typeof e>"u",vu=e=>dn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),s8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bb(e){if(typeof e!="string")return!1;var t=s8;return t.includes(e)}var o8=["viewBox","children"],O2=["points","pathLength"],Zg={svg:o8,polygon:O2,polyline:O2},l8=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{bb(i)&&(r[i]=(o=>n[i](n,o)))}),r},c8=(e,t,n)=>r=>(e(t,n,r),null),bu=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];bb(i)&&typeof o=="function"&&(r||(r={}),r[i]=c8(o,t,n))}),r},u8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dT(e){if(typeof e!="string")return!1;var t=u8;return t.includes(e)}function Fi(e){var t=Object.entries(e).filter(n=>{var[r]=n;return dT(r)});return Object.fromEntries(t)}var A2=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",C2=null,ey=null,fT=e=>{if(e===C2&&Array.isArray(ey))return ey;var t=[];return x.Children.forEach(e,n=>{dn(n)||(r8.isFragment(n)?t=t.concat(fT(n.props.children)):t.push(n))}),ey=t,C2=e,t};function xb(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>A2(i)):r=[A2(t)],fT(e).forEach(i=>{var o=Us(i,"type.displayName")||Us(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var d8=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&(Zg==null?void 0:Zg[r]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),d=typeof e!="function"&&(!!r&&o.includes(t)||dT(t)),f=!!n&&bb(t);return l||d||f},en=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var l;d8((l=r)===null||l===void 0?void 0:l[o],o,t,n)&&(i[o]=r[o])}),i},f8=["children","width","height","viewBox","className","style","title","desc"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(null,arguments)}function h8(e,t){if(e==null)return{};var n,r,i=m8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _b=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:d,title:f,desc:h}=e,p=h8(e,f8),g=o||{width:r,height:i,x:0,y:0},y=ot("recharts-surface",l);return x.createElement("svg",Qv({},en(p,!0,"svg"),{className:y,width:r,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,f),x.createElement("desc",null,h),n)}),p8=["children","className"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(null,arguments)}function g8(e,t){if(e==null)return{};var n,r,i=y8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fn=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=g8(e,p8),o=ot("recharts-layer",r);return x.createElement("g",Jv({className:o},en(i,!0),{ref:t}),n)}),hT=x.createContext(null),v8=()=>x.useContext(hT);function vt(e){return function(){return e}}const mT=Math.cos,Ff=Math.sin,Xr=Math.sqrt,Kf=Math.PI,Dh=2*Kf,Zv=Math.PI,e0=2*Zv,vs=1e-6,b8=e0-vs;function pT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function x8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pT;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pT:x8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,d=this._y1,f=r-t,h=i-n,p=l-t,g=d-n,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>vs)if(!(Math.abs(g*f-h*p)>vs)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,w=i-d,S=f*f+h*h,j=b*b+w*w,N=Math.sqrt(S),A=Math.sqrt(y),O=o*Math.tan((Zv-Math.acos((S+y-j)/(2*N*A)))/2),C=O/A,T=O/N;Math.abs(C-1)>vs&&this._append`L${t+C*p},${n+C*g}`,this._append`A${o},${o},0,0,${+(g*b>p*w)},${this._x1=t+T*f},${this._y1=n+T*h}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),h=t+d,p=n+f,g=1^l,y=l?i-o:o-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>vs||Math.abs(this._y1-p)>vs)&&this._append`L${h},${p}`,r&&(y<0&&(y=y%e0+e0),y>b8?this._append`A${r},${r},0,1,${g},${t-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:y>vs&&this._append`A${r},${r},0,${+(y>=Zv)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _8(t)}function Sb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gT(e){this._context=e}gT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ih(e){return new gT(e)}function yT(e){return e[0]}function vT(e){return e[1]}function bT(e,t){var n=vt(!0),r=null,i=Ih,o=null,l=wb(d);e=typeof e=="function"?e:e===void 0?yT:vt(e),t=typeof t=="function"?t:t===void 0?vT:vt(t);function d(f){var h,p=(f=Sb(f)).length,g,y=!1,b;for(r==null&&(o=i(b=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(g,h,f),+t(g,h,f));if(b)return o=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:vt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:vt(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:vt(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),d):r},d}function tf(e,t,n){var r=null,i=vt(!0),o=null,l=Ih,d=null,f=wb(h);e=typeof e=="function"?e:e===void 0?yT:vt(+e),t=typeof t=="function"?t:vt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?vT:vt(+n);function h(g){var y,b,w,S=(g=Sb(g)).length,j,N=!1,A,O=new Array(S),C=new Array(S);for(o==null&&(d=l(A=f())),y=0;y<=S;++y){if(!(y<S&&i(j=g[y],y,g))===N)if(N=!N)b=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=y-1;w>=b;--w)d.point(O[w],C[w]);d.lineEnd(),d.areaEnd()}N&&(O[y]=+e(j,y,g),C[y]=+t(j,y,g),d.point(r?+r(j,y,g):O[y],n?+n(j,y,g):C[y]))}if(A)return d=null,A+""||null}function p(){return bT().defined(i).curve(l).context(o)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:vt(+g),r=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:vt(+g),h):e},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:vt(+g),h):r},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:vt(+g),n=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:vt(+g),h):t},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:vt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:vt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,o!=null&&(d=l(o)),h):l},h.context=function(g){return arguments.length?(g==null?o=d=null:d=l(o=g),h):o},h}class xT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function w8(e){return new xT(e,!0)}function S8(e){return new xT(e,!1)}const jb={draw(e,t){const n=Xr(t/Kf);e.moveTo(n,0),e.arc(0,0,n,0,Dh)}},j8={draw(e,t){const n=Xr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_T=Xr(1/3),N8=_T*2,E8={draw(e,t){const n=Xr(t/N8),r=n*_T;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},O8={draw(e,t){const n=Xr(t),r=-n/2;e.rect(r,r,n,n)}},A8=.8908130915292852,wT=Ff(Kf/10)/Ff(7*Kf/10),C8=Ff(Dh/10)*wT,T8=-mT(Dh/10)*wT,k8={draw(e,t){const n=Xr(t*A8),r=C8*n,i=T8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=Dh*o/5,d=mT(l),f=Ff(l);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*i,f*r+d*i)}e.closePath()}},ty=Xr(3),P8={draw(e,t){const n=-Xr(t/(ty*3));e.moveTo(0,n*2),e.lineTo(-ty*n,-n),e.lineTo(ty*n,-n),e.closePath()}},xr=-.5,_r=Xr(3)/2,t0=1/Xr(12),M8=(t0/2+1)*3,R8={draw(e,t){const n=Xr(t/M8),r=n/2,i=n*t0,o=r,l=n*t0+n,d=-o,f=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(d,f),e.lineTo(xr*r-_r*i,_r*r+xr*i),e.lineTo(xr*o-_r*l,_r*o+xr*l),e.lineTo(xr*d-_r*f,_r*d+xr*f),e.lineTo(xr*r+_r*i,xr*i-_r*r),e.lineTo(xr*o+_r*l,xr*l-_r*o),e.lineTo(xr*d+_r*f,xr*f-_r*d),e.closePath()}};function D8(e,t){let n=null,r=wb(i);e=typeof e=="function"?e:vt(e||jb),t=typeof t=="function"?t:vt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:vt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:vt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Gf(){}function Yf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ST(e){this._context=e}ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I8(e){return new ST(e)}function jT(e){this._context=e}jT.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L8(e){return new jT(e)}function NT(e){this._context=e}NT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U8(e){return new NT(e)}function ET(e){this._context=e}ET.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $8(e){return new ET(e)}function T2(e){return e<0?-1:1}function k2(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),d=(o*i+l*r)/(r+i);return(T2(o)+T2(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(d))||0}function P2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ny(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,d=(o-r)/3;e._context.bezierCurveTo(r+d,i+d*t,o-d,l-d*n,o,l)}function Vf(e){this._context=e}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ny(this,this._t0,P2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ny(this,P2(this,n=k2(this,e,t)),n);break;default:ny(this,this._t0,n=k2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function OT(e){this._context=new AT(e)}(OT.prototype=Object.create(Vf.prototype)).point=function(e,t){Vf.prototype.point.call(this,t,e)};function AT(e){this._context=e}AT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function z8(e){return new Vf(e)}function B8(e){return new OT(e)}function CT(e){this._context=e}CT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=M2(e),i=M2(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function M2(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function q8(e){return new CT(e)}function Lh(e,t){this._context=e,this._t=t}Lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function H8(e){return new Lh(e,.5)}function F8(e){return new Lh(e,0)}function K8(e){return new Lh(e,1)}function ol(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,d=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<d;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function n0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function G8(e,t){return e[t]}function Y8(e){const t=[];return t.key=e,t}function V8(){var e=vt([]),t=n0,n=ol,r=G8;function i(o){var l=Array.from(e.apply(this,arguments),Y8),d,f=l.length,h=-1,p;for(const g of o)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(g,l[d].key,h,o)]).data=g;for(d=0,p=Sb(t(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:vt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:vt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?n0:typeof o=="function"?o:vt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ol,i):n},i}function W8(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}ol(e,t)}}function X8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,d=0;l<i;++l)d+=e[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}ol(e,t)}}function Q8(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[r][1]||0,y=p[r-1][1]||0,b=(g-y)/2,w=0;w<d;++w){var S=e[t[w]],j=S[r][1]||0,N=S[r-1][1]||0;b+=j-N}f+=g,h+=b*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,ol(e,t)}}var J8=["type","size","sizeType"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(null,arguments)}function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(r){Z8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z8(e,t,n){return(t=eB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nB(e,t){if(e==null)return{};var n,r,i=rB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TT={symbolCircle:jb,symbolCross:j8,symbolDiamond:E8,symbolSquare:O8,symbolStar:k8,symbolTriangle:P8,symbolWye:R8},aB=Math.PI/180,iB=e=>{var t="symbol".concat(vu(e));return TT[t]||jb},sB=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*aB;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oB=(e,t)=>{TT["symbol".concat(vu(e))]=t},Nb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=nB(e,J8),o=D2(D2({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var y=iB(l),b=D8().type(y).size(sB(n,r,l));return b()},{className:f,cx:h,cy:p}=o,g=en(o,!0);return h===+h&&p===+p&&n===+n?x.createElement("path",r0({},g,{className:ot("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Nb.registerSymbol=oB;function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(r){Eb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eb(e,t,n){return(t=cB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cB(e){var t=uB(e,"string");return typeof t=="symbol"?t:t+""}function uB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wr=32;class Ob extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=wr/2,o=wr/6,l=wr/3,d=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:wr,y2:i,className:"recharts-legend-icon"});if(f==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(wr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return x.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=lB({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(Nb,{fill:d,cx:i,cy:i,size:wr,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=this.props,d={x:0,y:0,width:wr,height:wr},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var y=p.formatter||i,b=ot({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?o:p.color,S=y?y(p.value,p,g):p.value;return x.createElement("li",a0({className:b,style:f,key:"legend-item-".concat(g)},bu(this.props,p,g)),x.createElement(_b,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(S," legend icon")},this.renderIcon(p,l)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Eb(Ob,"displayName","Legend");Eb(Ob,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ry={},ay={},L2;function dB(){return L2||(L2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],d=r(l);i.has(d)||i.set(d,l)}return Array.from(i.values())}e.uniqBy=t})(ay)),ay}var iy={},U2;function kT(){return U2||(U2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(iy)),iy}var sy={},oy={},ly={},$2;function fB(){return $2||($2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ly)),ly}var z2;function Ab(){return z2||(z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fB();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(oy)),oy}var cy={},B2;function hB(){return B2||(B2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(cy)),cy}var q2;function mB(){return q2||(q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ab(),n=hB();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(sy)),sy}var uy={},dy={},H2;function pB(){return H2||(H2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(dy)),dy}var fy={},hy={},my={},py={},F2;function PT(){return F2||(F2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(py)),py}var gy={},K2;function MT(){return K2||(K2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(gy)),gy}var yy={},G2;function RT(){return G2||(G2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(yy)),yy}var Y2;function gB(){return Y2||(Y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cb(),n=PT(),r=MT(),i=RT();function o(g,y,b){return typeof b!="function"?t.isMatch(g,y):l(g,y,function w(S,j,N,A,O,C){const T=b(S,j,N,A,O,C);return T!==void 0?!!T:l(S,j,w,C)},new Map)}function l(g,y,b,w){if(y===g)return!0;switch(typeof y){case"object":return d(g,y,b,w);case"function":return Object.keys(y).length>0?l(g,{...y},b,w):i.eq(g,y);default:return n.isObject(g)?typeof y=="string"?y==="":!0:i.eq(g,y)}}function d(g,y,b,w){if(y==null)return!0;if(Array.isArray(y))return h(g,y,b,w);if(y instanceof Map)return f(g,y,b,w);if(y instanceof Set)return p(g,y,b,w);const S=Object.keys(y);if(g==null)return S.length===0;if(S.length===0)return!0;if(w&&w.has(y))return w.get(y)===g;w&&w.set(y,g);try{for(let j=0;j<S.length;j++){const N=S[j];if(!r.isPrimitive(g)&&!(N in g)||y[N]===void 0&&g[N]!==void 0||y[N]===null&&g[N]!==null||!b(g[N],y[N],N,g,y,w))return!1}return!0}finally{w&&w.delete(y)}}function f(g,y,b,w){if(y.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,j]of y.entries()){const N=g.get(S);if(b(N,j,S,g,y,w)===!1)return!1}return!0}function h(g,y,b,w){if(y.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let j=0;j<y.length;j++){const N=y[j];let A=!1;for(let O=0;O<g.length;O++){if(S.has(O))continue;const C=g[O];let T=!1;if(b(C,N,j,g,y,w)&&(T=!0),T){S.add(O),A=!0;break}}if(!A)return!1}return!0}function p(g,y,b,w){return y.size===0?!0:g instanceof Set?h([...g],[...y],b,w):!1}e.isMatchWith=o,e.isSetMatch=p})(my)),my}var V2;function Cb(){return V2||(V2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gB();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(hy)),hy}var vy={},by={},xy={},W2;function yB(){return W2||(W2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(xy)),xy}var _y={},X2;function DT(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(_y)),_y}var wy={},Q2;function IT(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",w="[object Error]",S="[object DataView]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",A="[object Uint16Array]",O="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",k="[object Int32Array]",D="[object BigInt64Array]",q="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=S,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=$,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=k,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=O,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=N})(wy)),wy}var Sy={},J2;function vB(){return J2||(J2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Sy)),Sy}var Z2;function LT(){return Z2||(Z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yB(),n=DT(),r=IT(),i=MT(),o=vB();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,y,b=new Map,w=void 0){const S=w==null?void 0:w(p,g,y,b);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const j=new Array(p.length);b.set(p,j);for(let N=0;N<p.length;N++)j[N]=d(p[N],N,y,b,w);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;b.set(p,j);for(const[N,A]of p)j.set(N,d(A,N,y,b,w));return j}if(p instanceof Set){const j=new Set;b.set(p,j);for(const N of p)j.add(d(N,void 0,y,b,w));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,j);for(let N=0;N<p.length;N++)j[N]=d(p[N],N,y,b,w);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,j),f(j,p,y,b,w),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return b.set(p,j),f(j,p,y,b,w),j}if(typeof Blob<"u"&&p instanceof Blob){const j=new Blob([p],{type:p.type});return b.set(p,j),f(j,p,y,b,w),j}if(p instanceof Error){const j=new p.constructor;return b.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,f(j,p,y,b,w),j}if(p instanceof Boolean){const j=new Boolean(p.valueOf());return b.set(p,j),f(j,p,y,b,w),j}if(p instanceof Number){const j=new Number(p.valueOf());return b.set(p,j),f(j,p,y,b,w),j}if(p instanceof String){const j=new String(p.valueOf());return b.set(p,j),f(j,p,y,b,w),j}if(typeof p=="object"&&h(p)){const j=Object.create(Object.getPrototypeOf(p));return b.set(p,j),f(j,p,y,b,w),j}return p}function f(p,g,y=p,b,w){const S=[...Object.keys(g),...t.getSymbols(g)];for(let j=0;j<S.length;j++){const N=S[j],A=Object.getOwnPropertyDescriptor(p,N);(A==null||A.writable)&&(p[N]=d(g[N],N,y,b,w))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(by)),by}var eN;function bB(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(vy)),vy}var tN;function xB(){return tN||(tN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cb(),n=bB();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(fy)),fy}var jy={},Ny={},Ey={},nN;function _B(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT(),n=IT();function r(i,o){return t.cloneDeepWith(i,(l,d,f,h)=>{const p=o==null?void 0:o(l,d,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Ey)),Ey}var rN;function wB(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_B();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Ny)),Ny}var Oy={},Ay={},aN;function UT(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Ay)),Ay}var Cy={},iN;function SB(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Cy)),Cy}var sN;function jB(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cT(),n=UT(),r=SB(),i=yb();function o(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=o})(Oy)),Oy}var oN;function NB(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cb(),n=gb(),r=wB(),i=vb(),o=jB();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?o.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(jy)),jy}var lN;function EB(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT(),n=pB(),r=xB(),i=NB();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(uy)),uy}var cN;function OB(){return cN||(cN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dB(),n=kT(),r=mB(),i=EB();function o(l,d=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(d)):[]}e.uniqBy=o})(ry)),ry}var Ty,uN;function AB(){return uN||(uN=1,Ty=OB().uniqBy),Ty}var CB=AB();const dN=Vr(CB);function $T(e,t,n){return t===!0?dN(e,n):typeof t=="function"?dN(e,t):e}var ky={exports:{}},Py={},My={exports:{}},Ry={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function TB(){if(fN)return Ry;fN=1;var e=vl();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function d(g,y){var b=y(),w=r({inst:{value:b,getSnapshot:y}}),S=w[0].inst,j=w[1];return o(function(){S.value=b,S.getSnapshot=y,f(S)&&j({inst:S})},[g,b,y]),i(function(){return f(S)&&j({inst:S}),g(function(){f(S)&&j({inst:S})})},[g]),l(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function h(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Ry.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Ry}var hN;function kB(){return hN||(hN=1,My.exports=TB()),My.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function PB(){if(mN)return Py;mN=1;var e=vl(),t=kB();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Py.useSyncExternalStoreWithSelector=function(h,p,g,y,b){var w=o(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=d(function(){function N(P){if(!A){if(A=!0,O=P,P=y(P),b!==void 0&&S.hasValue){var k=S.value;if(b(k,P))return C=k}return C=P}if(k=C,r(O,P))return k;var D=y(P);return b!==void 0&&b(k,D)?(O=P,k):(O=P,C=D)}var A=!1,O,C,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,y,b]);var j=i(h,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=j},[j]),f(j),j},Py}var pN;function MB(){return pN||(pN=1,ky.exports=PB()),ky.exports}var RB=MB(),Tb=x.createContext(null),DB=e=>e,Tt=()=>{var e=x.useContext(Tb);return e?e.store.dispatch:DB},Cf=()=>{},IB=()=>Cf,LB=(e,t)=>e===t;function Ee(e){var t=x.useContext(Tb);return RB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:IB,t?t.store.getState:Cf,t?t.store.getState:Cf,t?e:Cf,LB)}function UB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $B(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var gN=e=>Array.isArray(e)?e:[e];function BB(e){const t=Array.isArray(e[0])?e[0]:e;return zB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function qB(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var HB=class{constructor(e){this.value=e}deref(){return this.value}},FB=typeof WeakRef<"u"?WeakRef:HB,KB=0,yN=1;function nf(){return{s:KB,v:void 0,o:null,p:null}}function zT(e,t={}){let n=nf();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var g;let d=n;const{length:f}=arguments;for(let y=0,b=f;y<b;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const j=S.get(w);j===void 0?(d=nf(),S.set(w,d)):d=j}else{let S=d.p;S===null&&(d.p=S=new Map);const j=S.get(w);j===void 0?(d=nf(),S.set(w,d)):d=j}}const h=d;let p;if(d.s===yN)p=d.v;else if(p=e.apply(null,arguments),o++,r){const y=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;y!=null&&r(y,p)&&(p=y,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new FB(p):p}return h.s=yN,h.v=p,p}return l.clearCache=()=>{n=nf(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function GB(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),UB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:b=zT,argsMemoizeOptions:w=[]}=p,S=gN(y),j=gN(w),N=BB(i),A=g(function(){return o++,h.apply(null,arguments)},...S),O=b(function(){l++;const T=qB(N,arguments);return d=A.apply(null,T),d},...j);return Object.assign(O,{resultFunc:h,memoizedResultFunc:A,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ee=GB(zT),YB=Object.assign((e,t=ee)=>{$B(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>YB}),Dy={},Iy={},Ly={},vN;function VB(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),d=t(i);if(l===d&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?d-l:l-d}return 0};e.compareValues=n})(Ly)),Ly}var Uy={},$y={},bN;function BT(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})($y)),$y}var xN;function WB(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Uy)),Uy}var _N;function XB(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VB(),n=WB(),r=yb();function i(o,l,d,f){if(o==null)return[];d=f?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const h=(b,w)=>{let S=b;for(let j=0;j<w.length&&S!=null;++j)S=S[w[j]];return S},p=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:g.map(w=>p(w,b))})).slice().sort((b,w)=>{for(let S=0;S<g.length;S++){const j=t.compareValues(b.criteria[S],w.criteria[S],d[S]);if(j!==0)return j}return 0}).map(b=>b.original)}e.orderBy=i})(Iy)),Iy}var zy={},wN;function QB(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<o?l(p,f+1):i.push(p)}};return l(n,0),i}e.flatten=t})(zy)),zy}var By={},SN;function qT(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT(),n=Ab(),r=PT(),i=RT();function o(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.eq(f[d],l):!1}e.isIterateeCall=o})(By)),By}var jN;function JB(){return jN||(jN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XB(),n=QB(),r=qT();function i(o,...l){const d=l.length;return d>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(Dy)),Dy}var qy,NN;function ZB(){return NN||(NN=1,qy=JB().sortBy),qy}var eq=ZB();const Uh=Vr(eq);var HT=e=>e.legend.settings,tq=e=>e.legend.size,nq=e=>e.legend.payload,rq=ee([nq,HT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Uh(r,n):r});function aq(){return Ee(rq)}var rf=1;function FT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>rf||Math.abs(l.left-t.left)>rf||Math.abs(l.top-t.top)>rf||Math.abs(l.width-t.width)>rf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function bn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iq=typeof Symbol=="function"&&Symbol.observable||"@@observable",EN=iq,Hy=()=>Math.random().toString(36).substring(7).split("").join("."),sq={INIT:`@@redux/INIT${Hy()}`,REPLACE:`@@redux/REPLACE${Hy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hy()}`},Wf=sq;function kb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function KT(e,t,n){if(typeof e!="function")throw new Error(bn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bn(1));return n(KT)(e,t)}let r=e,i=t,o=new Map,l=o,d=0,f=!1;function h(){l===o&&(l=new Map,o.forEach((j,N)=>{l.set(N,j)}))}function p(){if(f)throw new Error(bn(3));return i}function g(j){if(typeof j!="function")throw new Error(bn(4));if(f)throw new Error(bn(5));let N=!0;h();const A=d++;return l.set(A,j),function(){if(N){if(f)throw new Error(bn(6));N=!1,h(),l.delete(A),o=null}}}function y(j){if(!kb(j))throw new Error(bn(7));if(typeof j.type>"u")throw new Error(bn(8));if(typeof j.type!="string")throw new Error(bn(17));if(f)throw new Error(bn(9));try{f=!0,i=r(i,j)}finally{f=!1}return(o=l).forEach(A=>{A()}),j}function b(j){if(typeof j!="function")throw new Error(bn(10));r=j,y({type:Wf.REPLACE})}function w(){const j=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(bn(11));function A(){const C=N;C.next&&C.next(p())}return A(),{unsubscribe:j(A)}},[EN](){return this}}}return y({type:Wf.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:b,[EN]:w}}function oq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wf.INIT})>"u")throw new Error(bn(12));if(typeof n(void 0,{type:Wf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function GT(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{oq(n)}catch(o){i=o}return function(l={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],y=n[g],b=l[g],w=y(b,d);if(typeof w>"u")throw d&&d.type,new Error(bn(14));h[g]=w,f=f||w!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function lq(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(bn(15))};const l={getState:i.getState,dispatch:(f,...h)=>o(f,...h)},d=e.map(f=>f(l));return o=Xf(...d)(i.dispatch),{...i,dispatch:o}}}function YT(e){return kb(e)&&"type"in e&&typeof e.type=="string"}var VT=Symbol.for("immer-nothing"),ON=Symbol.for("immer-draftable"),sr=Symbol.for("immer-state");function Fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ll=Object.getPrototypeOf;function $s(e){return!!e&&!!e[sr]}function Ga(e){var t;return e?WT(e)||Array.isArray(e)||!!e[ON]||!!((t=e.constructor)!=null&&t[ON])||xu(e)||zh(e):!1}var cq=Object.prototype.constructor.toString();function WT(e){if(!e||typeof e!="object")return!1;const t=ll(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===cq}function Qf(e,t){$h(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function $h(e){const t=e[sr];return t?t.type_:Array.isArray(e)?1:xu(e)?2:zh(e)?3:0}function i0(e,t){return $h(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XT(e,t,n){const r=$h(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function uq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xu(e){return e instanceof Map}function zh(e){return e instanceof Set}function bs(e){return e.copy_||e.base_}function s0(e,t){if(xu(e))return new Map(e);if(zh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=WT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[sr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(ll(e),r)}else{const r=ll(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Pb(e,t=!1){return Bh(e)||$s(e)||!Ga(e)||($h(e)>1&&Object.defineProperties(e,{set:{value:af},add:{value:af},clear:{value:af},delete:{value:af}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Pb(n,!0))),e}function af(){Fr(2)}function Bh(e){return Object.isFrozen(e)}var dq={};function zs(e){const t=dq[e];return t||Fr(0,e),t}var tu;function QT(){return tu}function fq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AN(e,t){t&&(zs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function o0(e){l0(e),e.drafts_.forEach(hq),e.drafts_=null}function l0(e){e===tu&&(tu=e.parent_)}function CN(e){return tu=fq(tu,e)}function hq(e){const t=e[sr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[sr].modified_&&(o0(t),Fr(4)),Ga(e)&&(e=Jf(t,e),t.parent_||Zf(t,e)),t.patches_&&zs("Patches").generateReplacementPatches_(n[sr].base_,e,t.patches_,t.inversePatches_)):e=Jf(t,n,[]),o0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VT?e:void 0}function Jf(e,t,n){if(Bh(t))return t;const r=t[sr];if(!r)return Qf(t,(i,o)=>kN(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Zf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,l=!1;r.type_===3&&(o=new Set(i),i.clear(),l=!0),Qf(o,(d,f)=>kN(e,r,i,d,f,n,l)),Zf(e,i,!1),n&&e.patches_&&zs("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function kN(e,t,n,r,i,o,l){if($s(i)){const d=o&&t&&t.type_!==3&&!i0(t.assigned_,r)?o.concat(r):void 0,f=Jf(e,i,d);if(XT(n,r,f),$s(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ga(i)&&!Bh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Jf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(xu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zf(e,i)}}function Zf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Pb(t,n)}function mq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:QT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Mb;n&&(i=[r],o=nu);const{revoke:l,proxy:d}=Proxy.revocable(i,o);return r.draft_=d,r.revoke_=l,d}var Mb={get(e,t){if(t===sr)return e;const n=bs(e);if(!i0(n,t))return pq(e,n,t);const r=n[t];return e.finalized_||!Ga(r)?r:r===Fy(e.base_,t)?(Ky(e),e.copy_[t]=u0(r,e)):r},has(e,t){return t in bs(e)},ownKeys(e){return Reflect.ownKeys(bs(e))},set(e,t,n){const r=JT(bs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Fy(bs(e),t),o=i==null?void 0:i[sr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(uq(n,i)&&(n!==void 0||i0(e.base_,t)))return!0;Ky(e),c0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Fy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ky(e),c0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=bs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fr(11)},getPrototypeOf(e){return ll(e.base_)},setPrototypeOf(){Fr(12)}},nu={};Qf(Mb,(e,t)=>{nu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});nu.deleteProperty=function(e,t){return nu.set.call(this,e,t,void 0)};nu.set=function(e,t,n){return Mb.set.call(this,e[0],t,n,e[0])};function Fy(e,t){const n=e[sr];return(n?bs(n):e)[t]}function pq(e,t,n){var i;const r=JT(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function JT(e,t){if(!(t in e))return;let n=ll(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ll(n)}}function c0(e){e.modified_||(e.modified_=!0,e.parent_&&c0(e.parent_))}function Ky(e){e.copy_||(e.copy_=s0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(f=o,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Fr(6),r!==void 0&&typeof r!="function"&&Fr(7);let i;if(Ga(t)){const o=CN(this),l=u0(t,void 0);let d=!0;try{i=n(l),d=!1}finally{d?o0(o):l0(o)}return AN(o,r),TN(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===VT&&(i=void 0),this.autoFreeze_&&Pb(i,!0),r){const o=[],l=[];zs("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Fr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let r,i;return[this.produce(t,n,(l,d)=>{r=l,i=d}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ga(e)||Fr(8),$s(e)&&(e=qa(e));const t=CN(this),n=u0(e,void 0);return n[sr].isManual_=!0,l0(t),n}finishDraft(e,t){const n=e&&e[sr];(!n||!n.isManual_)&&Fr(9);const{scope_:r}=n;return AN(r,t),TN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=zs("Patches").applyPatches_;return $s(e)?r(e,t):this.produce(e,i=>r(i,t))}};function u0(e,t){const n=xu(e)?zs("MapSet").proxyMap_(e,t):zh(e)?zs("MapSet").proxySet_(e,t):mq(e,t);return(t?t.scope_:QT()).drafts_.push(n),n}function qa(e){return $s(e)||Fr(10,e),ZT(e)}function ZT(e){if(!Ga(e)||Bh(e))return e;const t=e[sr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=s0(e,t.scope_.immer_.useStrictShallowCopy_)}else n=s0(e,!0);return Qf(n,(r,i)=>{XT(n,r,ZT(i))}),t&&(t.finalized_=!1),n}var yq=new gq,ek=yq.produce;function tk(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var vq=tk(),bq=tk,xq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xf:Xf.apply(null,arguments)};function Or(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ar(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>YT(r)&&r.type===e,n}var nk=class Lc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Lc.prototype)}static get[Symbol.species](){return Lc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Lc(...t[0].concat(this)):new Lc(...t.concat(this))}};function PN(e){return Ga(e)?ek(e,()=>{}):e}function sf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function _q(e){return typeof e=="boolean"}var wq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new nk;return n&&(_q(n)?l.push(vq):l.push(bq(n.extraArgument))),l},Sq="RTK_autoBatch",MN=e=>t=>{setTimeout(t,e)},jq=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MN(10):e.type==="callback"?e.queueNotification:MN(e.timeout),h=()=>{l=!1,o&&(o=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),y=r.subscribe(g);return d.add(p),()=>{y(),d.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[Sq]),o=!i,o&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},Nq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new nk(e);return r&&i.push(jq(typeof r=="object"?r:void 0)),i};function Eq(e){const t=wq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(kb(n))d=GT(n);else throw new Error(ar(1));let f;typeof r=="function"?f=r(t):f=t();let h=Xf;i&&(h=xq({trace:!1,...typeof i=="object"&&i}));const p=lq(...f),g=Nq(p);let y=typeof l=="function"?l(g):g();const b=h(...y);return KT(d,o,b)}function rk(e){const t={},n=[];let r;const i={addCase(o,l){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(ar(28));if(d in t)throw new Error(ar(29));return t[d]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Oq(e){return typeof e=="function"}function Aq(e,t){let[n,r,i]=rk(t),o;if(Oq(e))o=()=>PN(e());else{const d=PN(e);o=()=>d}function l(d=o(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if($s(p)){const b=g(p,f);return b===void 0?p:b}else{if(Ga(p))return ek(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},d)}return l.getInitialState=o,l}var Cq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tq=(e=21)=>{let t="",n=e;for(;n--;)t+=Cq[Math.random()*64|0];return t},kq=Symbol.for("rtk-slice-createasyncthunk");function Pq(e,t){return`${e}/${t}`}function Mq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[kq];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(ar(11));const d=(typeof i.reducers=="function"?i.reducers(Dq()):i.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(ar(12));if(P in h.sliceCaseReducersByType)throw new Error(ar(13));return h.sliceCaseReducersByType[P]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=d[C],P={reducerName:C,type:Pq(o,C),createNotation:typeof i.reducers=="function"};Lq(T)?$q(P,T,p,t):Iq(P,T,p)});function g(){const[C={},T=[],P=void 0]=typeof i.extraReducers=="function"?rk(i.extraReducers):[i.extraReducers],k={...C,...h.sliceCaseReducersByType};return Aq(i.initialState,D=>{for(let q in k)D.addCase(q,k[q]);for(let q of h.sliceMatchers)D.addMatcher(q.matcher,q.reducer);for(let q of T)D.addMatcher(q.matcher,q.reducer);P&&D.addDefaultCase(P)})}const y=C=>C,b=new Map,w=new WeakMap;let S;function j(C,T){return S||(S=g()),S(C,T)}function N(){return S||(S=g()),S.getInitialState()}function A(C,T=!1){function P(D){let q=D[C];return typeof q>"u"&&T&&(q=sf(w,P,N)),q}function k(D=y){const q=sf(b,T,()=>new WeakMap);return sf(q,D,()=>{const $={};for(const[F,H]of Object.entries(i.selectors??{}))$[F]=Rq(H,D,()=>sf(w,D,N),T);return $})}return{reducerPath:C,getSelectors:k,get selectors(){return k(P)},selectSlice:P}}const O={name:o,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...A(l),injectInto(C,{reducerPath:T,...P}={}){const k=T??l;return C.inject({reducerPath:k,reducer:j},P),{...O,...A(k,!0)}}};return O}}function Rq(e,t,n,r){function i(o,...l){let d=t(o);return typeof d>"u"&&r&&(d=n()),e(d,...l)}return i.unwrapped=e,i}var lr=Mq();function Dq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Iq({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!Uq(r))throw new Error(ar(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?Or(e,l):Or(e))}function Lq(e){return e._reducerDefinitionType==="asyncThunk"}function Uq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $q({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ar(18));const{payloadCreator:o,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,g=i(e,o,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(t,{fulfilled:l||of,pending:d||of,rejected:f||of,settled:h||of})}function of(){}var zq="task",ak="listener",ik="completed",Rb="cancelled",Bq=`task-${Rb}`,qq=`task-${ik}`,d0=`${ak}-${Rb}`,Hq=`${ak}-${ik}`,qh=class{constructor(e){Eg(this,"name","TaskAbortError");Eg(this,"message");this.code=e,this.message=`${zq} ${Rb} (reason: ${e})`}},Db=(e,t)=>{if(typeof e!="function")throw new TypeError(ar(32))},eh=()=>{},sk=(e,t=eh)=>(e.catch(t),e),ok=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Rs=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ds=e=>{if(e.aborted){const{reason:t}=e;throw new qh(t)}};function lk(e,t){let n=eh;return new Promise((r,i)=>{const o=()=>i(new qh(e.reason));if(e.aborted){o();return}n=ok(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=eh})}var Fq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof qh?"cancelled":"rejected",error:n}}finally{t==null||t()}},th=e=>t=>sk(lk(e,t).then(n=>(Ds(e),n))),ck=e=>{const t=th(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:al}=Object,RN={},Hh="listenerMiddleware",Kq=(e,t)=>{const n=r=>ok(e,()=>Rs(r,e.reason));return(r,i)=>{Db(r);const o=new AbortController;n(o);const l=Fq(async()=>{Ds(e),Ds(o.signal);const d=await r({pause:th(o.signal),delay:ck(o.signal),signal:o.signal});return Ds(o.signal),d},()=>Rs(o,qq));return i!=null&&i.autoJoin&&t.push(l.catch(eh)),{result:th(e)(l),cancel(){Rs(o,Bq)}}}},Gq=(e,t)=>{const n=async(r,i)=>{Ds(t);let o=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:r,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});o=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await lk(t,Promise.race(d));return Ds(t),f}finally{o()}};return(r,i)=>sk(n(r,i))},uk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Or(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ar(21));return Db(o),{predicate:i,type:t,effect:o}},dk=al(e=>{const{type:t,predicate:n,effect:r}=uk(e);return{id:Tq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ar(22))}}},{withTypes:()=>dk}),DN=(e,t)=>{const{type:n,effect:r,predicate:i}=uk(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},f0=e=>{e.pending.forEach(t=>{Rs(t,d0)})},Yq=e=>()=>{e.forEach(f0),e.clear()},IN=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},fk=al(Or(`${Hh}/add`),{withTypes:()=>fk}),Vq=Or(`${Hh}/removeAll`),hk=al(Or(`${Hh}/remove`),{withTypes:()=>hk}),Wq=(...e)=>{console.error(`${Hh}/error`,...e)},_u=(e={})=>{const t=new Map,{extra:n,onError:r=Wq}=e;Db(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&f0(p)}),o=p=>{const g=DN(t,p)??dk(p);return i(g)};al(o,{withTypes:()=>o});const l=p=>{const g=DN(t,p);return g&&(g.unsubscribe(),p.cancelActive&&f0(g)),!!g};al(l,{withTypes:()=>l});const d=async(p,g,y,b)=>{const w=new AbortController,S=Gq(o,w.signal),j=[];try{p.pending.add(w),await Promise.resolve(p.effect(g,al({},y,{getOriginalState:b,condition:(N,A)=>S(N,A).then(Boolean),take:S,delay:ck(w.signal),pause:th(w.signal),extra:n,signal:w.signal,fork:Kq(w.signal,j),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,A,O)=>{N!==w&&(Rs(N,d0),O.delete(N))})},cancel:()=>{Rs(w,d0),p.pending.delete(w)},throwIfCancelled:()=>{Ds(w.signal)}})))}catch(N){N instanceof qh||IN(r,N,{raisedBy:"effect"})}finally{await Promise.all(j),Rs(w,Hq),p.pending.delete(w)}},f=Yq(t);return{middleware:p=>g=>y=>{if(!YT(y))return g(y);if(fk.match(y))return o(y.payload);if(Vq.match(y)){f();return}if(hk.match(y))return l(y.payload);let b=p.getState();const w=()=>{if(b===RN)throw new Error(ar(23));return b};let S;try{if(S=g(y),t.size>0){const j=p.getState(),N=Array.from(t.values());for(const A of N){let O=!1;try{O=A.predicate(y,j,b)}catch(C){O=!1,IN(r,C,{raisedBy:"predicate"})}O&&d(A,y,p,w)}}}finally{b=RN}return S},startListening:o,stopListening:l,clearListeners:f}};function ar(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Xq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},mk=lr({name:"chartLayout",initialState:Xq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Qq,setLayout:Jq,setChartSize:Zq,setScale:e7}=mk.actions,t7=mk.reducer;function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(r){n7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n7(e,t,n){return(t=r7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh=Math.PI/180,i7=e=>e*180/Math.PI,Yt=(e,t,n,r)=>({x:e+Math.cos(-nh*r)*n,y:t+Math.sin(-nh*r)*n}),pk=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},s7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},o7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=s7({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var d=(n-i)/l,f=Math.acos(d);return r>o&&(f=2*Math.PI-f),{radius:l,angle:i7(f),angleInRadian:f}},l7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},c7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},u7=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=o7({x:n,y:r},t),{innerRadius:l,outerRadius:d}=t;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:h}=l7(t),p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?UN(UN({},t),{},{radius:i,angle:c7(p,t)}):null};function gk(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){d7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d7(e,t,n){return(t=f7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ct(e,t,n){return dn(e)||dn(t)?n:ca(t)?Us(e,t,n):typeof t=="function"?t(e):n}var m7=(e,t,n,r,i)=>{var o,l=-1,d=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(un(p-h)!==un(g-p)){var b=[];if(un(g-p)===un(i[1]-i[0])){y=g;var w=p+i[1]-i[0];b[0]=Math.min(w,(w+h)/2),b[1]=Math.max(w,(w+h)/2)}else{y=h;var S=g+i[1]-i[0];b[0]=Math.min(p,(S+p)/2),b[1]=Math.max(p,(S+p)/2)}var j=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>j[0]&&e<=j[1]||e>=b[0]&&e<=b[1]){({index:l}=n[f]);break}}else{var N=Math.min(h,g),A=Math.max(h,g);if(e>(N+p)/2&&e<=(A+p)/2){({index:l}=n[f]);break}}}else if(t){for(var O=0;O<d;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<d-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===d-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:l}=t[O]);break}}return l},p7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&o!=="center"&&Ce(e[o]))return jr(jr({},e),{},{[o]:e[o]+(r||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&l!=="middle"&&Ce(e[l]))return jr(jr({},e),{},{[l]:e[l]+(i||0)})}return e},Gs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",yk=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var i,o,l=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===n&&(o=!0),d.coordinate));return i||l.push(t),o||l.push(n),l},vk=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:y,axisType:b}=e;if(!l)return null;var w=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=b==="angleAxis"&&o&&o.length>=2?un(o[0]-o[1])*2*S:S,g||y){var j=(g||y||[]).map((N,A)=>{var O=r?r.indexOf(N):N;return{coordinate:l(O)+S,value:N,offset:S,index:A}});return j.filter(N=>!ir(N.coordinate))}return f&&h?h.map((N,A)=>({coordinate:l(N)+S,value:N,index:A,offset:S})):l.ticks&&p!=null?l.ticks(p).map((N,A)=>({coordinate:l(N)+S,value:N,offset:S,index:A})):l.domain().map((N,A)=>({coordinate:l(N)+S,value:r?r[N]:N,index:A,offset:S}))},zN=1e-4,g7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-zN,o=Math.max(r[0],r[1])+zN,l=e(t[0]),d=e(t[n-1]);(l<i||l>o||d<i||d>o)&&e.domain([t[0],t[n-1]])}},y7=(e,t)=>{if(!t||t.length!==2||!Ce(t[0])||!Ce(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ce(e[0])||e[0]<n)&&(i[0]=n),(!Ce(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},v7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,l=0;l<t;++l){var d=ir(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=i,e[l][n][1]=i+d,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+d,o=e[l][n][1])}},b7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var l=ir(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},x7={sign:v7,expand:W8,none:ol,silhouette:X8,wiggle:Q8,positive:b7},_7=(e,t,n)=>{var r=x7[n],i=V8().keys(t).value((o,l)=>+Ct(o,l,0)).order(n0).offset(r);return i(e)};function w7(e){return e==null?void 0:String(e)}var BN=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var d=Ct(o,t.dataKey,t.scale.domain()[l]);return dn(d)?null:t.scale(d)-i/2+r},S7=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},j7=e=>{var t=e.flat(2).filter(Ce);return[Math.min(...t),Math.max(...t)]},N7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],E7=(e,t,n)=>{if(e!=null)return N7(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:l}=o,d=l.reduce((f,h)=>{var p=gk(h,t,n),g=j7(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},qN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ib=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Uh(t,p=>p.coordinate),o=1/0,l=1,d=i.length;l<d;l++){var f=i[l],h=i[l-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function FN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return jr(jr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Fh(e,t){if(e)return String(e);if(typeof t=="string")return t}function O7(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?u7({x:e,y:t},r):null}var A7=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:l}=r;return jr(jr(jr({},r),Yt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var d=i.coordinate,{angle:f}=r;return jr(jr(jr({},r),Yt(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},C7=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Qa=e=>e.layout.width,Ja=e=>e.layout.height,T7=e=>e.layout.scale,bk=e=>e.layout.margin,Kh=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Gh=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xk="data-recharts-item-index",_k="data-recharts-item-data-key",wu=60;function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(r){k7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7(e,t,n){return(t=P7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P7(e){var t=M7(e,"string");return typeof t=="symbol"?t:t+""}function M7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R7=e=>e.brush.height;function D7(e){var t=Gh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:wu;return n+i}return n},0)}function I7(e){var t=Gh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:wu;return n+i}return n},0)}function L7(e){var t=Kh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function U7(e){var t=Kh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var tn=ee([Qa,Ja,bk,R7,D7,I7,L7,U7,HT,tq],(e,t,n,r,i,o,l,d,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},y=lf(lf({},g),p),b=y.bottom;y.bottom+=r,y=p7(y,f,h);var w=e-y.left-y.right,S=t-y.top-y.bottom;return lf(lf({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(S,0)})}),$7=ee(tn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Lb=ee(Qa,Ja,(e,t)=>({x:0,y:0,width:e,height:t})),z7=x.createContext(null),Tr=()=>x.useContext(z7)!=null,Yh=e=>e.brush,Vh=ee([Yh,tn,bk],(e,t,n)=>({height:e.height,x:Ce(e.x)?e.x:t.left,y:Ce(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ce(e.width)?e.width:t.width})),Ub=()=>{var e,t=Tr(),n=Ee($7),r=Ee(Vh),i=(e=Ee(Yh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},B7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wk=()=>{var e;return(e=Ee(tn))!==null&&e!==void 0?e:B7},$b=()=>Ee(Qa),zb=()=>Ee(Ja),q7=()=>Ee(e=>e.layout.margin),nt=e=>e.layout.layoutType,Bb=()=>Ee(nt),H7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Sk=lr({name:"legend",initialState:H7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=qa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:GN,setLegendSettings:F7,addLegendPayload:jk,removeLegendPayload:Nk}=Sk.actions,K7=Sk.reducer,G7=["contextPayload"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(null,arguments)}function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(r){qb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qb(e,t,n){return(t=Y7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W7(e,t){if(e==null)return{};var n,r,i=X7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Q7(e){return e.value}function J7(e){var{contextPayload:t}=e,n=W7(e,G7),r=$T(t,e.payloadUniqBy,Q7),i=cl(cl({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(Ob,i)}function Z7(e,t,n,r,i,o){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((r||0)-o.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((i||0)-o.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),cl(cl({},h),p)}function e9(e){var t=Tt();return x.useEffect(()=>{t(F7(e))},[t,e]),null}function t9(e){var t=Tt();return x.useEffect(()=>(t(GN(e)),()=>{t(GN({width:0,height:0}))}),[t,e]),null}function n9(e){var t=aq(),n=v8(),r=q7(),{width:i,height:o,wrapperStyle:l,portal:d}=e,[f,h]=FT([t]),p=$b(),g=zb();if(p==null||g==null)return null;var y=p-(r.left||0)-(r.right||0),b=ru.getWidthOrHeight(e.layout,o,i,y),w=d?l:cl(cl({position:"absolute",width:(b==null?void 0:b.width)||i||"auto",height:(b==null?void 0:b.height)||o||"auto"},Z7(l,e,r,p,g,f)),l),S=d??n;if(S==null)return null;var j=x.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},x.createElement(e9,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(t9,{width:f.width,height:f.height}),x.createElement(J7,h0({},e,b,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return J0.createPortal(j,S)}class ru extends x.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Ce(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return x.createElement(n9,this.props)}}qb(ru,"displayName","Legend");qb(ru,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(null,arguments)}function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){r9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r9(e,t,n){return(t=a9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9(e){return Array.isArray(e)&&ca(e[0])&&ca(e[1])?e.join(" ~ "):e}var o9=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:y=!1}=e,b=()=>{if(o&&o.length){var T={padding:0,margin:0},P=(d?Uh(o,d):o).map((k,D)=>{if(k.type==="none")return null;var q=k.formatter||l||s9,{value:$,name:F}=k,H=$,re=F;if(q){var B=q($,F,k,D,o);if(Array.isArray(B))[H,re]=B;else if(B!=null)H=B;else return null}var K=Gy({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:K},ca(re)?x.createElement("span",{className:"recharts-tooltip-item-name"},re):null,ca(re)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},H),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},w=Gy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Gy({margin:0},i),j=!dn(p),N=j?p:"",A=ot("recharts-default-tooltip",f),O=ot("recharts-tooltip-label",h);j&&g&&o!==void 0&&o!==null&&(N=g(p,o));var C=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",m0({className:A,style:w},C),x.createElement("p",{className:O,style:S},x.isValidElement(N)?N:"".concat(N)),b())},Ac="recharts-tooltip-wrapper",l9={visibility:"hidden"};function c9(e){var{coordinate:t,translateX:n,translateY:r}=e;return ot(Ac,{["".concat(Ac,"-right")]:Ce(n)&&t&&Ce(t.x)&&n>=t.x,["".concat(Ac,"-left")]:Ce(n)&&t&&Ce(t.x)&&n<t.x,["".concat(Ac,"-bottom")]:Ce(r)&&t&&Ce(t.y)&&r>=t.y,["".concat(Ac,"-top")]:Ce(r)&&t&&Ce(t.y)&&r<t.y})}function WN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(o&&Ce(o[r]))return o[r];var p=n[r]-d-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var y=f[r];if(y==null)return 0;if(l[r]){var b=p,w=y;return b<w?Math.max(g,y):Math.max(p,y)}if(h==null)return 0;var S=g+d,j=y+h;return S>j?Math.max(p,y):Math.max(g,y)}function u9(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function d9(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:d,viewBox:f}=e,h,p,g;return l.height>0&&l.width>0&&n?(p=WN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=WN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=u9({translateX:p,translateY:g,useTranslate3d:d})):h=l9,{cssProperties:h,cssClasses:c9({translateX:p,translateY:g,coordinate:n})}}function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(r){p0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p0(e,t,n){return(t=f9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class m9 extends x.PureComponent{constructor(){super(...arguments),p0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),p0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:w,lastBoundingBox:S,innerRef:j,hasPortalFromProps:N}=this.props,{cssClasses:A,cssProperties:O}=d9({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:b}),C=N?{}:cf(cf({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),T=cf(cf({},C),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:T,ref:j},o)}}var p9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ys={devToolsEnabled:!1,isSsr:p9()},Ek=()=>Ee(e=>e.rootProps.accessibilityLayer);function or(e){return Number.isFinite(e)}function ul(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(n),!0).forEach(function(r){g9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g9(e,t,n){return(t=y9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y9(e){var t=v9(e,"string");return typeof t=="symbol"?t:t+""}function v9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZN={curveBasisClosed:L8,curveBasisOpen:U8,curveBasis:I8,curveBumpX:w8,curveBumpY:S8,curveLinearClosed:$8,curveLinear:Ih,curveMonotoneX:z8,curveMonotoneY:B8,curveNatural:q8,curveStep:H8,curveStepAfter:K8,curveStepBefore:F8},uf=e=>or(e.x)&&or(e.y),Cc=e=>e.x,Tc=e=>e.y,b9=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(vu(e));return(n==="curveMonotone"||n==="curveBump")&&t?ZN["".concat(n).concat(t==="vertical"?"Y":"X")]:ZN[n]||Ih},x9=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=b9(t,i),d=o?n.filter(uf):n,f;if(Array.isArray(r)){var h=o?r.filter(g=>uf(g)):r,p=d.map((g,y)=>JN(JN({},g),{},{base:h[y]}));return i==="vertical"?f=tf().y(Tc).x1(Cc).x0(g=>g.base.x):f=tf().x(Cc).y1(Tc).y0(g=>g.base.y),f.defined(uf).curve(l),f(p)}return i==="vertical"&&Ce(r)?f=tf().y(Tc).x1(Cc).x0(r):Ce(r)?f=tf().x(Cc).y1(Tc).y0(r):f=bT().x(Cc).y(Tc),f.defined(uf).curve(l),f(d)},Ok=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?x9(e):r;return x.createElement("path",g0({},Fi(e),l8(e),{className:ot("recharts-curve",t),d:o===null?void 0:o,ref:i}))},_9=["x","y","top","left","width","height","className"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(null,arguments)}function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(r){S9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S9(e,t,n){return(t=j9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j9(e){var t=N9(e,"string");return typeof t=="symbol"?t:t+""}function N9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e,t){if(e==null)return{};var n,r,i=O9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A9=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),C9=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:d}=e,f=E9(e,_9),h=w9({x:t,y:n,top:r,left:i,width:o,height:l},f);return!Ce(t)||!Ce(n)||!Ce(o)||!Ce(l)||!Ce(r)||!Ce(i)?null:x.createElement("path",y0({},en(h,!0),{className:ot("recharts-cross",d),d:A9(t,n,o,l,r,i)}))};function T9(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(r){P9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P9(e,t,n){return(t=M9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kn(e,t){var n=k9({},e),r=t,i=Object.keys(t),o=i.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return o}function D9(){}function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(r){I9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I9(e,t,n){return(t=L9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ak=(e,t,n)=>e.map(r=>"".concat($9(r)," ").concat(t,"ms ").concat(n)).join(","),z9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),au=(e,t)=>Object.keys(t).reduce((n,r)=>rE(rE({},n),{},{[r]:e(r,t[r])}),{});function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){B9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B9(e,t,n){return(t=q9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q9(e){var t=H9(e,"string");return typeof t=="symbol"?t:t+""}function H9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh=(e,t,n)=>e+(t-e)*n,v0=e=>{var{from:t,to:n}=e;return t!==n},Ck=(e,t,n)=>{var r=au((i,o)=>{if(v0(o)){var[l,d]=e(o.from,o.to,o.velocity);return xn(xn({},o),{},{from:l,velocity:d})}return o},t);return n<1?au((i,o)=>v0(o)?xn(xn({},o),{},{velocity:rh(o.velocity,r[i].velocity,n),from:rh(o.from,r[i].from,n)}):o,t):Ck(e,r,n-1)};function F9(e,t,n,r,i,o){var l,d=r.reduce((y,b)=>xn(xn({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>au((y,b)=>b.from,d),h=()=>!Object.values(d).filter(v0).length,p=null,g=y=>{l||(l=y);var b=y-l,w=b/n.dt;d=Ck(n,d,w),i(xn(xn(xn({},e),t),f())),l=y,h()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{p()})}function K9(e,t,n,r,i,o,l){var d=null,f=i.reduce((g,y)=>xn(xn({},g),{},{[y]:[e[y],t[y]]}),{}),h,p=g=>{h||(h=g);var y=(g-h)/r,b=au((S,j)=>rh(...j,n(y)),f);if(o(xn(xn(xn({},e),t),b)),y<1)d=l.setTimeout(p);else{var w=au((S,j)=>rh(...j,n(1)),f);o(xn(xn(xn({},e),t),w))}};return()=>(d=l.setTimeout(p),()=>{d()})}const G9=(e,t,n,r,i,o)=>{var l=z9(e,t);return n.isStepper===!0?F9(e,t,n,l,i,o):K9(e,t,n,r,l,i,o)};var ah=1e-4,Tk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),iE=(e,t)=>n=>{var r=Tk(e,t);return kk(r,n)},Y9=(e,t)=>n=>{var r=Tk(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return kk(i,n)},sE=function(){for(var t,n,r,i,o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([t,r,n,i]=l);var h=iE(t,n),p=iE(r,i),g=Y9(t,n),y=w=>w>1?1:w<0?0:w,b=w=>{for(var S=w>1?1:w,j=S,N=0;N<8;++N){var A=h(j)-S,O=g(j);if(Math.abs(A-S)<ah||O<ah)return p(j);j=y(j-A/O)}return p(j)};return b.isStepper=!1,b},V9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,d,f)=>{var h=-(l-d)*n,p=f*r,g=f+(h-p)*i/1e3,y=f*i/1e3+l;return Math.abs(y-d)<ah&&Math.abs(g)<ah?[d,0]:[y,g]};return o.isStepper=!0,o.dt=i,o},W9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sE(e);case"spring":return V9();default:if(e.split("(")[0]==="cubic-bezier")return sE(e)}return typeof e=="function"?e:null};function X9(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){i=e.setTimeout(o.bind(null,h),f);return}o(f),i=e.setTimeout(o.bind(null,h));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class Q9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function J9(){return X9(new Q9)}var Z9=x.createContext(J9);function eH(e,t){var n=x.useContext(Z9);return x.useMemo(()=>t??n(e),[e,t,n])}var tH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},oE={t:0},Yy={t:1};function Wh(e){var t=kn(e,tH),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=eH(t.animationId,t.animationManager),[g,y]=x.useState(n?oE:Yy),b=x.useRef(null);return x.useEffect(()=>{n||y(Yy)},[n]),x.useEffect(()=>{if(!n||!r)return D9;var w=G9(oE,Yy,W9(o),i,y,p.getTimeoutController()),S=()=>{b.current=w()};return p.start([f,l,S,i,d]),()=>{p.stop(),b.current&&b.current(),d()}},[n,r,i,o,l,f,d,p]),h(g.t)}function Xh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(eu(t)),r=x.useRef(e);return r.current!==e&&(n.current=eu(t),r.current=e),n.current}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){nH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nH(e,t,n){return(t=rH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=aH(e,"string");return typeof t=="symbol"?t:t+""}function aH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(null,arguments)}var uE=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,y=4;g<y;g++)p[g]=i[g]>o?o:i[g];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+d*p[0],",").concat(t)),h+="L ".concat(e+n-d*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*p[1])),h+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-d*p[2],",").concat(t+r)),h+="L ".concat(e+d*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*p[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);h="M ".concat(e,",").concat(t+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+n-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*b,`
            L `).concat(e+n,",").concat(t+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(t+r,`
            L `).concat(e+d*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*b," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},iH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pk=e=>{var t=kn(e,iH),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&i(B)}catch{}},[]);var{x:o,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:S}=t,j=x.useRef(d),N=x.useRef(f),A=x.useRef(o),O=x.useRef(l),C=x.useMemo(()=>({x:o,y:l,width:d,height:f,radius:h}),[o,l,d,f,h]),T=Xh(C,"rectangle-");if(o!==+o||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var P=ot("recharts-rectangle",p);if(!S)return x.createElement("path",ih({},en(t,!0),{className:P,d:uE(o,l,d,f,h)}));var k=j.current,D=N.current,q=A.current,$=O.current,F="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),re=Ak(["strokeDasharray"],y,typeof g=="string"?g:void 0);return x.createElement(Wh,{animationId:T,key:T,canBegin:r>0,duration:y,easing:g,isActive:S,begin:b},B=>{var K=_n(k,d,B),I=_n(D,f,B),Y=_n(q,o,B),X=_n($,l,B);n.current&&(j.current=K,N.current=I,A.current=Y,O.current=X);var de;return w?B>0?de={transition:re,strokeDasharray:H}:de={strokeDasharray:F}:de={strokeDasharray:H},x.createElement("path",ih({},en(t,!0),{className:P,d:uE(Y,X,K,I,h),ref:n,style:cE(cE({},de),t.style)}))})};function Mk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Yt(t,n,r,i),d=Yt(t,n,r,o);return{points:[l,d],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(null,arguments)}var sH=(e,t)=>{var n=un(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},df=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+r,p=Math.asin(d/h)/nh,g=f?i:i+o*p,y=Yt(t,n,h,g),b=Yt(t,n,r,g),w=f?i-o*p:i,S=Yt(t,n,h*Math.cos(p*nh),w);return{center:y,circleTangency:b,lineTangency:S,theta:p}},Rk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,d=sH(o,l),f=o+d,h=Yt(t,n,i,o),p=Yt(t,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var y=Yt(t,n,r,o),b=Yt(t,n,r,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},oH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=un(h-f),{circleTangency:g,lineTangency:y,theta:b}=df({cx:t,cy:n,radius:i,angle:f,sign:p,cornerRadius:o,cornerIsExternal:d}),{circleTangency:w,lineTangency:S,theta:j}=df({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-b-j;if(N<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Rk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:C,theta:T}=df({cx:t,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:P,lineTangency:k,theta:D}=df({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),q=d?Math.abs(f-h):Math.abs(f-h)-T-D;if(q<0&&o===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},lH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Dk=e=>{var t=kn(e,lH),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(o<i||h===p)return null;var y=ot("recharts-sector",g),b=o-i,w=En(l,b,0,!0),S;return w>0&&Math.abs(h-p)<360?S=oH({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):S=Rk({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:p}),x.createElement("path",b0({},en(t,!0),{className:y,d:S}))};function cH(e,t,n){var r,i,o,l;if(e==="horizontal")r=t.x,o=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:h,outerRadius:p,angle:g}=t,y=Yt(d,f,h,g),b=Yt(d,f,p,g);r=y.x,i=y.y,o=b.x,l=b.y}else return Mk(t);return[{x:r,y:i},{x:o,y:l}]}var Vy={},Wy={},Xy={},dE;function uH(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Xy)),Xy}var fE;function dH(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uH();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Wy)),Wy}var hE;function fH(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),n=dH();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=l;return f}e.range=r})(Vy)),Vy}var Qy,mE;function hH(){return mE||(mE=1,Qy=fH().range),Qy}var mH=hH();const Ik=Vr(mH);function Ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hb(e){let t,n,r;e.length!==2?(t=Ui,n=(d,f)=>Ui(e(d),f),r=(d,f)=>e(d)-f):(t=e===Ui||e===pH?e:gH,n=e,r=e);function i(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function o(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:i,center:l,right:o}}function gH(){return 0}function Lk(e){return e===null?NaN:+e}function*yH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const vH=Hb(Ui),Su=vH.right;Hb(Lk).center;class pE extends Map{constructor(t,n=_H){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(gE(this,t))}has(t){return super.has(gE(this,t))}set(t,n){return super.set(bH(this,t),n)}delete(t){return super.delete(xH(this,t))}}function gE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function bH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function xH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function _H(e){return e!==null&&typeof e=="object"?e.valueOf():e}function wH(e=Ui){if(e===Ui)return Uk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Uk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const SH=Math.sqrt(50),jH=Math.sqrt(10),NH=Math.sqrt(2);function sh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=SH?10:o>=jH?5:o>=NH?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=n&&n<2?sh(e,t,n*2):[d,f,h]}function x0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?sh(t,e,n):sh(e,t,n);if(!(o>=i))return[];const d=o-i+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(o-h)/-l;else for(let h=0;h<d;++h)f[h]=(o-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(i+h)/-l;else for(let h=0;h<d;++h)f[h]=(i+h)*l;return f}function _0(e,t,n){return t=+t,e=+e,n=+n,sh(e,t,n)[2]}function w0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?_0(t,e,n):_0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function yE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $k(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Uk:wH(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(t-h*g/f+y)),w=Math.min(r,Math.floor(t+(f-h)*g/f+y));$k(e,t,b,w,i)}const o=e[t];let l=n,d=r;for(kc(e,n,t),i(e[r],o)>0&&kc(e,n,r);l<d;){for(kc(e,l,d),++l,--d;i(e[l],o)<0;)++l;for(;i(e[d],o)>0;)--d}i(e[n],o)===0?kc(e,n,d):(++d,kc(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function kc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EH(e,t,n){if(e=Float64Array.from(yH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return vE(e);if(t>=1)return yE(e);var r,i=(r-1)*t,o=Math.floor(i),l=yE($k(e,o).subarray(0,o+1)),d=vE(e.subarray(o+1));return l+(d-l)*(i-o)}}function OH(e,t,n=Lk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),d=+n(e[o+1],o+1,e);return l+(d-l)*(i-o)}}function AH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function kr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Za(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const S0=Symbol("implicit");function Fb(){var e=new pE,t=[],n=[],r=S0;function i(o){let l=e.get(o);if(l===void 0){if(r!==S0)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new pE;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Fb(t,n).unknown(r)},kr.apply(i,arguments),i}function Kb(){var e=Fb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var y=t().length,b=i<r,w=b?i:r,S=b?r:i;o=(S-w)/Math.max(1,y-f+h*2),d&&(o=Math.floor(o)),w+=(S-w-o*(y-f))*p,l=o*(1-f),d&&(w=Math.round(w),l=Math.round(l));var j=AH(y).map(function(N){return w+o*N});return n(b?j.reverse():j)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(y){return arguments.length?(d=!!y,g()):d},e.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return Kb(t(),[r,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},kr.apply(g(),arguments)}function zk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zk(t())},e}function CH(){return zk(Kb.apply(null,arguments).paddingInner(1))}function Gb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ju(){}var iu=.7,oh=1/iu,il="\\s*([+-]?\\d+)\\s*",su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",la="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TH=/^#([0-9a-f]{3,8})$/,kH=new RegExp(`^rgb\\(${il},${il},${il}\\)$`),PH=new RegExp(`^rgb\\(${la},${la},${la}\\)$`),MH=new RegExp(`^rgba\\(${il},${il},${il},${su}\\)$`),RH=new RegExp(`^rgba\\(${la},${la},${la},${su}\\)$`),DH=new RegExp(`^hsl\\(${su},${la},${la}\\)$`),IH=new RegExp(`^hsla\\(${su},${la},${la},${su}\\)$`),bE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gb(ju,ou,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xE,formatHex:xE,formatHex8:LH,formatHsl:UH,formatRgb:_E,toString:_E});function xE(){return this.rgb().formatHex()}function LH(){return this.rgb().formatHex8()}function UH(){return qk(this).formatHsl()}function _E(){return this.rgb().formatRgb()}function ou(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=TH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wE(t):n===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ff(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ff(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kH.exec(e))?new qn(t[1],t[2],t[3],1):(t=PH.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MH.exec(e))?ff(t[1],t[2],t[3],t[4]):(t=RH.exec(e))?ff(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DH.exec(e))?NE(t[1],t[2]/100,t[3]/100,1):(t=IH.exec(e))?NE(t[1],t[2]/100,t[3]/100,t[4]):bE.hasOwnProperty(e)?wE(bE[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function wE(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function ff(e,t,n,r){return r<=0&&(e=t=n=NaN),new qn(e,t,n,r)}function $H(e){return e instanceof ju||(e=ou(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function j0(e,t,n,r){return arguments.length===1?$H(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Gb(qn,j0,Bk(ju,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?iu:Math.pow(iu,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(Is(this.r),Is(this.g),Is(this.b),lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SE,formatHex:SE,formatHex8:zH,formatRgb:jE,toString:jE}));function SE(){return`#${Ts(this.r)}${Ts(this.g)}${Ts(this.b)}`}function zH(){return`#${Ts(this.r)}${Ts(this.g)}${Ts(this.b)}${Ts((isNaN(this.opacity)?1:this.opacity)*255)}`}function jE(){const e=lh(this.opacity);return`${e===1?"rgb(":"rgba("}${Is(this.r)}, ${Is(this.g)}, ${Is(this.b)}${e===1?")":`, ${e})`}`}function lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Is(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ts(e){return e=Is(e),(e<16?"0":"")+e.toString(16)}function NE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,n,r)}function qk(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof ju||(e=ou(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,d=o-i,f=(o+i)/2;return d?(t===o?l=(n-r)/d+(n<r)*6:n===o?l=(r-t)/d+2:l=(t-n)/d+4,d/=f<.5?o+i:2-o-i,l*=60):d=f>0&&f<1?0:l,new Kr(l,d,f,e.opacity)}function BH(e,t,n,r){return arguments.length===1?qk(e):new Kr(e,t,n,r??1)}function Kr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Gb(Kr,BH,Bk(ju,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?iu:Math.pow(iu,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new qn(Jy(e>=240?e-240:e+120,i,r),Jy(e,i,r),Jy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Kr(EE(this.h),hf(this.s),hf(this.l),lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lh(this.opacity);return`${e===1?"hsl(":"hsla("}${EE(this.h)}, ${hf(this.s)*100}%, ${hf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EE(e){return e=(e||0)%360,e<0?e+360:e}function hf(e){return Math.max(0,Math.min(1,e||0))}function Jy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yb=e=>()=>e;function qH(e,t){return function(n){return e+n*t}}function HH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function FH(e){return(e=+e)==1?Hk:function(t,n){return n-t?HH(t,n,e):Yb(isNaN(t)?n:t)}}function Hk(e,t){var n=t-e;return n?qH(e,n):Yb(isNaN(e)?t:e)}const OE=(function e(t){var n=FH(t);function r(i,o){var l=n((i=j0(i)).r,(o=j0(o)).r),d=n(i.g,o.g),f=n(i.b,o.b),h=Hk(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=e,r})(1);function KH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function GH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=jl(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(d){for(l=0;l<r;++l)o[l]=i[l](d);return o}}function VH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ch(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function WH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=jl(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var N0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zy=new RegExp(N0.source,"g");function XH(e){return function(){return e}}function QH(e){return function(t){return e(t)+""}}function JH(e,t){var n=N0.lastIndex=Zy.lastIndex=0,r,i,o,l=-1,d=[],f=[];for(e=e+"",t=t+"";(r=N0.exec(e))&&(i=Zy.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),d[l]?d[l]+=o:d[++l]=o),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:ch(r,i)})),n=Zy.lastIndex;return n<t.length&&(o=t.slice(n),d[l]?d[l]+=o:d[++l]=o),d.length<2?f[0]?QH(f[0].x):XH(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function jl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Yb(t):(n==="number"?ch:n==="string"?(r=ou(t))?(t=r,OE):JH:t instanceof ou?OE:t instanceof Date?VH:GH(t)?KH:Array.isArray(t)?YH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WH:ch)(e,t)}function Vb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ZH(e,t){t===void 0&&(t=e,e=jl);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[d](l-d)}}function eF(e){return function(){return e}}function uh(e){return+e}var AE=[0,1];function Tn(e){return e}function E0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:eF(isNaN(t)?NaN:.5)}function tF(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function nF(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=E0(i,r),o=n(l,o)):(r=E0(r,i),o=n(o,l)),function(d){return o(r(d))}}function rF(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=E0(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(d){var f=Su(e,d,1,r)-1;return o[f](i[f](d))}}function Nu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qh(){var e=AE,t=AE,n=jl,r,i,o,l=Tn,d,f,h;function p(){var y=Math.min(e.length,t.length);return l!==Tn&&(l=tF(e[0],e[y-1])),d=y>2?rF:nF,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?o:(f||(f=d(e.map(r),t,n)))(r(l(y)))}return g.invert=function(y){return l(i((h||(h=d(t,e.map(r),ch)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,uh),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),n=Vb,p()},g.clamp=function(y){return arguments.length?(l=y?!0:Tn,p()):l!==Tn},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(o=y,g):o},function(y,b){return r=y,i=b,p()}}function Wb(){return Qh()(Tn,Tn)}function aF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dl(e){return e=dh(Math.abs(e)),e?e[1]:NaN}function iF(e,t){return function(n,r){for(var i=n.length,o=[],l=0,d=e[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),o.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=e[l=(l+1)%e.length];return o.reverse().join(t)}}function sF(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lu(e){if(!(t=oF.exec(e)))throw new Error("invalid format: "+e);var t;return new Xb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lu.prototype=Xb.prototype;function Xb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lF(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Fk;function cF(e,t){var n=dh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Fk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dh(e,Math.max(0,t+o-1))[0]}function CE(e,t){var n=dh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>CE(e*100,t),r:CE,s:cF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kE(e){return e}var PE=Array.prototype.map,ME=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uF(e){var t=e.grouping===void 0||e.thousands===void 0?kE:iF(PE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?kE:sF(PE.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g){g=lu(g);var y=g.fill,b=g.align,w=g.sign,S=g.symbol,j=g.zero,N=g.width,A=g.comma,O=g.precision,C=g.trim,T=g.type;T==="n"?(A=!0,T="g"):TE[T]||(O===void 0&&(O=12),C=!0,T="g"),(j||y==="0"&&b==="=")&&(j=!0,y="0",b="=");var P=S==="$"?n:S==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",k=S==="$"?r:/[%p]/.test(T)?l:"",D=TE[T],q=/[defgprs%]/.test(T);O=O===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function $(F){var H=P,re=k,B,K,I;if(T==="c")re=D(F)+re,F="";else{F=+F;var Y=F<0||1/F<0;if(F=isNaN(F)?f:D(Math.abs(F),O),C&&(F=lF(F)),Y&&+F==0&&w!=="+"&&(Y=!1),H=(Y?w==="("?w:d:w==="-"||w==="("?"":w)+H,re=(T==="s"?ME[8+Fk/3]:"")+re+(Y&&w==="("?")":""),q){for(B=-1,K=F.length;++B<K;)if(I=F.charCodeAt(B),48>I||I>57){re=(I===46?i+F.slice(B+1):F.slice(B))+re,F=F.slice(0,B);break}}}A&&!j&&(F=t(F,1/0));var X=H.length+F.length+re.length,de=X<N?new Array(N-X+1).join(y):"";switch(A&&j&&(F=t(de+F,de.length?N-re.length:1/0),de=""),b){case"<":F=H+F+re+de;break;case"=":F=H+de+F+re;break;case"^":F=de.slice(0,X=de.length>>1)+H+F+re+de.slice(X);break;default:F=de+H+F+re;break}return o(F)}return $.toString=function(){return g+""},$}function p(g,y){var b=h((g=lu(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(dl(y)/3)))*3,S=Math.pow(10,-w),j=ME[8+w/3];return function(N){return b(S*N)+j}}return{format:h,formatPrefix:p}}var mf,Qb,Kk;dF({thousands:",",grouping:[3],currency:["$",""]});function dF(e){return mf=uF(e),Qb=mf.format,Kk=mf.formatPrefix,mf}function fF(e){return Math.max(0,-dl(Math.abs(e)))}function hF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dl(t)/3)))*3-dl(Math.abs(e)))}function mF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dl(t)-dl(e))+1}function Gk(e,t,n,r){var i=w0(e,t,n),o;switch(r=lu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=hF(i,l))&&(r.precision=o),Kk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=mF(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=fF(i))&&(r.precision=o-(r.type==="%")*2);break}}return Qb(r)}function Ki(e){var t=e.domain;return e.ticks=function(n){var r=t();return x0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Gk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],d=r[o],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=o,o=h);p-- >0;){if(h=_0(l,d,n),h===f)return r[i]=l,r[o]=d,t(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function Yk(){var e=Wb();return e.copy=function(){return Nu(e,Yk())},kr.apply(e,arguments),Ki(e)}function Vk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,uh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Vk(e).unknown(t)},e=arguments.length?Array.from(e,uh):[0,1],Ki(n)}function Wk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function RE(e){return Math.log(e)}function DE(e){return Math.exp(e)}function pF(e){return-Math.log(-e)}function gF(e){return-Math.exp(-e)}function yF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vF(e){return e===10?yF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IE(e){return(t,n)=>-e(-t,n)}function Jb(e){const t=e(RE,DE),n=t.domain;let r=10,i,o;function l(){return i=bF(r),o=vF(r),n()[0]<0?(i=IE(i),o=IE(o),e(pF,gF)):e(RE,DE),t}return t.base=function(d){return arguments.length?(r=+d,l()):r},t.domain=function(d){return arguments.length?(n(d),l()):n()},t.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let y=i(h),b=i(p),w,S;const j=d==null?10:+d;let N=[];if(!(r%1)&&b-y<j){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(w=1;w<r;++w)if(S=y<0?w/o(-y):w*o(y),!(S<h)){if(S>p)break;N.push(S)}}else for(;y<=b;++y)for(w=r-1;w>=1;--w)if(S=y>0?w/o(-y):w*o(y),!(S<h)){if(S>p)break;N.push(S)}N.length*2<j&&(N=x0(h,p,j))}else N=x0(y,b,Math.min(b-y,j)).map(o);return g?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=lu(f)).precision==null&&(f.trim=!0),f=Qb(f)),d===1/0)return f;const h=Math.max(1,r*d/t.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},t.nice=()=>n(Wk(n(),{floor:d=>o(Math.floor(i(d))),ceil:d=>o(Math.ceil(i(d)))})),t}function Xk(){const e=Jb(Qh()).domain([1,10]);return e.copy=()=>Nu(e,Xk()).base(e.base()),kr.apply(e,arguments),e}function LE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zb(e){var t=1,n=e(LE(t),UE(t));return n.constant=function(r){return arguments.length?e(LE(t=+r),UE(t)):t},Ki(n)}function Qk(){var e=Zb(Qh());return e.copy=function(){return Nu(e,Qk()).constant(e.constant())},kr.apply(e,arguments)}function $E(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _F(e){return e<0?-e*e:e*e}function ex(e){var t=e(Tn,Tn),n=1;function r(){return n===1?e(Tn,Tn):n===.5?e(xF,_F):e($E(n),$E(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ki(t)}function tx(){var e=ex(Qh());return e.copy=function(){return Nu(e,tx()).exponent(e.exponent())},kr.apply(e,arguments),e}function wF(){return tx.apply(null,arguments).exponent(.5)}function zE(e){return Math.sign(e)*e*e}function SF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Jk(){var e=Wb(),t=[0,1],n=!1,r;function i(o){var l=SF(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(zE(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,uh)).map(zE)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Jk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},kr.apply(i,arguments),Ki(i)}function Zk(){var e=[],t=[],n=[],r;function i(){var l=0,d=Math.max(1,t.length);for(n=new Array(d-1);++l<d;)n[l-1]=OH(e,l/d);return o}function o(l){return l==null||isNaN(l=+l)?r:t[Su(n,l)]}return o.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ui),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Zk().domain(e).range(t).unknown(r)},kr.apply(o,arguments)}function eP(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[Su(r,f,0,n)]:o}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return eP().domain([e,t]).range(i).unknown(o)},kr.apply(Ki(l),arguments)}function tP(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Su(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return tP().domain(e).range(t).unknown(n)},kr.apply(i,arguments)}const ev=new Date,tv=new Date;function nn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),d=i.ceil(o);return o-l<d-o?l:d},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,d)=>{const f=[];if(o=i.ceil(o),d=d==null?1:Math.floor(d),!(o<l)||!(d>0))return f;let h;do f.push(h=new Date(+o)),t(o,d),e(o);while(h<o&&o<l);return f},i.filter=o=>nn(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!o(l););else for(;--d>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(ev.setTime(+o),tv.setTime(+l),e(ev),e(tv),Math.floor(n(ev,tv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const fh=nn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?nn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fh);fh.range;const Ua=1e3,Er=Ua*60,$a=Er*60,Ya=$a*24,nx=Ya*7,BE=Ya*30,nv=Ya*365,ks=nn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCSeconds());ks.range;const rx=nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getMinutes());rx.range;const ax=nn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCMinutes());ax.range;const ix=nn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua-e.getMinutes()*Er)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getHours());ix.range;const sx=nn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCHours());sx.range;const Eu=nn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Er)/Ya,e=>e.getDate()-1);Eu.range;const Jh=nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>e.getUTCDate()-1);Jh.range;const nP=nn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>Math.floor(e/Ya));nP.range;function Vs(e){return nn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Er)/nx)}const Zh=Vs(0),hh=Vs(1),jF=Vs(2),NF=Vs(3),fl=Vs(4),EF=Vs(5),OF=Vs(6);Zh.range;hh.range;jF.range;NF.range;fl.range;EF.range;OF.range;function Ws(e){return nn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/nx)}const em=Ws(0),mh=Ws(1),AF=Ws(2),CF=Ws(3),hl=Ws(4),TF=Ws(5),kF=Ws(6);em.range;mh.range;AF.range;CF.range;hl.range;TF.range;kF.range;const ox=nn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ox.range;const lx=nn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lx.range;const Va=nn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Va.range;const Wa=nn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wa.range;function rP(e,t,n,r,i,o){const l=[[ks,1,Ua],[ks,5,5*Ua],[ks,15,15*Ua],[ks,30,30*Ua],[o,1,Er],[o,5,5*Er],[o,15,15*Er],[o,30,30*Er],[i,1,$a],[i,3,3*$a],[i,6,6*$a],[i,12,12*$a],[r,1,Ya],[r,2,2*Ya],[n,1,nx],[t,1,BE],[t,3,3*BE],[e,1,nv]];function d(h,p,g){const y=p<h;y&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:f(h,p,g),w=b?b.range(h,+p+1):[];return y?w.reverse():w}function f(h,p,g){const y=Math.abs(p-h)/g,b=Hb(([,,j])=>j).right(l,y);if(b===l.length)return e.every(w0(h/nv,p/nv,g));if(b===0)return fh.every(Math.max(w0(h,p,g),1));const[w,S]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return w.every(S)}return[d,f]}const[PF,MF]=rP(Wa,lx,em,nP,sx,ax),[RF,DF]=rP(Va,ox,Zh,Eu,ix,rx);function rv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function av(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function IF(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Mc(i),p=Rc(i),g=Mc(o),y=Rc(o),b=Mc(l),w=Rc(l),S=Mc(d),j=Rc(d),N=Mc(f),A=Rc(f),O={a:Y,A:X,b:de,B:ne,c:null,d:YE,e:YE,f:iK,g:pK,G:yK,H:nK,I:rK,j:aK,L:aP,m:sK,M:oK,p:R,q:L,Q:XE,s:QE,S:lK,u:cK,U:uK,V:dK,w:fK,W:hK,x:null,X:null,y:mK,Y:gK,Z:vK,"%":WE},C={a:W,A:se,b:oe,B:xe,c:null,d:VE,e:VE,f:wK,g:PK,G:RK,H:bK,I:xK,j:_K,L:sP,m:SK,M:jK,p:Se,q:me,Q:XE,s:QE,S:NK,u:EK,U:OK,V:AK,w:CK,W:TK,x:null,X:null,y:kK,Y:MK,Z:DK,"%":WE},T={a:$,A:F,b:H,B:re,c:B,d:KE,e:KE,f:JF,g:FE,G:HE,H:GE,I:GE,j:VF,L:QF,m:YF,M:WF,p:q,q:GF,Q:eK,s:tK,S:XF,u:BF,U:qF,V:HF,w:zF,W:FF,x:K,X:I,y:FE,Y:HE,Z:KF,"%":ZF};O.x=P(n,O),O.X=P(r,O),O.c=P(t,O),C.x=P(n,C),C.X=P(r,C),C.c=P(t,C);function P(V,ge){return function(ye){var ce=[],Qe=-1,Ae=0,wt=V.length,At,Wt,cr;for(ye instanceof Date||(ye=new Date(+ye));++Qe<wt;)V.charCodeAt(Qe)===37&&(ce.push(V.slice(Ae,Qe)),(Wt=qE[At=V.charAt(++Qe)])!=null?At=V.charAt(++Qe):Wt=At==="e"?" ":"0",(cr=ge[At])&&(At=cr(ye,Wt)),ce.push(At),Ae=Qe+1);return ce.push(V.slice(Ae,Qe)),ce.join("")}}function k(V,ge){return function(ye){var ce=Pc(1900,void 0,1),Qe=D(ce,V,ye+="",0),Ae,wt;if(Qe!=ye.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(ge&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ae=av(Pc(ce.y,0,1)),wt=Ae.getUTCDay(),Ae=wt>4||wt===0?mh.ceil(Ae):mh(Ae),Ae=Jh.offset(Ae,(ce.V-1)*7),ce.y=Ae.getUTCFullYear(),ce.m=Ae.getUTCMonth(),ce.d=Ae.getUTCDate()+(ce.w+6)%7):(Ae=rv(Pc(ce.y,0,1)),wt=Ae.getDay(),Ae=wt>4||wt===0?hh.ceil(Ae):hh(Ae),Ae=Eu.offset(Ae,(ce.V-1)*7),ce.y=Ae.getFullYear(),ce.m=Ae.getMonth(),ce.d=Ae.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),wt="Z"in ce?av(Pc(ce.y,0,1)).getUTCDay():rv(Pc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(wt+5)%7:ce.w+ce.U*7-(wt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,av(ce)):rv(ce)}}function D(V,ge,ye,ce){for(var Qe=0,Ae=ge.length,wt=ye.length,At,Wt;Qe<Ae;){if(ce>=wt)return-1;if(At=ge.charCodeAt(Qe++),At===37){if(At=ge.charAt(Qe++),Wt=T[At in qE?ge.charAt(Qe++):At],!Wt||(ce=Wt(V,ye,ce))<0)return-1}else if(At!=ye.charCodeAt(ce++))return-1}return ce}function q(V,ge,ye){var ce=h.exec(ge.slice(ye));return ce?(V.p=p.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function $(V,ge,ye){var ce=b.exec(ge.slice(ye));return ce?(V.w=w.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function F(V,ge,ye){var ce=g.exec(ge.slice(ye));return ce?(V.w=y.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function H(V,ge,ye){var ce=N.exec(ge.slice(ye));return ce?(V.m=A.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function re(V,ge,ye){var ce=S.exec(ge.slice(ye));return ce?(V.m=j.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function B(V,ge,ye){return D(V,t,ge,ye)}function K(V,ge,ye){return D(V,n,ge,ye)}function I(V,ge,ye){return D(V,r,ge,ye)}function Y(V){return l[V.getDay()]}function X(V){return o[V.getDay()]}function de(V){return f[V.getMonth()]}function ne(V){return d[V.getMonth()]}function R(V){return i[+(V.getHours()>=12)]}function L(V){return 1+~~(V.getMonth()/3)}function W(V){return l[V.getUTCDay()]}function se(V){return o[V.getUTCDay()]}function oe(V){return f[V.getUTCMonth()]}function xe(V){return d[V.getUTCMonth()]}function Se(V){return i[+(V.getUTCHours()>=12)]}function me(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var ge=P(V+="",O);return ge.toString=function(){return V},ge},parse:function(V){var ge=k(V+="",!1);return ge.toString=function(){return V},ge},utcFormat:function(V){var ge=P(V+="",C);return ge.toString=function(){return V},ge},utcParse:function(V){var ge=k(V+="",!0);return ge.toString=function(){return V},ge}}}var qE={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,LF=/^%/,UF=/[\\^$*+?|[\]().{}]/g;function tt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function $F(e){return e.replace(UF,"\\$&")}function Mc(e){return new RegExp("^(?:"+e.map($F).join("|")+")","i")}function Rc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function zF(e,t,n){var r=fn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function BF(e,t,n){var r=fn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qF(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function HF(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function FF(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function HE(e,t,n){var r=fn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function FE(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GF(e,t,n){var r=fn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function YF(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function KE(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function VF(e,t,n){var r=fn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function GE(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function WF(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function XF(e,t,n){var r=fn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function QF(e,t,n){var r=fn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function JF(e,t,n){var r=fn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZF(e,t,n){var r=LF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function eK(e,t,n){var r=fn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function tK(e,t,n){var r=fn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function YE(e,t){return tt(e.getDate(),t,2)}function nK(e,t){return tt(e.getHours(),t,2)}function rK(e,t){return tt(e.getHours()%12||12,t,2)}function aK(e,t){return tt(1+Eu.count(Va(e),e),t,3)}function aP(e,t){return tt(e.getMilliseconds(),t,3)}function iK(e,t){return aP(e,t)+"000"}function sK(e,t){return tt(e.getMonth()+1,t,2)}function oK(e,t){return tt(e.getMinutes(),t,2)}function lK(e,t){return tt(e.getSeconds(),t,2)}function cK(e){var t=e.getDay();return t===0?7:t}function uK(e,t){return tt(Zh.count(Va(e)-1,e),t,2)}function iP(e){var t=e.getDay();return t>=4||t===0?fl(e):fl.ceil(e)}function dK(e,t){return e=iP(e),tt(fl.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function fK(e){return e.getDay()}function hK(e,t){return tt(hh.count(Va(e)-1,e),t,2)}function mK(e,t){return tt(e.getFullYear()%100,t,2)}function pK(e,t){return e=iP(e),tt(e.getFullYear()%100,t,2)}function gK(e,t){return tt(e.getFullYear()%1e4,t,4)}function yK(e,t){var n=e.getDay();return e=n>=4||n===0?fl(e):fl.ceil(e),tt(e.getFullYear()%1e4,t,4)}function vK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function VE(e,t){return tt(e.getUTCDate(),t,2)}function bK(e,t){return tt(e.getUTCHours(),t,2)}function xK(e,t){return tt(e.getUTCHours()%12||12,t,2)}function _K(e,t){return tt(1+Jh.count(Wa(e),e),t,3)}function sP(e,t){return tt(e.getUTCMilliseconds(),t,3)}function wK(e,t){return sP(e,t)+"000"}function SK(e,t){return tt(e.getUTCMonth()+1,t,2)}function jK(e,t){return tt(e.getUTCMinutes(),t,2)}function NK(e,t){return tt(e.getUTCSeconds(),t,2)}function EK(e){var t=e.getUTCDay();return t===0?7:t}function OK(e,t){return tt(em.count(Wa(e)-1,e),t,2)}function oP(e){var t=e.getUTCDay();return t>=4||t===0?hl(e):hl.ceil(e)}function AK(e,t){return e=oP(e),tt(hl.count(Wa(e),e)+(Wa(e).getUTCDay()===4),t,2)}function CK(e){return e.getUTCDay()}function TK(e,t){return tt(mh.count(Wa(e)-1,e),t,2)}function kK(e,t){return tt(e.getUTCFullYear()%100,t,2)}function PK(e,t){return e=oP(e),tt(e.getUTCFullYear()%100,t,2)}function MK(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function RK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hl(e):hl.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function DK(){return"+0000"}function WE(){return"%"}function XE(e){return+e}function QE(e){return Math.floor(+e/1e3)}var Wo,lP,cP;IK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IK(e){return Wo=IF(e),lP=Wo.format,Wo.parse,cP=Wo.utcFormat,Wo.utcParse,Wo}function LK(e){return new Date(e)}function UK(e){return e instanceof Date?+e:+new Date(+e)}function cx(e,t,n,r,i,o,l,d,f,h){var p=Wb(),g=p.invert,y=p.domain,b=h(".%L"),w=h(":%S"),S=h("%I:%M"),j=h("%I %p"),N=h("%a %d"),A=h("%b %d"),O=h("%B"),C=h("%Y");function T(P){return(f(P)<P?b:d(P)<P?w:l(P)<P?S:o(P)<P?j:r(P)<P?i(P)<P?N:A:n(P)<P?O:C)(P)}return p.invert=function(P){return new Date(g(P))},p.domain=function(P){return arguments.length?y(Array.from(P,UK)):y().map(LK)},p.ticks=function(P){var k=y();return e(k[0],k[k.length-1],P??10)},p.tickFormat=function(P,k){return k==null?T:h(k)},p.nice=function(P){var k=y();return(!P||typeof P.range!="function")&&(P=t(k[0],k[k.length-1],P??10)),P?y(Wk(k,P)):p},p.copy=function(){return Nu(p,cx(e,t,n,r,i,o,l,d,f,h))},p}function $K(){return kr.apply(cx(RF,DF,Va,ox,Zh,Eu,ix,rx,ks,lP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zK(){return kr.apply(cx(PF,MF,Wa,lx,em,Jh,sx,ax,ks,cP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tm(){var e=0,t=1,n,r,i,o,l=Tn,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(o(g)-n)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(y){var b,w;return arguments.length?([b,w]=y,l=g(b,w),h):[l(0),l(1)]}}return h.range=p(jl),h.rangeRound=p(Vb),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),h}}function Gi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uP(){var e=Ki(tm()(Tn));return e.copy=function(){return Gi(e,uP())},Za.apply(e,arguments)}function dP(){var e=Jb(tm()).domain([1,10]);return e.copy=function(){return Gi(e,dP()).base(e.base())},Za.apply(e,arguments)}function fP(){var e=Zb(tm());return e.copy=function(){return Gi(e,fP()).constant(e.constant())},Za.apply(e,arguments)}function ux(){var e=ex(tm());return e.copy=function(){return Gi(e,ux()).exponent(e.exponent())},Za.apply(e,arguments)}function BK(){return ux.apply(null,arguments).exponent(.5)}function hP(){var e=[],t=Tn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Su(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ui),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>EH(e,o/r))},n.copy=function(){return hP(t).domain(e)},Za.apply(n,arguments)}function nm(){var e=0,t=.5,n=1,r=1,i,o,l,d,f,h=Tn,p,g=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-o)*(r*S<r*o?d:f),h(g?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([e,t,n]=S,i=p(e=+e),o=p(t=+t),l=p(n=+n),d=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,b):[e,t,n]},b.clamp=function(S){return arguments.length?(g=!!S,b):g},b.interpolator=function(S){return arguments.length?(h=S,b):h};function w(S){return function(j){var N,A,O;return arguments.length?([N,A,O]=j,h=ZH(S,[N,A,O]),b):[h(0),h(.5),h(1)]}}return b.range=w(jl),b.rangeRound=w(Vb),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return p=S,i=S(e),o=S(t),l=S(n),d=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,b}}function mP(){var e=Ki(nm()(Tn));return e.copy=function(){return Gi(e,mP())},Za.apply(e,arguments)}function pP(){var e=Jb(nm()).domain([.1,1,10]);return e.copy=function(){return Gi(e,pP()).base(e.base())},Za.apply(e,arguments)}function gP(){var e=Zb(nm());return e.copy=function(){return Gi(e,gP()).constant(e.constant())},Za.apply(e,arguments)}function dx(){var e=ex(nm());return e.copy=function(){return Gi(e,dx()).exponent(e.exponent())},Za.apply(e,arguments)}function qK(){return dx.apply(null,arguments).exponent(.5)}const Uc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kb,scaleDiverging:mP,scaleDivergingLog:pP,scaleDivergingPow:dx,scaleDivergingSqrt:qK,scaleDivergingSymlog:gP,scaleIdentity:Vk,scaleImplicit:S0,scaleLinear:Yk,scaleLog:Xk,scaleOrdinal:Fb,scalePoint:CH,scalePow:tx,scaleQuantile:Zk,scaleQuantize:eP,scaleRadial:Jk,scaleSequential:uP,scaleSequentialLog:dP,scaleSequentialPow:ux,scaleSequentialQuantile:hP,scaleSequentialSqrt:BK,scaleSequentialSymlog:fP,scaleSqrt:wF,scaleSymlog:Qk,scaleThreshold:tP,scaleTime:$K,scaleUtc:zK,tickFormat:Gk},Symbol.toStringTag,{value:"Module"}));var Yi=e=>e.chartData,fx=ee([Yi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hx=(e,t,n,r)=>r?fx(e):Yi(e);function ml(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(or(t)&&or(n))return!0}return!1}function JE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function HK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(or(n))i=n;else if(typeof n=="function")return;if(or(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ml(l))return l}}function FK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ml(r))return JE(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,d;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Ce(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&qN.test(i)){var f=qN.exec(i);if(f==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Ce(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&HN.test(o)){var p=HN.exec(o);if(p==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var y=[l,d];if(ml(y))return t==null?y:JE(y,t,n)}}}var Nl=1e9,KK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},px,Nt=!0,Ar="[DecimalError] ",Ls=Ar+"Invalid argument: ",mx=Ar+"Exponent out of range: ",El=Math.floor,xs=Math.pow,GK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,cn=1e7,_t=7,yP=9007199254740991,ph=El(yP/_t),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};_e.dividedBy=_e.div=function(e){return Ha(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,n=t.constructor;return pt(Ha(t,new n(e),0,1),n.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return Vt(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(rr))throw Error(Ar+"NaN");if(n.s<1)throw Error(Ar+(n.s?"NaN":"-Infinity"));return n.eq(rr)?new r(0):(Nt=!1,t=Ha(cu(n,o),cu(e,o),o),Nt=!0,pt(t,i))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xP(t,e):vP(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ar+"NaN");return n.s?(Nt=!1,t=Ha(n,e,0,1).times(e),Nt=!0,n.minus(t)):pt(new r(n),i)};_e.naturalExponential=_e.exp=function(){return bP(this)};_e.naturalLogarithm=_e.ln=function(){return cu(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vP(t,e):xP(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ls+e);if(t=Vt(i)+1,r=i.d.length-1,n=r*_t+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};_e.squareRoot=_e.sqrt=function(){var e,t,n,r,i,o,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Ar+"NaN")}for(e=Vt(d),Nt=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=sa(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=El((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(Ha(d,o,l+2)).times(.5),sa(o.d).slice(0,l)===(t=sa(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(pt(o,n+1,0),o.times(o).eq(d)){r=o;break}}else if(t!="9999")break;l+=4}return Nt=!0,pt(r,n)};_e.times=_e.mul=function(e){var t,n,r,i,o,l,d,f,h,p=this,g=p.constructor,y=p.d,b=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,f=y.length,h=b.length,f<h&&(o=y,y=b,b=o,l=f,f=h,h=l),o=[],l=f+h,r=l;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)d=o[i]+b[r]*y[i-r-1]+t,o[i--]=d%cn|0,t=d/cn|0;o[i]=(o[i]+t)%cn|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Nt?pt(e,g.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ua(e,0,Nl),t===void 0?t=r.rounding:ua(t,0,8),pt(n,e+Vt(n)+1,t))};_e.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Bs(r,!0):(ua(e,0,Nl),t===void 0?t=i.rounding:ua(t,0,8),r=pt(new i(r),e+1,t),n=Bs(r,!0,e+1)),n};_e.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Bs(i):(ua(e,0,Nl),t===void 0?t=o.rounding:ua(t,0,8),r=pt(new o(i),e+Vt(i)+1,t),n=Bs(r.abs(),!1,e+Vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return pt(new t(e),Vt(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,n,r,i,o,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(rr);if(d=new f(d),!d.s){if(e.s<1)throw Error(Ar+"Infinity");return d}if(d.eq(rr))return d;if(r=f.precision,e.eq(rr))return pt(d,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=d.s,l){if((n=p<0?-p:p)<=yP){for(i=new f(rr),t=Math.ceil(r/_t+4),Nt=!1;n%2&&(i=i.times(d),eO(i.d,t)),n=El(n/2),n!==0;)d=d.times(d),eO(d.d,t);return Nt=!0,e.s<0?new f(rr).div(i):pt(i,r)}}else if(o<0)throw Error(Ar+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Nt=!1,i=e.times(cu(d,r+h)),Nt=!0,i=bP(i),i.s=o,i};_e.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Vt(i),r=Bs(i,n<=o.toExpNeg||n>=o.toExpPos)):(ua(e,1,Nl),t===void 0?t=o.rounding:ua(t,0,8),i=pt(new o(i),e,t),n=Vt(i),r=Bs(i,e<=n||n<=o.toExpNeg,e)),r};_e.toSignificantDigits=_e.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ua(e,1,Nl),t===void 0?t=r.rounding:ua(t,0,8)),pt(new r(n),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vt(e),n=e.constructor;return Bs(e,t<=n.toExpNeg||t>=n.toExpPos)};function vP(e,t){var n,r,i,o,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Nt?pt(t,g):t;if(f=e.d,h=t.d,l=e.e,i=t.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,d=h.length):(r=h,i=l,d=f.length),l=Math.ceil(g/_t),d=l>d?l+1:d+1,o>d&&(o=d,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(d=f.length,o=h.length,d-o<0&&(o=d,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/cn|0,f[o]%=cn;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=i,Nt?pt(t,g):t}function ua(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ls+e)}function sa(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=_t-r.length,n&&(o+=Mi(n)),o+=r;l=e[t],r=l+"",n=_t-r.length,n&&(o+=Mi(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ha=(function(){function e(r,i){var o,l=0,d=r.length;for(r=r.slice();d--;)o=r[d]*i+l,r[d]=o%cn|0,l=o/cn|0;return l&&r.unshift(l),r}function t(r,i,o,l){var d,f;if(o!=l)f=o>l?1:-1;else for(d=f=0;d<o;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*cn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var d,f,h,p,g,y,b,w,S,j,N,A,O,C,T,P,k,D,q=r.constructor,$=r.s==i.s?1:-1,F=r.d,H=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(Ar+"Division by zero");for(f=r.e-i.e,k=H.length,T=F.length,b=new q($),w=b.d=[],h=0;H[h]==(F[h]||0);)++h;if(H[h]>(F[h]||0)&&--f,o==null?A=o=q.precision:l?A=o+(Vt(r)-Vt(i))+1:A=o,A<0)return new q(0);if(A=A/_t+2|0,h=0,k==1)for(p=0,H=H[0],A++;(h<T||p)&&A--;h++)O=p*cn+(F[h]||0),w[h]=O/H|0,p=O%H|0;else{for(p=cn/(H[0]+1)|0,p>1&&(H=e(H,p),F=e(F,p),k=H.length,T=F.length),C=k,S=F.slice(0,k),j=S.length;j<k;)S[j++]=0;D=H.slice(),D.unshift(0),P=H[0],H[1]>=cn/2&&++P;do p=0,d=t(H,S,k,j),d<0?(N=S[0],k!=j&&(N=N*cn+(S[1]||0)),p=N/P|0,p>1?(p>=cn&&(p=cn-1),g=e(H,p),y=g.length,j=S.length,d=t(g,S,y,j),d==1&&(p--,n(g,k<y?D:H,y))):(p==0&&(d=p=1),g=H.slice()),y=g.length,y<j&&g.unshift(0),n(S,g,j),d==-1&&(j=S.length,d=t(H,S,k,j),d<1&&(p++,n(S,k<j?D:H,j))),j=S.length):d===0&&(p++,S=[0]),w[h++]=p,d&&S[0]?S[j++]=F[C]||0:(S=[F[C]],j=1);while((C++<T||S[0]!==void 0)&&A--)}return w[0]||w.shift(),b.e=f,pt(b,l?o+Vt(b)+1:o)}})();function bP(e,t){var n,r,i,o,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(Vt(e)>16)throw Error(mx+Vt(e));if(!e.s)return new p(rr);for(Nt=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(xs(2,h))/Math.LN10*2+5|0,d+=r,n=i=o=new p(rr),p.precision=d;;){if(i=pt(i.times(e),d),n=n.times(++f),l=o.plus(Ha(i,n,d)),sa(l.d).slice(0,d)===sa(o.d).slice(0,d)){for(;h--;)o=pt(o.times(o),d);return p.precision=g,t==null?(Nt=!0,pt(o,g)):o}o=l}}function Vt(e){for(var t=e.e*_t,n=e.d[0];n>=10;n/=10)t++;return t}function iv(e,t,n){if(t>e.LN10.sd())throw Nt=!0,n&&(e.precision=n),Error(Ar+"LN10 precision limit exceeded");return pt(new e(e.LN10),t)}function Mi(e){for(var t="";e--;)t+="0";return t}function cu(e,t){var n,r,i,o,l,d,f,h,p,g=1,y=10,b=e,w=b.d,S=b.constructor,j=S.precision;if(b.s<1)throw Error(Ar+(b.s?"NaN":"-Infinity"));if(b.eq(rr))return new S(0);if(t==null?(Nt=!1,h=j):h=t,b.eq(10))return t==null&&(Nt=!0),iv(S,h);if(h+=y,S.precision=h,n=sa(w),r=n.charAt(0),o=Vt(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=sa(b.d),r=n.charAt(0),g++;o=Vt(b),r>1?(b=new S("0."+n),o++):b=new S(r+"."+n.slice(1))}else return f=iv(S,h+2,j).times(o+""),b=cu(new S(r+"."+n.slice(1)),h-y).plus(f),S.precision=j,t==null?(Nt=!0,pt(b,j)):b;for(d=l=b=Ha(b.minus(rr),b.plus(rr),h),p=pt(b.times(b),h),i=3;;){if(l=pt(l.times(p),h),f=d.plus(Ha(l,new S(i),h)),sa(f.d).slice(0,h)===sa(d.d).slice(0,h))return d=d.times(2),o!==0&&(d=d.plus(iv(S,h+2,j).times(o+""))),d=Ha(d,new S(g),h),S.precision=j,t==null?(Nt=!0,pt(d,j)):d;d=f,i+=2}}function ZE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=El(n/_t),e.d=[],r=(n+1)%_t,n<0&&(r+=_t),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=_t;r<i;)e.d.push(+t.slice(r,r+=_t));t=t.slice(r),r=_t-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Nt&&(e.e>ph||e.e<-ph))throw Error(mx+n)}else e.s=0,e.e=0,e.d=[0];return e}function pt(e,t,n){var r,i,o,l,d,f,h,p,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=_t,i=t,h=g[p=0];else{if(p=Math.ceil((r+1)/_t),o=g.length,p>=o)return e;for(h=o=g[p],l=1;o>=10;o/=10)l++;r%=_t,i=r-_t+l}if(n!==void 0&&(o=xs(10,l-i-1),d=h/o%10|0,f=t<0||g[p+1]!==void 0||h%o,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?h/xs(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(o=Vt(e),g.length=1,t=t-o-1,g[0]=xs(10,(_t-t%_t)%_t),e.e=El(-t/_t)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=xs(10,_t-r),g[p]=i>0?(h/xs(10,l-i)%xs(10,i)|0)*o:0),f)for(;;)if(p==0){(g[0]+=o)==cn&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=cn)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(Nt&&(e.e>ph||e.e<-ph))throw Error(mx+Vt(e));return e}function xP(e,t){var n,r,i,o,l,d,f,h,p,g,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Nt?pt(t,b):t;if(f=e.d,g=t.d,r=t.e,h=e.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=h,d=f.length),i=Math.max(Math.ceil(b/_t),d)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,t.s=-t.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(o=i;o&&f[--o]===0;)f[o]=cn-1;--f[o],f[i]+=cn}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Nt?pt(t,b):t):new y(0)}function Bs(e,t,n){var r,i=Vt(e),o=sa(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Mi(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Mi(-i-1)+o,n&&(r=n-l)>0&&(o+=Mi(r))):i>=l?(o+=Mi(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Mi(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Mi(r))),e.s<0?"-"+o:o}function eO(e,t){if(e.length>t)return e.length=t,!0}function _P(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ls+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return ZE(l,o.toString())}else if(typeof o!="string")throw Error(Ls+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,GK.test(o))ZE(l,o);else throw Error(Ls+o)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_P,i.config=i.set=YK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function YK(e){if(!e||typeof e!="object")throw Error(Ar+"Object expected");var t,n,r,i=["precision",1,Nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(El(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ls+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ls+n+": "+r);return this}var px=_P(KK);rr=new px(1);const st=px;var VK=e=>e,wP={},SP=e=>e===wP,tO=e=>function t(){return arguments.length===0||arguments.length===1&&SP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},jP=(e,t)=>e===1?t:tO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==wP).length;return o>=e?t(...r):jP(e-o,tO(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=r.map(p=>SP(p)?d.shift():p);return t(...h,...d)}))}),rm=e=>jP(e.length,e),O0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},WK=rm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),XK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return VK;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((d,f)=>f(d),o(...arguments))}},A0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),NP=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((l,d)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[d])})||(t=i,n=e(...i)),n}};function EP(e){var t;return e===0?t=1:t=Math.floor(new st(e).abs().log(10).toNumber())+1,t}function OP(e,t,n){for(var r=new st(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}rm((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});rm((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});rm((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var AP=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},CP=(e,t,n)=>{if(e.lte(0))return new st(0);var r=EP(e.toNumber()),i=new st(10).pow(r),o=e.div(i),l=r!==1?.05:.1,d=new st(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=d.mul(i);return t?new st(f.toNumber()):new st(Math.ceil(f.toNumber()))},QK=(e,t,n)=>{var r=new st(1),i=new st(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new st(10).pow(EP(e)-1),i=new st(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new st(Math.floor(e)))}else e===0?i=new st(Math.floor((t-1)/2)):n||(i=new st(Math.floor(e)));var l=Math.floor((t-1)/2),d=XK(WK(f=>i.add(new st(f-l).mul(r)).toNumber()),O0);return d(0,t)},TP=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new st(0),tickMin:new st(0),tickMax:new st(0)};var l=CP(new st(n).sub(t).div(r-1),i,o),d;t<=0&&n>=0?d=new st(0):(d=new st(t).add(n).div(2),d=d.sub(new st(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new st(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?TP(t,n,r,i,o+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new st(f).mul(l)),tickMax:d.add(new st(h).mul(l))})};function JK(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,d]=AP([t,n]);if(l===-1/0||d===1/0){var f=d===1/0?[l,...O0(0,r-1).map(()=>1/0)]:[...O0(0,r-1).map(()=>-1/0),d];return t>n?A0(f):f}if(l===d)return QK(l,r,i);var{step:h,tickMin:p,tickMax:g}=TP(l,d,o,i,0),y=OP(p,g.add(new st(.1).mul(h)),h);return t>n?A0(y):y}function ZK(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=AP([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var d=Math.max(t,2),f=CP(new st(l).sub(o).div(d-1),i,0),h=[...OP(new st(o),new st(l),f),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?A0(h):h}var eG=NP(JK),tG=NP(ZK),kP=e=>e.rootProps.maxBarSize,nG=e=>e.rootProps.barGap,PP=e=>e.rootProps.barCategoryGap,rG=e=>e.rootProps.barSize,Ou=e=>e.rootProps.stackOffset,gx=e=>e.options.chartName,yx=e=>e.rootProps.syncId,MP=e=>e.rootProps.syncMethod,vx=e=>e.options.eventEmitter,Da={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},am=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},aG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:Da.type,unit:void 0},iG={allowDataOverflow:nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,ticks:void 0,type:nr.type,unit:void 0},sG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oG={allowDataOverflow:nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,ticks:void 0,type:"category",unit:void 0},bx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?sG:aG,xx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?oG:iG,im=e=>e.polarOptions,_x=ee([Qa,Ja,tn],pk),RP=ee([im,_x],(e,t)=>{if(e!=null)return En(e.innerRadius,t,0)}),DP=ee([im,_x],(e,t)=>{if(e!=null)return En(e.outerRadius,t,t*.8)}),lG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},IP=ee([im],lG);ee([bx,IP],am);var LP=ee([_x,RP,DP],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ee([xx,LP],am);var UP=ee([nt,im,RP,DP,Qa,Ja],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:En(l,i,i/2),cy:En(d,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Ot=(e,t)=>t,Au=(e,t,n)=>n;function wx(e){return e==null?void 0:e.id}var rn=e=>{var t=nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ol=e=>e.tooltip.settings.axisId,hn=e=>{var t=rn(e),n=Ol(e);return Cu(e,t,n)},$P=ee([hn],e=>e==null?void 0:e.dataKey);function zP(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=wx(d);h.forEach((g,y)=>{var b=o==null||i?y:String(Ct(g,o,null)),w=Ct(g,d.dataKey,0),S;l.has(b)?S=l.get(b):S={},Object.assign(S,{[p]:w}),l.set(b,S)})}}),Array.from(l.values())}function sm(e){return e.stackId!=null&&e.dataKey!=null}function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(r){cG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cG(e,t,n){return(t=uG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C0=[0,"auto"],er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BP=(e,t)=>e.cartesianAxis.xAxis[t],ei=(e,t)=>{var n=BP(e,t);return n??er},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:C0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wu},qP=(e,t)=>e.cartesianAxis.yAxis[t],ti=(e,t)=>{var n=qP(e,t);return n??tr},fG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Sx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??fG},$t=(e,t,n)=>{switch(t){case"xAxis":return ei(e,n);case"yAxis":return ti(e,n);case"zAxis":return Sx(e,n);case"angleAxis":return bx(e,n);case"radiusAxis":return xx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},hG=(e,t,n)=>{switch(t){case"xAxis":return ei(e,n);case"yAxis":return ti(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Cu=(e,t,n)=>{switch(t){case"xAxis":return ei(e,n);case"yAxis":return ti(e,n);case"angleAxis":return bx(e,n);case"radiusAxis":return xx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},HP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function jx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Nx=e=>e.graphicalItems.cartesianItems,mG=ee([Ot,Au],jx),Ex=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Tu=ee([Nx,$t,mG],Ex),FP=ee([Tu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(sm)),KP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),GP=ee([Tu],KP),Ox=e=>e.map(t=>t.data).filter(Boolean).flat(1),pG=ee([Tu],Ox),Ax=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Cx=ee([pG,hx],Ax),Tx=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ct(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ct(i,r)}))):e.map(r=>({value:r})),om=ee([Cx,$t,Tu],Tx);function YP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xs(e){return e.filter(t=>ca(t)||t instanceof Date).map(Number).filter(t=>ir(t)===!1)}function gG(e,t,n){return!n||typeof t!="number"||ir(t)?[]:n.length?Xs(n.flatMap(r=>{var i=Ct(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!or(o)||!or(l)))return[t-o,t+l]})):[]}var yG=ee([FP,hx,hn],zP),VP=(e,t,n)=>{var r={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,d]=o,f=d.map(wx);return[l,{stackedData:_7(e,f,n),graphicalItems:d}]}))},T0=ee([yG,FP,Ou],VP),WP=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=E7(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},vG=ee([T0,Yi,Ot],WP),XP=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(l=>{var d,f,h=(d=r[l.id])===null||d===void 0?void 0:d.filter(g=>YP(i,g)),p=Ct(o,(f=t.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:p,errorDomain:gG(o,p,h)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(o=>({value:Ct(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),lm=e=>e.errorBars,QP=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>YP(n,r));ee([GP,lm,Ot],QP);var bG=ee([Cx,$t,GP,lm,Ot],XP);function xG(e){var{value:t}=e;if(ca(t)||t instanceof Date)return t}var rO=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Xs(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_G=(e,t,n)=>{var r=e.map(xG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&uT(r))?Ik(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},kx=e=>{var t;if(e==null||!("domain"in e))return C0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Xs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:C0},yh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),d=Math.max(...o);return[l,d]}},JP=e=>e.referenceElements.dots,Al=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),wG=ee([JP,Ot,Au],Al),ZP=e=>e.referenceElements.areas,SG=ee([ZP,Ot,Au],Al),eM=e=>e.referenceElements.lines,jG=ee([eM,Ot,Au],Al),tM=(e,t)=>{var n=Xs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},NG=ee(wG,Ot,tM),nM=(e,t)=>{var n=Xs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},EG=ee([SG,Ot],nM),rM=(e,t)=>{var n=Xs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},OG=ee(jG,Ot,rM),AG=ee(NG,OG,EG,(e,t,n)=>yh(e,n,t)),aM=ee([$t],kx),Px=(e,t,n,r,i,o,l)=>{var d=HK(t,e.allowDataOverflow);if(d!=null)return d;var f=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",h=f?yh(n,i,rO(r)):yh(i,rO(r));return FK(t,h,e.allowDataOverflow)},CG=ee([$t,aM,vG,bG,AG,nt,Ot],Px),TG=[0,1],Mx=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=Gs(t,o);return h&&d==null?Ik(0,n.length):f==="category"?_G(r,e,h):i==="expand"?TG:l}},Rx=ee([$t,nt,Cx,om,Ou,Ot,CG],Mx),iM=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(vu(o));return d in Uc?d:"point"}}},Cl=ee([$t,nt,HP,gx,Ot],iM);function kG(e){if(e!=null){if(e in Uc)return Uc[e]();var t="scale".concat(vu(e));if(t in Uc)return Uc[t]()}}function Dx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=kG(t);if(i!=null){var o=i.domain(n).range(r);return g7(o),o}}}var Ix=(e,t,n)=>{var r=kx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ml(e))return eG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ml(e))return tG(e,t.tickCount,t.allowDecimals)}},Lx=ee([Rx,Cu,Cl],Ix),Ux=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ml(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],d=n[n.length-1];return[Math.min(i,o),Math.max(l,d)]}return t},PG=ee([$t,Rx,Lx,Ot],Ux),MG=ee(om,$t,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Xs(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),sM=ee(MG,nt,PP,tn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!or(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=En(n,e*o),d=e*o/2;return d-l-(d-l)/o*l}return 0}),RG=(e,t)=>{var n=ei(e,t);return n==null||typeof n.padding!="string"?0:sM(e,"xAxis",t,n.padding)},DG=(e,t)=>{var n=ti(e,t);return n==null||typeof n.padding!="string"?0:sM(e,"yAxis",t,n.padding)},IG=ee(ei,RG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),LG=ee(ti,DG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),UG=ee([tn,IG,Vh,Yh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),$G=ee([tn,nt,LG,Vh,Yh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),ku=(e,t,n,r)=>{var i;switch(t){case"xAxis":return UG(e,n,r);case"yAxis":return $G(e,n,r);case"zAxis":return(i=Sx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return IP(e);case"radiusAxis":return LP(e,n);default:return}},oM=ee([$t,ku],am),Tl=ee([$t,Cl,PG,oM],Dx);ee([Tu,lm,Ot],QP);function lM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var cm=(e,t)=>t,um=(e,t,n)=>n,zG=ee(Kh,cm,um,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lM)),BG=ee(Gh,cm,um,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lM)),cM=(e,t)=>({width:e.width,height:t.height}),qG=(e,t)=>{var n=typeof t.width=="number"?t.width:wu;return{width:n,height:e.height}},uM=ee(tn,ei,cM),HG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},FG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},KG=ee(Ja,tn,zG,cm,um,(e,t,n,r,i)=>{var o={},l;return n.forEach(d=>{var f=cM(t,d);l==null&&(l=HG(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;o[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),o}),GG=ee(Qa,tn,BG,cm,um,(e,t,n,r,i)=>{var o={},l;return n.forEach(d=>{var f=qG(t,d);l==null&&(l=FG(t,r,e));var h=r==="left"&&!i||r==="right"&&i;o[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),o}),YG=(e,t)=>{var n=ei(e,t);if(n!=null)return KG(e,n.orientation,n.mirror)},VG=ee([tn,ei,YG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),WG=(e,t)=>{var n=ti(e,t);if(n!=null)return GG(e,n.orientation,n.mirror)},XG=ee([tn,ti,WG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),dM=ee(tn,ti,(e,t)=>{var n=typeof t.width=="number"?t.width:wu;return{width:n,height:e.height}}),aO=(e,t,n)=>{switch(t){case"xAxis":return uM(e,n).width;case"yAxis":return dM(e,n).height;default:return}},fM=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,d=Gs(e,r),f=t.map(h=>h.value);if(l&&d&&o==="category"&&i&&uT(f))return f}},$x=ee([nt,om,$t,Ot],fM),hM=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Gs(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(d=>d.value)}},zx=ee([nt,om,Cu,Ot],hM),iO=ee([nt,hG,Cl,Tl,$x,zx,ku,Lx,Ot],(e,t,n,r,i,o,l,d,f)=>{if(t==null)return null;var h=Gs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}),QG=(e,t,n,r,i,o,l,d,f)=>{if(!(t==null||r==null)){var h=Gs(e,f),{type:p,ticks:g,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&o!=null&&o.length>=2?un(o[0]-o[1])*2*w:w;var S=g||i;if(S){var j=S.map((N,A)=>{var O=l?l.indexOf(N):N;return{index:A,coordinate:r(O)+w,value:N,offset:w}});return j.filter(N=>!ir(N.coordinate))}return h&&d?d.map((N,A)=>({coordinate:r(N)+w,value:N,index:A,offset:w})):r.ticks?r.ticks(y).map(N=>({coordinate:r(N)+w,value:N,offset:w})):r.domain().map((N,A)=>({coordinate:r(N)+w,value:l?l[N]:N,index:A,offset:w}))}},mM=ee([nt,Cu,Cl,Tl,Lx,ku,$x,zx,Ot],QG),JG=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=Gs(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?un(r[0]-r[1])*2*h:h,d&&o?o.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},pl=ee([nt,Cu,Tl,ku,$x,zx,Ot],JG),gl=ee($t,Tl,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})}),ZG=ee([$t,Cl,Rx,oM],Dx);ee((e,t,n)=>Sx(e,n),ZG,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})});var eY=ee([nt,Kh,Gh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pM=e=>e.options.defaultTooltipEventType,gM=e=>e.options.validateTooltipEventTypes;function yM(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Bx(e,t){var n=pM(e),r=gM(e);return yM(t,n,r)}function tY(e){return Ee(t=>Bx(t,e))}var vM=(e,t)=>{var n,r=Number(t);if(!(ir(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},nY=e=>e.tooltip.settings,Li={active:!1,index:null,dataKey:void 0,coordinate:void 0},rY={itemInteraction:{click:Li,hover:Li},axisInteraction:{click:Li,hover:Li},keyboardInteraction:Li,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bM=lr({name:"tooltip",initialState:rY,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=qa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:aY,removeTooltipEntrySettings:iY,setTooltipSettingsState:sY,setActiveMouseOverItemIndex:xM,mouseLeaveItem:oY,mouseLeaveChart:_M,setActiveClickItemIndex:lY,setMouseOverAxisIndex:wM,setMouseClickAxisIndex:cY,setSyncInteraction:k0,setKeyboardInteraction:P0}=bM.actions,uY=bM.reducer;function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){dY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dY(e,t,n){return(t=fY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function pY(e){return e.index!=null}var SM=(e,t,n,r)=>{if(t==null)return Li;var i=mY(e,t,n);if(i==null)return Li;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(pY(i)){if(o)return pf(pf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return pf(pf({},Li),{},{coordinate:i.coordinate})},qx=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!or(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},jM=(e,t,n,r,i,o,l,d)=>{if(!(o==null||d==null)){var f=l[0],h=f==null?void 0:d(f.positions,o);if(h!=null)return h;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},NM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Pu=e=>e.options.tooltipPayloadSearcher,kl=e=>e.tooltip;function oO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(n),!0).forEach(function(r){gY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gY(e,t,n){return(t=yY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bY(e,t){return e??t}var EM=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return e.reduce((y,b)=>{var w,{dataDefinedOnItem:S,settings:j}=b,N=bY(S,d),A=Array.isArray(N)?gk(N,h,p):N,O=(w=j==null?void 0:j.dataKey)!==null&&w!==void 0?w:r,C=j==null?void 0:j.nameKey,T;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?T=i8(A,r,i):T=o(A,t,f,C),Array.isArray(T))T.forEach(k=>{var D=lO(lO({},j),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(FN({tooltipEntrySettings:D,dataKey:k.dataKey,payload:k.payload,value:Ct(k.payload,k.dataKey),name:k.name}))});else{var P;y.push(FN({tooltipEntrySettings:j,dataKey:O,payload:T,value:Ct(T,O),name:(P=Ct(T,C))!==null&&P!==void 0?P:j==null?void 0:j.name}))}return y},g)}},Hx=ee([hn,nt,HP,gx,rn],iM),xY=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),_Y=ee([rn,Ol],jx),Mu=ee([xY,hn,_Y],Ex),wY=ee([Mu],e=>e.filter(sm)),SY=ee([Mu],Ox),Pl=ee([SY,Yi],Ax),jY=ee([wY,Yi,hn],zP),Fx=ee([Pl,hn,Mu],Tx),NY=ee([hn],kx),EY=ee([Mu],e=>e.filter(sm)),OY=ee([jY,EY,Ou],VP),AY=ee([OY,Yi,rn],WP),CY=ee([Mu],KP),TY=ee([Pl,hn,CY,lm,rn],XP),kY=ee([JP,rn,Ol],Al),PY=ee([kY,rn],tM),MY=ee([ZP,rn,Ol],Al),RY=ee([MY,rn],nM),DY=ee([eM,rn,Ol],Al),IY=ee([DY,rn],rM),LY=ee([PY,IY,RY],yh),UY=ee([hn,NY,AY,TY,LY,nt,rn],Px),OM=ee([hn,nt,Pl,Fx,Ou,rn,UY],Mx),$Y=ee([OM,hn,Hx],Ix),zY=ee([hn,OM,$Y,rn],Ux),AM=e=>{var t=rn(e),n=Ol(e),r=!1;return ku(e,t,n,r)},CM=ee([hn,AM],am),TM=ee([hn,Hx,zY,CM],Dx),BY=ee([nt,Fx,hn,rn],fM),qY=ee([nt,Fx,hn,rn],hM),HY=(e,t,n,r,i,o,l,d)=>{if(t){var{type:f}=t,h=Gs(e,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?un(i[0]-i[1])*2*g:g,h&&l?l.map((y,b)=>({coordinate:r(y)+g,value:y,index:b,offset:g})):r.domain().map((y,b)=>({coordinate:r(y)+g,value:o?o[y]:y,index:b,offset:g}))}}},ni=ee([nt,hn,Hx,TM,AM,BY,qY,rn],HY),Kx=ee([pM,gM,nY],(e,t,n)=>yM(n.shared,e,t)),kM=e=>e.tooltip.settings.trigger,Gx=e=>e.tooltip.settings.defaultIndex,dm=ee([kl,Kx,kM,Gx],SM),qs=ee([dm,Pl],qx),PM=ee([ni,qs],vM),MM=ee([dm],e=>{if(e)return e.dataKey}),RM=ee([kl,Kx,kM,Gx],NM),FY=ee([Qa,Ja,nt,tn,ni,Gx,RM,Pu],jM),KY=ee([dm,FY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),GY=ee([dm],e=>e.active),YY=ee([RM,qs,Yi,$P,PM,Pu,Kx],EM);ee([YY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){VY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VY(e,t,n){return(t=WY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QY=()=>Ee(hn),JY=()=>{var e=QY(),t=Ee(ni),n=Ee(TM);return Ib(uO(uO({},e),{},{scale:n}),t)},ZY=()=>Ee(gx),Yx=(e,t)=>t,DM=(e,t,n)=>n,Vx=(e,t,n,r)=>r,eV=ee(ni,e=>Uh(e,t=>t.coordinate)),Wx=ee([kl,Yx,DM,Vx],SM),IM=ee([Wx,Pl],qx),tV=(e,t,n)=>{if(t!=null){var r=kl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},LM=ee([kl,Yx,DM,Vx],NM),vh=ee([Qa,Ja,nt,tn,ni,Vx,LM,Pu],jM),nV=ee([Wx,vh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),UM=ee(ni,IM,vM),rV=ee([LM,IM,Yi,$P,UM,Pu,Yx],EM),aV=ee([Wx],e=>({isActive:e.active,activeIndex:e.index})),iV=(e,t,n,r,i,o,l,d)=>{if(!(!e||!t||!r||!i||!o)){var f=O7(e.chartX,e.chartY,t,n,d);if(f){var h=C7(f,t),p=m7(h,l,o,r,i),g=A7(t,o,p,f);return{activeIndex:String(p),activeCoordinate:g}}}};function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){sV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sV(e,t,n){return(t=oV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oV(e){var t=lV(e,"string");return typeof t=="symbol"?t:t+""}function lV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cV(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:l,cursor:d,tooltipEventType:f,chartName:h}=e,p=t,g=n,y=r;if(!d||!p||h!=="ScatterChart"&&f!=="axis")return null;var b,w;if(h==="ScatterChart")b=p,w=C9;else if(h==="BarChart")b=T9(l,p,i,o),w=Pk;else if(l==="radial"){var{cx:S,cy:j,radius:N,startAngle:A,endAngle:O}=Mk(p);b={cx:S,cy:j,startAngle:A,endAngle:O,innerRadius:N,outerRadius:N},w=Dk}else b={points:cH(l,p,i)},w=Ok;var C=typeof d=="object"&&"className"in d?d.className:void 0,T=gf(gf(gf(gf({stroke:"#ccc",pointerEvents:"none"},i),b),en(d,!1)),{},{payload:g,payloadIndex:y,className:ot("recharts-tooltip-cursor",C)});return x.isValidElement(d)?x.cloneElement(d,T):x.createElement(w,T)}function uV(e){var t=JY(),n=wk(),r=Bb(),i=ZY();return x.createElement(cV,M0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var $M=x.createContext(null),dV=()=>x.useContext($M),sv={exports:{}},fO;function fV(){return fO||(fO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function o(f,h,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||f,y),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,w=new Array(b);y<b;y++)w[y]=g[y].fn;return w},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,y,b,w){var S=n?n+h:h;if(!this._events[S])return!1;var j=this._events[S],N=arguments.length,A,O;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),N){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,y),!0;case 5:return j.fn.call(j.context,p,g,y,b),!0;case 6:return j.fn.call(j.context,p,g,y,b,w),!0}for(O=1,A=new Array(N-1);O<N;O++)A[O-1]=arguments[O];j.fn.apply(j.context,A)}else{var C=j.length,T;for(O=0;O<C;O++)switch(j[O].once&&this.removeListener(h,j[O].fn,void 0,!0),N){case 1:j[O].fn.call(j[O].context);break;case 2:j[O].fn.call(j[O].context,p);break;case 3:j[O].fn.call(j[O].context,p,g);break;case 4:j[O].fn.call(j[O].context,p,g,y);break;default:if(!A)for(T=1,A=new Array(N-1);T<N;T++)A[T-1]=arguments[T];j[O].fn.apply(j[O].context,A)}}return!0},d.prototype.on=function(h,p,g){return o(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return o(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,y){var b=n?n+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!y||w.once)&&(!g||w.context===g)&&l(this,b);else{for(var S=0,j=[],N=w.length;S<N;S++)(w[S].fn!==p||y&&!w[S].once||g&&w[S].context!==g)&&j.push(w[S]);j.length?this._events[b]=j.length===1?j[0]:j:l(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(sv)),sv.exports}var hV=fV();const mV=Vr(hV);var uu=new mV,R0="recharts.syncEvent.tooltip",hO="recharts.syncEvent.brush";function zM(e,t){if(t){var n=Number.parseInt(t,10);if(!ir(n))return e==null?void 0:e[n]}}var pV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},BM=lr({name:"options",initialState:pV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gV=BM.reducer,{createEventEmitter:yV}=BM.actions;function vV(e){return e.tooltip.syncInteraction}var bV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},qM=lr({name:"chartData",initialState:bV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:mO,setDataStartEndIndexes:xV,setComputedData:nre}=qM.actions,_V=qM.reducer,wV=["x","y"];function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){SV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SV(e,t,n){return(t=jV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jV(e){var t=NV(e,"string");return typeof t=="symbol"?t:t+""}function NV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EV(e,t){if(e==null)return{};var n,r,i=OV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HM=()=>{};function AV(){var e=Ee(yx),t=Ee(vx),n=Tt(),r=Ee(MP),i=Ee(ni),o=Bb(),l=Ub(),d=Ee(f=>f.rootProps.className);x.useEffect(()=>{if(e==null)return HM;var f=(h,p,g)=>{if(t!==g&&e===h){if(r==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate){var b=p.payload.coordinate,{x:w,y:S}=b,j=EV(b,wV),N=ps(ps(ps({},j),typeof w=="number"&&{x:Math.max(l.x,Math.min(w,l.x+l.width))}),typeof S=="number"&&{y:Math.max(l.y,Math.min(S,l.y+l.height))}),A=ps(ps({},p),{},{payload:ps(ps({},p.payload),{},{coordinate:N})});n(A)}else n(p);return}if(i!=null){var O;if(typeof r=="function"){var C={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},T=r(i,C);O=i[T]}else r==="value"&&(O=i.find(re=>String(re.value)===p.payload.label));var{coordinate:P}=p.payload;if(O==null||p.payload.active===!1||P==null||l==null){n(k0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:D}=P,q=Math.min(k,l.x+l.width),$=Math.min(D,l.y+l.height),F={x:o==="horizontal"?O.coordinate:q,y:o==="horizontal"?$:O.coordinate},H=k0({active:p.payload.active,coordinate:F,dataKey:p.payload.dataKey,index:String(O.index),label:p.payload.label});n(H)}}};return uu.on(R0,f),()=>{uu.off(R0,f)}},[d,n,t,e,r,i,o,l])}function CV(){var e=Ee(yx),t=Ee(vx),n=Tt();x.useEffect(()=>{if(e==null)return HM;var r=(i,o,l)=>{t!==l&&e===i&&n(xV(o))};return uu.on(hO,r),()=>{uu.off(hO,r)}},[n,t,e])}function TV(){var e=Tt();x.useEffect(()=>{e(yV())},[e]),AV(),CV()}function kV(e,t,n,r,i,o){var l=Ee(y=>tV(y,e,t)),d=Ee(vx),f=Ee(yx),h=Ee(MP),p=Ee(vV),g=p==null?void 0:p.active;x.useEffect(()=>{if(!g&&f!=null&&d!=null){var y=k0({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});uu.emit(R0,f,y,d)}},[g,n,l,i,r,d,f,h,o])}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){PV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PV(e,t,n){return(t=MV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DV(e){return e.dataKey}function IV(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(o9,t)}var vO=[],LV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ys.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bO(e){var t=kn(e,LV),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:l,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:p,position:g,reverseDirection:y,useTranslate3d:b,wrapperStyle:w,cursor:S,shared:j,trigger:N,defaultIndex:A,portal:O,axisId:C}=t,T=Tt(),P=typeof A=="number"?String(A):A;x.useEffect(()=>{T(sY({shared:j,trigger:N,axisId:C,active:n,defaultIndex:P}))},[T,j,N,C,n,P]);var k=Ub(),D=Ek(),q=tY(j),{activeIndex:$,isActive:F}=Ee(oe=>aV(oe,q,N,P)),H=Ee(oe=>rV(oe,q,N,P)),re=Ee(oe=>UM(oe,q,N,P)),B=Ee(oe=>nV(oe,q,N,P)),K=H,I=dV(),Y=n??F,[X,de]=FT([K,Y]),ne=q==="axis"?re:void 0;kV(q,N,B,ne,$,Y);var R=O??I;if(R==null)return null;var L=K??vO;Y||(L=vO),d&&L.length&&(L=$T(K.filter(oe=>oe.value!=null&&(oe.hide!==!0||t.includeHidden)),p,DV));var W=L.length>0,se=x.createElement(m9,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:f,active:Y,coordinate:B,hasPayload:W,offset:h,position:g,reverseDirection:y,useTranslate3d:b,viewBox:k,wrapperStyle:w,lastBoundingBox:X,innerRef:de,hasPortalFromProps:!!O},IV(l,yO(yO({},t),{},{payload:L,label:ne,active:Y,coordinate:B,accessibilityLayer:D})));return x.createElement(x.Fragment,null,J0.createPortal(se,R),Y&&x.createElement(uV,{cursor:S,tooltipEventType:q,coordinate:B,payload:K,index:$}))}var ov={},lv={},cv={},xO;function UV(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,d=null;const f=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),S()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{w(),l=void 0,d=null},j=()=>{p()},N=function(...A){if(i!=null&&i.aborted)return;l=this,d=A;const O=y==null;b(),f&&O&&p()};return N.schedule=b,N.cancel=S,N.flush=j,i==null||i.addEventListener("abort",S,{once:!0}),N}e.debounce=t})(cv)),cv}var _O;function $V(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UV();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:d=!0,maxWait:f}=o,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const y=t.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:h}),b=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,S),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,S),p)},w=()=>(y.flush(),p);return b.cancel=y.cancel,b.flush=w,b}e.debounce=n})(lv)),lv}var wO;function zV(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$V();function n(r,i=0,o={}){const{leading:l=!0,trailing:d=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:d})}e.throttle=n})(ov)),ov}var uv,SO;function BV(){return SO||(SO=1,uv=zV().throttle),uv}var qV=BV();const HV=Vr(qV);var Kc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function jO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(n),!0).forEach(function(r){FV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FV(e,t,n){return(t=KV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NO=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:l=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:y,onResize:b,style:w={}}=e,S=x.useRef(null),j=x.useRef();j.current=b,x.useImperativeHandle(t,()=>S.current);var[N,A]=x.useState({containerWidth:r.width,containerHeight:r.height}),O=x.useCallback((T,P)=>{A(k=>{var D=Math.round(T),q=Math.round(P);return k.containerWidth===D&&k.containerHeight===q?k:{containerWidth:D,containerHeight:q}})},[]);x.useEffect(()=>{var T=q=>{var $,{width:F,height:H}=q[0].contentRect;O(F,H),($=j.current)===null||$===void 0||$.call(j,F,H)};p>0&&(T=HV(T,p,{trailing:!0,leading:!1}));var P=new ResizeObserver(T),{width:k,height:D}=S.current.getBoundingClientRect();return O(k,D),P.observe(S.current),()=>{P.disconnect()}},[O,p]);var C=x.useMemo(()=>{var{containerWidth:T,containerHeight:P}=N;if(T<0||P<0)return null;Kc(Cs(i)||Cs(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Kc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=Cs(i)?T:i,D=Cs(o)?P:o;return n&&n>0&&(k?D=k/n:D&&(k=D*n),f&&D>f&&(D=f)),Kc(k>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,D,i,o,l,d,n),x.Children.map(h,q=>x.cloneElement(q,{width:k,height:D,style:dv({width:k,height:D},q.props.style)}))},[n,h,o,f,d,l,N,i]);return x.createElement("div",{id:g?"".concat(g):void 0,className:ot("recharts-responsive-container",y),style:dv(dv({},w),{},{width:i,height:o,minWidth:l,minHeight:d,maxHeight:f}),ref:S},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),Ru=e=>null;Ru.displayName="Cell";function YV(e,t,n){return(t=VV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XV{constructor(t){YV(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(n),!0).forEach(function(r){JV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JV(e,t,n){return(t=ZV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZV(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tW={cacheSize:2e3,enableCache:!0},FM=QV({},tW),OO=new XV(FM.cacheSize),nW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AO="recharts_measurement_span";function rW(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(d)}var CO=(e,t)=>{try{var n=document.getElementById(AO);n||(n=document.createElement("span"),n.setAttribute("id",AO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,nW,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ys.isSsr)return{width:0,height:0};if(!FM.enableCache)return CO(t,n);var r=rW(t,n),i=OO.get(r);if(i)return i;var o=CO(t,n);return OO.set(r,o),o},TO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sW=Object.keys(KM),tl="NaN";function oW(e,t){return e*KM[t]}class zn{static parse(t){var n,[,r,i]=(n=iW.exec(t))!==null&&n!==void 0?n:[];return new zn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ir(t)&&(this.unit=""),n!==""&&!aW.test(n)&&(this.num=NaN,this.unit=""),sW.includes(n)&&(this.num=oW(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ir(this.num)}}function GM(e){if(e.includes(tl))return tl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=TO.exec(t))!==null&&n!==void 0?n:[],l=zn.parse(r??""),d=zn.parse(o??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return tl;t=t.replace(TO,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,y]=(h=kO.exec(t))!==null&&h!==void 0?h:[],b=zn.parse(p??""),w=zn.parse(y??""),S=g==="+"?b.add(w):b.subtract(w);if(S.isNaN())return tl;t=t.replace(kO,S.toString())}return t}var PO=/\(([^()]*)\)/;function lW(e){for(var t=e,n;(n=PO.exec(t))!=null;){var[,r]=n;t=t.replace(PO,GM(r))}return t}function cW(e){var t=e.replace(/\s+/g,"");return t=lW(t),t=GM(t),t}function uW(e){try{return cW(e)}catch{return tl}}function fv(e){var t=uW(e.slice(5,-1));return t===tl?"":t}var dW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fW=["dx","dy","angle","className","breakAll"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D0.apply(null,arguments)}function MO(e,t){if(e==null)return{};var n,r,i=hW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YM=/[ \f\n\r\t\v\u2028\u2029]+/,VM=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];dn(t)||(n?i=t.toString().split(""):i=t.toString().split(YM));var o=i.map(d=>({word:d,width:Gc(d,r).width})),l=n?0:Gc(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},mW=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:d,breakAll:f}=e,h=Ce(o),p=l,g=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((H,re)=>{var{word:B,width:K}=re,I=H[H.length-1];if(I&&(r==null||i||I.width+K+n<Number(r)))I.words.push(B),I.width+=K+n;else{var Y={words:[B],width:K};H.push(Y)}return H},[])},y=g(t),b=$=>$.reduce((F,H)=>F.width>H.width?F:H);if(!h||i)return y;var w=y.length>o||b(y).width>Number(r);if(!w)return y;for(var S="…",j=$=>{var F=p.slice(0,$),H=VM({breakAll:f,style:d,children:F+S}).wordsWithComputedWidth,re=g(H),B=re.length>o||b(re).width>Number(r);return[B,re]},N=0,A=p.length-1,O=0,C;N<=A&&O<=p.length-1;){var T=Math.floor((N+A)/2),P=T-1,[k,D]=j(P),[q]=j(T);if(!k&&!q&&(N=T+1),k&&q&&(A=T-1),!k&&q){C=D;break}O++}return C||y},RO=e=>{var t=dn(e)?[]:e.toString().split(YM);return[{words:t}]},pW=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Ys.isSsr){var d,f,h=VM({breakAll:o,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return RO(r);return mW({breakAll:o,children:r,maxLines:l,style:i},d,f,t,n)}return RO(r)},DO="#808080",fm=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:d="start",verticalAnchor:f="end",fill:h=DO}=e,p=MO(e,dW),g=x.useMemo(()=>pW({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:y,dy:b,angle:w,className:S,breakAll:j}=p,N=MO(p,fW);if(!ca(n)||!ca(r)||g.length===0)return null;var A=n+(Ce(y)?y:0),O=r+(Ce(b)?b:0),C;switch(f){case"start":C=fv("calc(".concat(o,")"));break;case"middle":C=fv("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=fv("calc(".concat(g.length-1," * -").concat(i,")"));break}var T=[];if(l){var P=g[0].width,{width:k}=p;T.push("scale(".concat(Ce(k)?k/P:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(A,", ").concat(O,")")),T.length&&(N.transform=T.join(" ")),x.createElement("text",D0({},en(N,!0),{ref:t,x:A,y:O,className:ot("recharts-text",S),textAnchor:d,fill:h.includes("url")?DO:h}),g.map((D,q)=>{var $=D.words.join(j?"":" ");return x.createElement("tspan",{x:A,dy:q===0?C:i,key:"".concat($,"-").concat(q)},$)}))});fm.displayName="Text";var gW=["labelRef"];function yW(e,t){if(e==null)return{};var n,r,i=vW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function IO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(n),!0).forEach(function(r){bW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bW(e,t,n){return(t=xW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(null,arguments)}var WM=x.createContext(null),wW=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,l=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(WM.Provider,{value:l},o)},XM=()=>{var e=x.useContext(WM),t=Ub();return e||t},SW=x.createContext(null),jW=()=>{var e=x.useContext(SW),t=Ee(UP);return e||t},NW=e=>{var{value:t,formatter:n}=e,r=dn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Xx=e=>e!=null&&typeof e=="function",EW=(e,t)=>{var n=un(t-e),r=Math.min(Math.abs(t-e),360);return n*r},OW=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:y,clockWise:b}=i,w=(h+p)/2,S=EW(g,y),j=S>=0?1:-1,N,A;switch(t){case"insideStart":N=g+j*o,A=b;break;case"insideEnd":N=y-j*o,A=!b;break;case"end":N=y+j*o,A=b;break;default:throw new Error("Unsupported position ".concat(t))}A=S<=0?A:!A;var O=Yt(d,f,w,N),C=Yt(d,f,w,N+(A?1:-1)*359),T="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(C.x,",").concat(C.y),P=dn(e.id)?eu("recharts-radial-line-"):e.id;return x.createElement("text",Ia({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:P,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(P)},n))},AW=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Yt(r,i,l+t,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+l)/2,{x:b,y:w}=Yt(r,i,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},QM=e=>"cx"in e&&Ce(e.cx),CW=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!QM(n)&&(o=n);var{x:l,y:d,width:f,height:h}=t,p=h>=0?1:-1,g=p*r,y=p>0?"end":"start",b=p>0?"start":"end",w=f>=0?1:-1,S=w*r,j=w>0?"end":"start",N=w>0?"start":"end";if(i==="top"){var A={x:l+f/2,y:d-p*r,textAnchor:"middle",verticalAnchor:y};return Ut(Ut({},A),o?{height:Math.max(d-o.y,0),width:f}:{})}if(i==="bottom"){var O={x:l+f/2,y:d+h+g,textAnchor:"middle",verticalAnchor:b};return Ut(Ut({},O),o?{height:Math.max(o.y+o.height-(d+h),0),width:f}:{})}if(i==="left"){var C={x:l-S,y:d+h/2,textAnchor:j,verticalAnchor:"middle"};return Ut(Ut({},C),o?{width:Math.max(C.x-o.x,0),height:h}:{})}if(i==="right"){var T={x:l+f+S,y:d+h/2,textAnchor:N,verticalAnchor:"middle"};return Ut(Ut({},T),o?{width:Math.max(o.x+o.width-T.x,0),height:h}:{})}var P=o?{width:f,height:h}:{};return i==="insideLeft"?Ut({x:l+S,y:d+h/2,textAnchor:N,verticalAnchor:"middle"},P):i==="insideRight"?Ut({x:l+f-S,y:d+h/2,textAnchor:j,verticalAnchor:"middle"},P):i==="insideTop"?Ut({x:l+f/2,y:d+g,textAnchor:"middle",verticalAnchor:b},P):i==="insideBottom"?Ut({x:l+f/2,y:d+h-g,textAnchor:"middle",verticalAnchor:y},P):i==="insideTopLeft"?Ut({x:l+S,y:d+g,textAnchor:N,verticalAnchor:b},P):i==="insideTopRight"?Ut({x:l+f-S,y:d+g,textAnchor:j,verticalAnchor:b},P):i==="insideBottomLeft"?Ut({x:l+S,y:d+h-g,textAnchor:N,verticalAnchor:y},P):i==="insideBottomRight"?Ut({x:l+f-S,y:d+h-g,textAnchor:j,verticalAnchor:y},P):i&&typeof i=="object"&&(Ce(i.x)||Cs(i.x))&&(Ce(i.y)||Cs(i.y))?Ut({x:l+En(i.x,f),y:d+En(i.y,h),textAnchor:"end",verticalAnchor:"end"},P):Ut({x:l+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},TW={offset:5};function Ri(e){var t=kn(e,TW),{viewBox:n,position:r,value:i,children:o,content:l,className:d="",textBreakAll:f,labelRef:h}=t,p=jW(),g=XM(),y=r==="center"?g:p??g,b=n||y;if(!b||dn(i)&&dn(o)&&!x.isValidElement(l)&&typeof l!="function")return null;var w=Ut(Ut({},t),{},{viewBox:b});if(x.isValidElement(l)){var{labelRef:S}=w,j=yW(w,gW);return x.cloneElement(l,j)}var N;if(typeof l=="function"){if(N=x.createElement(l,w),x.isValidElement(N))return N}else N=NW(t);var A=QM(b),O=en(t,!0);if(A&&(r==="insideStart"||r==="insideEnd"||r==="end"))return OW(t,r,N,O,b);var C=A?AW(b,t.offset,t.position):CW(t,b);return x.createElement(fm,Ia({ref:h,className:ot("recharts-label",d)},O,C,{breakAll:f}),N)}Ri.displayName="Label";var kW=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Ri,Ia({key:"label-implicit"},r)):ca(e)?x.createElement(Ri,Ia({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Ri?x.cloneElement(e,Ut({key:"label-implicit"},r)):x.createElement(Ri,Ia({key:"label-implicit",content:e},r)):Xx(e)?x.createElement(Ri,Ia({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Ri,Ia({},e,{key:"label-implicit"},r)):null};function PW(e){var{label:t}=e,n=XM();return kW(t,n)||null}var hv={},mv={},LO;function MW(){return LO||(LO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(mv)),mv}var pv={},UO;function RW(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(pv)),pv}var $O;function DW(){return $O||($O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MW(),n=RW(),r=Ab();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(hv)),hv}var gv,zO;function IW(){return zO||(zO=1,gv=DW().last),gv}var LW=IW();const UW=Vr(LW);var $W=["valueAccessor"],zW=["dataKey","clockWise","id","textBreakAll"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function BO(e,t){if(e==null)return{};var n,r,i=BW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qW=e=>Array.isArray(e.value)?UW(e.value):e.value,JM=x.createContext(void 0),HW=JM.Provider,ZM=x.createContext(void 0),FW=ZM.Provider;function KW(){return x.useContext(JM)}function GW(){return x.useContext(ZM)}function Tf(e){var{valueAccessor:t=qW}=e,n=BO(e,$W),{dataKey:r,clockWise:i,id:o,textBreakAll:l}=n,d=BO(n,zW),f=KW(),h=GW(),p=f||h;return!p||!p.length?null:x.createElement(Fn,{className:"recharts-label-list"},p.map((g,y)=>{var b,w=dn(r)?t(g,y):Ct(g&&g.payload,r),S=dn(o)?{}:{id:"".concat(o,"-").concat(y)};return x.createElement(Ri,bh({},en(g,!0),d,S,{fill:(b=n.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(y),index:y}))}))}Tf.displayName="LabelList";function eR(e){var{label:t}=e;return t?t===!0?x.createElement(Tf,{key:"labelList-implicit"}):x.isValidElement(t)||Xx(t)?x.createElement(Tf,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Tf,bh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var tR=e=>e.graphicalItems.polarItems,YW=ee([Ot,Au],jx),Qx=ee([tR,$t,YW],Ex),VW=ee([Qx],Ox),Jx=ee([VW,fx],Ax),WW=ee([Jx,$t,Qx],Tx),XW=ee([Jx,$t,Qx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=Ct(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ct(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),qO=()=>{},QW=ee([$t,aM,qO,XW,qO,nt,Ot],Px),nR=ee([$t,nt,Jx,WW,Ou,Ot,QW],Mx),JW=ee([nR,$t,Cl],Ix);ee([$t,nR,JW,Ot],Ux);var ZW={radiusAxis:{},angleAxis:{}},rR=lr({name:"polarAxis",initialState:ZW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:rre,removeRadiusAxis:are,addAngleAxis:ire,removeAngleAxis:sre}=rR.actions,eX=rR.reducer;function HO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(n),!0).forEach(function(r){tX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tX(e,t,n){return(t=nX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nX(e){var t=rX(e,"string");return typeof t=="symbol"?t:t+""}function rX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aX=(e,t)=>t,Zx=ee([tR,aX],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),iX=[],e_=(e,t,n)=>(n==null?void 0:n.length)===0?iX:n,aR=ee([fx,Zx,e_],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>FO(FO({},t.presentationProps),o.props))),i!=null)return i}}),sX=ee([aR,Zx,e_],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,l=Ct(r,t.nameKey,t.name),d;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:Fh(l,t.dataKey),color:d,payload:r,type:t.legendType}})}),oX=ee([aR,Zx,e_,tn],(e,t,n,r)=>{if(!(t==null||e==null))return sQ({offset:r,pieSettings:t,displayedData:e,cells:n})}),yv={},KO;function lX(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(yv)),yv}var vv,GO;function cX(){return GO||(GO=1,vv=lX().isPlainObject),vv}var uX=cX();const dX=Vr(uX);function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){fX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fX(e,t,n){return(t=hX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(null,arguments)}var WO=(e,t,n,r,i)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+i),l+="L ".concat(e+n-o/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},pX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gX=e=>{var t=kn(e,pX),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,y=x.useRef(),[b,w]=x.useState(-1),S=x.useRef(i),j=x.useRef(o),N=x.useRef(l),A=x.useRef(n),O=x.useRef(r),C=Xh(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var B=y.current.getTotalLength();B&&w(B)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var T=ot("recharts-trapezoid",d);if(!g)return x.createElement("g",null,x.createElement("path",xh({},en(t,!0),{className:T,d:WO(n,r,i,o,l)})));var P=S.current,k=j.current,D=N.current,q=A.current,$=O.current,F="0px ".concat(b===-1?1:b,"px"),H="".concat(b,"px 0px"),re=Ak(["strokeDasharray"],h,f);return x.createElement(Wh,{animationId:C,key:C,canBegin:b>0,duration:h,easing:f,isActive:g,begin:p},B=>{var K=_n(P,i,B),I=_n(k,o,B),Y=_n(D,l,B),X=_n(q,n,B),de=_n($,r,B);y.current&&(S.current=K,j.current=I,N.current=Y,A.current=X,O.current=de);var ne=B>0?{transition:re,strokeDasharray:H}:{strokeDasharray:F};return x.createElement("path",xh({},en(t,!0),{className:T,d:WO(X,de,K,I,Y),ref:y,style:VO(VO({},ne),t.style)}))})},yX=["option","shapeType","propTransformer","activeClassName","isActive"];function vX(e,t){if(e==null)return{};var n,r,i=bX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){xX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xX(e,t,n){return(t=_X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _X(e){var t=wX(e,"string");return typeof t=="symbol"?t:t+""}function wX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SX(e,t){return _h(_h({},t),e)}function jX(e,t){return e==="symbols"}function QO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(Pk,n);case"trapezoid":return x.createElement(gX,n);case"sector":return x.createElement(Dk,n);case"symbols":if(jX(t))return x.createElement(Nb,n);break;default:return null}}function NX(e){return x.isValidElement(e)?e.props:e}function iR(e){var{option:t,shapeType:n,propTransformer:r=SX,activeClassName:i="recharts-active-shape",isActive:o}=e,l=vX(e,yX),d;if(x.isValidElement(t))d=x.cloneElement(t,_h(_h({},l),NX(t)));else if(typeof t=="function")d=t(l);else if(dX(t)&&typeof t!="boolean"){var f=r(t,l);d=x.createElement(QO,{shapeType:n,elementProps:f})}else{var h=l;d=x.createElement(QO,{shapeType:n,elementProps:h})}return o?x.createElement(Fn,{className:i},d):d}var t_=(e,t)=>{var n=Tt();return(r,i)=>o=>{e==null||e(r,i,o),n(xM({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},n_=e=>{var t=Tt();return(n,r)=>i=>{e==null||e(n,r,i),t(oY())}},r_=(e,t)=>{var n=Tt();return(r,i)=>o=>{e==null||e(r,i,o),n(lY({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function sR(e){var{fn:t,args:n}=e,r=Tt(),i=Tr();return x.useEffect(()=>{if(!i){var o=t(n);return r(aY(o)),()=>{r(iY(o))}}},[t,n,r,i]),null}var oR=()=>{};function EX(e){var{legendPayload:t}=e,n=Tt(),r=Tr();return x.useEffect(()=>r?oR:(n(jk(t)),()=>{n(Nk(t))}),[n,r,t]),null}function OX(e){var{legendPayload:t}=e,n=Tt(),r=Ee(nt);return x.useEffect(()=>r!=="centric"&&r!=="radial"?oR:(n(jk(t)),()=>{n(Nk(t))}),[n,r,t]),null}var bv,AX=()=>{var[e]=x.useState(()=>eu("uid-"));return e},CX=(bv=g4.useId)!==null&&bv!==void 0?bv:AX;function TX(e,t){var n=CX();return t||(e?"".concat(e,"-").concat(n):n)}var kX=x.createContext(void 0),lR=e=>{var{id:t,type:n,children:r}=e,i=TX("recharts-".concat(n),t);return x.createElement(kX.Provider,{value:i},r(i))},PX={cartesianItems:[],polarItems:[]},cR=lr({name:"graphicalItems",initialState:PX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=qa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=qa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=qa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:MX,replaceCartesianGraphicalItem:RX,removeCartesianGraphicalItem:DX,addPolarGraphicalItem:IX,removePolarGraphicalItem:LX}=cR.actions,UX=cR.reducer;function $X(e){var t=Tt(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(MX(e)):n.current!==e&&t(RX({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(DX(n.current)),n.current=null)},[t]),null}function zX(e){var t=Tt();return x.useEffect(()=>(t(IX(e)),()=>{t(LX(e))}),[t,e]),null}var BX=["onMouseEnter","onClick","onMouseLeave"],qX=["id"],HX=["id"];function a_(e,t){if(e==null)return{};var n,r,i=FX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(r){KX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KX(e,t,n){return(t=GX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(null,arguments)}function VX(e){var t=x.useMemo(()=>xb(e.children,Ru),[e.children]),n=Ee(r=>sX(r,e.id,t));return n==null?null:x.createElement(OX,{legendPayload:n})}function WX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:d,hide:f,tooltipType:h}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:Fh(d,t),hide:f,type:h,color:l,unit:""}}}var XX=(e,t)=>e>t?"start":e<t?"end":"middle",QX=(e,t,n)=>En(typeof t=="function"?t(e):t,n,n*.8),JX=(e,t,n)=>{var{top:r,left:i,width:o,height:l}=t,d=pk(o,l),f=i+En(e.cx,o,o/2),h=r+En(e.cy,l,l/2),p=En(e.innerRadius,d,0),g=QX(n,e.outerRadius,d),y=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:y}},ZX=(e,t)=>{var n=un(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function eQ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var tQ=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ot("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(Ok,zi({},t,{type:"linear",className:n}))},nQ=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=ot("recharts-pie-label-text",eQ(e));return x.createElement(fm,zi({},t,{alignmentBaseline:"middle",className:i}),r)};function rQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!t)return null;var d=Fi(n),f=en(i,!1),h=en(o,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((y,b)=>{var w=(y.startAngle+y.endAngle)/2,S=Yt(y.cx,y.cy,y.outerRadius+p,w),j=jt(jt(jt(jt({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:XX(S.x,y.cx)},S),N=jt(jt(jt(jt({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Yt(y.cx,y.cy,y.outerRadius,w),S],key:"line"});return x.createElement(Fn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},o&&tQ(o,N),nQ(i,j,Ct(y,l)))});return x.createElement(Fn,{className:"recharts-pie-labels"},g)}function aQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(eR,{label:i}):x.createElement(rQ,{sectors:t,props:n,showLabels:r})}function iQ(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=Ee(qs),{onMouseEnter:l,onClick:d,onMouseLeave:f}=i,h=a_(i,BX),p=t_(l,i.dataKey),g=n_(f),y=r_(d,i.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((b,w)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&t.length!==1)return null;var S=n&&String(w)===o,j=o?r:null,N=S?n:j,A=jt(jt({},b),{},{stroke:b.stroke,tabIndex:-1,[xk]:w,[_k]:i.dataKey});return x.createElement(Fn,zi({tabIndex:-1,className:"recharts-pie-sector"},bu(h,b,w),{onMouseEnter:p(b,w),onMouseLeave:g(b,w),onClick:y(b,w),key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(w)}),x.createElement(iR,zi({option:N,isActive:S,shapeType:"sector"},A)))}))}function sQ(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,y=Math.abs(n.minAngle),b=ZX(d,f),w=Math.abs(b),S=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(P=>Ct(P,h,0)!==0).length,N=(w>=360?j:j-1)*S,A=w-j*y-N,O=r.reduce((P,k)=>{var D=Ct(k,h,0);return P+(Ce(D)?D:0)},0),C;if(O>0){var T;C=r.map((P,k)=>{var D=Ct(P,h,0),q=Ct(P,p,k),$=JX(n,o,P),F=(Ce(D)?D:0)/O,H,re=jt(jt({},P),i&&i[k]&&i[k].props);k?H=T.endAngle+un(b)*S*(D!==0?1:0):H=d;var B=H+un(b)*((D!==0?y:0)+F*A),K=(H+B)/2,I=($.innerRadius+$.outerRadius)/2,Y=[{name:q,value:D,payload:re,dataKey:h,type:g}],X=Yt($.cx,$.cy,I,K);return T=jt(jt(jt(jt({},n.presentationProps),{},{percent:F,cornerRadius:l,name:q,tooltipPayload:Y,midAngle:K,middleRadius:I,tooltipPosition:X},re),$),{},{value:D,startAngle:H,endAngle:B,payload:re,paddingAngle:un(b)*S}),T})}return C}function oQ(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return x.createElement(FW,{value:t?i:void 0},r)}function lQ(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=t,y=Xh(t,"recharts-pie-"),b=n.current,[w,S]=x.useState(!1),j=x.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),N=x.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return x.createElement(oQ,{showLabels:!w,sectors:r},x.createElement(Wh,{animationId:y,begin:o,duration:l,isActive:i,easing:d,onAnimationStart:N,onAnimationEnd:j,key:y},A=>{var O=[],C=r&&r[0],T=C==null?void 0:C.startAngle;return r==null||r.forEach((P,k)=>{var D=b&&b[k],q=k>0?Us(P,"paddingAngle",0):0;if(D){var $=_n(D.endAngle-D.startAngle,P.endAngle-P.startAngle,A),F=jt(jt({},P),{},{startAngle:T+q,endAngle:T+$+q});O.push(F),T=F.endAngle}else{var{endAngle:H,startAngle:re}=P,B=_n(0,H-re,A),K=jt(jt({},P),{},{startAngle:T+q,endAngle:T+B+q});O.push(K),T=K.endAngle}}),n.current=O,x.createElement(Fn,null,x.createElement(iQ,{sectors:O,activeShape:f,inactiveShape:h,allOtherPieProps:t}))}),x.createElement(aQ,{showLabels:!w,sectors:r,props:t}),t.children)}var cQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ys.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function uQ(e){var{id:t}=e,n=a_(e,qX),{hide:r,className:i,rootTabIndex:o}=e,l=x.useMemo(()=>xb(e.children,Ru),[e.children]),d=Ee(p=>oX(p,t,l)),f=x.useRef(null),h=ot("recharts-pie",i);return r||d==null?(f.current=null,x.createElement(Fn,{tabIndex:o,className:h})):x.createElement(x.Fragment,null,x.createElement(sR,{fn:WX,args:jt(jt({},e),{},{sectors:d})}),x.createElement(Fn,{tabIndex:o,className:h},x.createElement(lQ,{props:jt(jt({},n),{},{sectors:d}),previousSectorsRef:f})))}function uR(e){var t=kn(e,cQ),{id:n}=t,r=a_(t,HX),i=Fi(r);return x.createElement(lR,{id:n,type:"pie"},o=>x.createElement(x.Fragment,null,x.createElement(zX,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(VX,zi({},r,{id:o})),x.createElement(uQ,zi({},r,{id:o}))))}uR.displayName="Pie";function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){dQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dQ(e,t,n){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mQ={xAxis:{},yAxis:{},zAxis:{}},dR=lr({name:"cartesianAxis",initialState:mQ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=eA(eA({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:pQ,removeXAxis:gQ,addYAxis:yQ,removeYAxis:vQ,addZAxis:ore,removeZAxis:lre,updateYAxisWidth:bQ}=dR.actions,xQ=dR.reducer,_Q=ee([tn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),wQ=ee([_Q,Qa,Ja],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),fR=()=>Ee(wQ),SQ="Invariant failed";function jQ(e,t){throw new Error(SQ)}var NQ=["x","y"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){EQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EQ(e,t,n){return(t=OQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CQ(e,t){if(e==null)return{};var n,r,i=TQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kQ(e,t){var{x:n,y:r}=e,i=CQ(e,NQ),o="".concat(n),l=parseInt(o,10),d="".concat(r),f=parseInt(d,10),h="".concat(t.height||i.height),p=parseInt(h,10),g="".concat(t.width||i.width),y=parseInt(g,10);return Dc(Dc(Dc(Dc(Dc({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function i_(e){return x.createElement(iR,I0({shapeType:"rectangle",propTransformer:kQ,activeClassName:"recharts-active-bar"},e))}var PQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ce(t))return t;var o=Ce(r)||dn(r);return o?t(r,i):(o||jQ(),n)}},MQ={},hR=lr({name:"errorBars",initialState:MQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:cre,replaceErrorBar:ure,removeErrorBar:dre}=hR.actions,RQ=hR.reducer,DQ=["children"];function IQ(e,t){if(e==null)return{};var n,r,i=LQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$Q=x.createContext(UQ);function zQ(e){var{children:t}=e,n=IQ(e,DQ);return x.createElement($Q.Provider,{value:n},t)}function mR(e,t){var n,r,i=Ee(h=>ei(h,e)),o=Ee(h=>ti(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:er.allowDataOverflow,d=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:tr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function BQ(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=fR(),{needClipX:o,needClipY:l,needClip:d}=mR(t,n);if(!d)return null;var{x:f,y:h,width:p,height:g}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:o?f:f-p/2,y:l?h:h-g/2,width:o?p:p*2,height:l?g:g*2}))}var qQ=["onMouseEnter","onMouseLeave","onClick"],HQ=["value","background","tooltipPosition"],FQ=["id"],KQ=["onMouseEnter","onClick","onMouseLeave"];function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi.apply(null,arguments)}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){GQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GQ(e,t,n){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(e,t){if(e==null)return{};var n,r,i=WQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Fh(n,t),payload:e}]};function QQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Fh(o,t),hide:l,type:e.tooltipType,color:e.fill,unit:d}}}function JQ(e){var t=Ee(qs),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=o,h=wh(o,qQ),p=t_(l,r),g=n_(d),y=r_(f,r);if(!i||n==null)return null;var b=en(i,!1);return x.createElement(x.Fragment,null,n.map((w,S)=>{var{value:j,background:N,tooltipPosition:A}=w,O=wh(w,HQ);if(!N)return null;var C=p(w,S),T=g(w,S),P=y(w,S),k=Cn(Cn(Cn(Cn(Cn({option:i,isActive:String(S)===t},O),{},{fill:"#eee"},N),b),bu(h,w,S)),{},{onMouseEnter:C,onMouseLeave:T,onClick:P,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return x.createElement(i_,Bi({key:"background-bar-".concat(k.index)},k))}))}function ZQ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return Cn(Cn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return x.createElement(HW,{value:t?i:void 0},n)}function eJ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,d=Ee(qs),f=Ee(MM),h=n&&String(o)===d&&(f==null||l===f),p=h?n:t;return x.createElement(i_,Bi({},r,i,{isActive:h,option:p,index:o,dataKey:l}))}function tJ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return x.createElement(i_,Bi({},n,r,{isActive:!1,option:t,index:i,dataKey:o}))}function nJ(e){var{data:t,props:n}=e,r=Fi(n),{id:i}=r,o=wh(r,FQ),{shape:l,dataKey:d,activeBar:f}=n,{onMouseEnter:h,onClick:p,onMouseLeave:g}=n,y=wh(n,KQ),b=t_(h,d),w=n_(g),S=r_(p,d);return t?x.createElement(x.Fragment,null,t.map((j,N)=>x.createElement(Fn,Bi({className:"recharts-bar-rectangle"},bu(y,j,N),{onMouseEnter:b(j,N),onMouseLeave:w(j,N),onClick:S(j,N),key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(N)}),f?x.createElement(eJ,{shape:l,activeBar:f,baseProps:o,entry:j,index:N,dataKey:d}):x.createElement(tJ,{shape:l,baseProps:o,entry:j,index:N,dataKey:d})))):null}function rJ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=n.current,y=Xh(t,"recharts-bar-"),[b,w]=x.useState(!1),S=!b,j=x.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),N=x.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return x.createElement(ZQ,{showLabels:S,rects:r},x.createElement(Wh,{animationId:y,begin:l,duration:d,isActive:o,easing:f,onAnimationEnd:j,onAnimationStart:N,key:y},A=>{var O=A===1?r:r==null?void 0:r.map((C,T)=>{var P=g&&g[T];if(P)return Cn(Cn({},C),{},{x:_n(P.x,C.x,A),y:_n(P.y,C.y,A),width:_n(P.width,C.width,A),height:_n(P.height,C.height,A)});if(i==="horizontal"){var k=_n(0,C.height,A);return Cn(Cn({},C),{},{y:C.y+C.height-k,height:k})}var D=_n(0,C.width,A);return Cn(Cn({},C),{},{width:D})});return A>0&&(n.current=O??null),O==null?null:x.createElement(Fn,null,x.createElement(nJ,{props:t,data:O}))}),x.createElement(eR,{label:t.label}),t.children)}function aJ(e){var t=x.useRef(null);return x.createElement(rJ,{previousRectanglesRef:t,props:e})}var pR=0,iJ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ct(e,t)}};class sJ extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||n==null)return null;var p=ot("recharts-bar",i),g=h;return x.createElement(Fn,{className:p,id:h},d&&x.createElement("defs",null,x.createElement(BQ,{clipPathId:g,xAxisId:o,yAxisId:l})),x.createElement(Fn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},x.createElement(JQ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),x.createElement(aJ,this.props)))}}var oJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ys.isSsr,legendType:"rect",minPointSize:pR,xAxisId:0,yAxisId:0};function lJ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=mR(t,n),y=Bb(),b=Tr(),w=xb(e.children,Ru),S=Ee(A=>IJ(A,t,n,b,e.id,w));if(y!=="vertical"&&y!=="horizontal")return null;var j,N=S==null?void 0:S[0];return N==null||N.height==null||N.width==null?j=0:j=y==="vertical"?N.height/2:N.width/2,x.createElement(zQ,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:iJ,errorBarOffset:j},x.createElement(sJ,Bi({},e,{layout:y,needClip:g,data:S,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function cJ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:y,cells:b,parentViewBox:w}=e,S=t==="horizontal"?d:l,j=p?S.scale.domain():null,N=S7({numericAxis:S});return g.map((A,O)=>{var C,T,P,k,D,q;p?C=y7(p[O],j):(C=Ct(A,n),Array.isArray(C)||(C=[N,C]));var $=PQ(r,pR)(C[1],O);if(t==="horizontal"){var F,[H,re]=[d.scale(C[0]),d.scale(C[1])];T=BN({axis:l,ticks:f,bandSize:o,offset:i.offset,entry:A,index:O}),P=(F=re??H)!==null&&F!==void 0?F:void 0,k=i.size;var B=H-re;if(D=ir(B)?0:B,q={x:T,y:y.top,width:k,height:y.height},Math.abs($)>0&&Math.abs(D)<Math.abs($)){var K=un(D||$)*(Math.abs($)-Math.abs(D));P-=K,D+=K}}else{var[I,Y]=[l.scale(C[0]),l.scale(C[1])];if(T=I,P=BN({axis:d,ticks:h,bandSize:o,offset:i.offset,entry:A,index:O}),k=Y-I,D=i.size,q={x:y.left,y:P,width:y.width,height:D},Math.abs($)>0&&Math.abs(k)<Math.abs($)){var X=un(k||$)*(Math.abs($)-Math.abs(k));k+=X}}if(T==null||P==null||k==null||D==null)return null;var de=Cn(Cn({},A),{},{x:T,y:P,width:k,height:D,value:p?C:C[1],payload:A,background:q,tooltipPosition:{x:T+k/2,y:P+D/2},parentViewBox:w},b&&b[O]&&b[O].props);return de}).filter(Boolean)}function uJ(e){var t=kn(e,oJ),n=Tr();return x.createElement(lR,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(EX,{legendPayload:XQ(t)}),x.createElement(sR,{fn:QQ,args:t}),x.createElement($X,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:w7(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(lJ,Bi({},t,{id:r}))))}var L0=x.memo(uJ);L0.displayName="Bar";function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){dJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mJ=(e,t)=>t,pJ=(e,t,n)=>n,gJ=(e,t,n,r)=>r,yJ=(e,t,n,r,i)=>i,Du=ee([Nx,yJ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),vJ=ee([Du],e=>e==null?void 0:e.maxBarSize),bJ=(e,t,n,r,i,o)=>o,aA=(e,t,n)=>{var r=n??e;if(!dn(r))return En(r,t,0)},xJ=ee([nt,Nx,mJ,pJ,gJ],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),_J=(e,t,n,r)=>{var i=nt(e);return i==="horizontal"?T0(e,"yAxis",n,r):T0(e,"xAxis",t,r)},wJ=(e,t,n)=>{var r=nt(e);return r==="horizontal"?aO(e,"xAxis",t):aO(e,"yAxis",n)},SJ=(e,t,n)=>{var r={},i=e.filter(sm),o=e.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,g]=h,y=g.map(w=>w.dataKey),b=aA(t,n,g[0].barSize);return{stackId:p,dataKeys:y,barSize:b}}),f=o.map(h=>{var p=[h.dataKey].filter(y=>y!=null),g=aA(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},jJ=ee([xJ,rG,wJ],SJ),NJ=(e,t,n,r,i)=>{var o,l,d=Du(e,t,n,r,i);if(d!=null){var f=nt(e),h=kP(e),{maxBarSize:p}=d,g=dn(p)?h:p,y,b;return f==="horizontal"?(y=gl(e,"xAxis",t,r),b=pl(e,"xAxis",t,r)):(y=gl(e,"yAxis",n,r),b=pl(e,"yAxis",n,r)),(o=(l=Ib(y,b,!0))!==null&&l!==void 0?l:g)!==null&&o!==void 0?o:0}},gR=(e,t,n,r)=>{var i=nt(e),o,l;return i==="horizontal"?(o=gl(e,"xAxis",t,r),l=pl(e,"xAxis",t,r)):(o=gl(e,"yAxis",n,r),l=pl(e,"yAxis",n,r)),Ib(o,l)};function EJ(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=En(e,n,0,!0),d,f=[];if(or(r[0].barSize)){var h=!1,p=n/o,g=r.reduce((N,A)=>N+(A.barSize||0),0);g+=(o-1)*l,g>=n&&(g-=(o-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=o*p);var y=(n-g)/2>>0,b={offset:y-l,size:0};d=r.reduce((N,A)=>{var O,C={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:b.offset+b.size+l,size:h?p:(O=A.barSize)!==null&&O!==void 0?O:0}},T=[...N,C];return b=T[T.length-1].position,T},f)}else{var w=En(t,n,0,!0);n-2*w-(o-1)*l<=0&&(l=0);var S=(n-2*w-(o-1)*l)/o;S>1&&(S>>=0);var j=or(i)?Math.min(S,i):S;d=r.reduce((N,A,O)=>[...N,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:w+(S+l)*O+(S-j)/2,size:j}}],f)}return d}}var OJ=(e,t,n,r,i,o,l)=>{var d=dn(l)?t:l,f=EJ(n,r,i!==o?i:o,e,d);return i!==o&&f!=null&&(f=f.map(h=>yf(yf({},h),{},{position:yf(yf({},h.position),{},{offset:h.position.offset-i/2})}))),f},AJ=ee([jJ,kP,nG,PP,NJ,gR,vJ],OJ),CJ=(e,t,n,r)=>gl(e,"xAxis",t,r),TJ=(e,t,n,r)=>gl(e,"yAxis",n,r),kJ=(e,t,n,r)=>pl(e,"xAxis",t,r),PJ=(e,t,n,r)=>pl(e,"yAxis",n,r),MJ=ee([AJ,Du],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),RJ=(e,t)=>{var n=wx(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},DJ=ee([_J,Du],RJ),IJ=ee([tn,Lb,CJ,TJ,kJ,PJ,MJ,nt,hx,gR,DJ,Du,bJ],(e,t,n,r,i,o,l,d,f,h,p,g,y)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:S}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||o==null||h==null)){var{data:j}=g,N;if(j!=null&&j.length>0?N=j:N=b==null?void 0:b.slice(w,S+1),N!=null)return cJ({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:p,displayedData:N,offset:e,cells:y})}}),yR=e=>{var{chartData:t}=e,n=Tt(),r=Tr();return x.useEffect(()=>r?()=>{}:(n(mO(t)),()=>{n(mO(void 0))}),[t,n,r]),null},iA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vR=lr({name:"brush",initialState:iA,reducers:{setBrushSettings(e,t){return t.payload==null?iA:t.payload}}}),{setBrushSettings:fre}=vR.actions,LJ=vR.reducer;function UJ(e,t,n){return(t=$J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $J(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class s_{static create(t){return new s_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}UJ(s_,"EPS",1e-4);function BJ(e){return(e%180+180)%180}var qJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=BJ(i),l=o*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},HJ={dots:[],areas:[],lines:[]},bR=lr({name:"referenceElements",initialState:HJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=qa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=qa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=qa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:hre,removeDot:mre,addArea:pre,removeArea:gre,addLine:yre,removeLine:vre}=bR.actions,FJ=bR.reducer,KJ=x.createContext(void 0),GJ=e=>{var{children:t}=e,[n]=x.useState("".concat(eu("recharts"),"-clip")),r=fR();if(r==null)return null;var{x:i,y:o,width:l,height:d}=r;return x.createElement(KJ.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:o,height:d,width:l}))),t)};function yl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function xR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function YJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return qJ(r,n)}function VJ(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:d}=e;return t===1?{start:r?i:o,end:r?i+l:o+d}:{start:r?i+l:o+d,end:r?i:o}}function Sh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function WJ(e,t){return xR(e,t+1)}function XJ(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:xR(r,h)};var S=f,j,N=()=>(j===void 0&&(j=n(w,S)),j),A=w.coordinate,O=f===0||Sh(e,A,N,p,d);O||(f=0,p=l,h+=1),O&&(p=A+e*(N()/2+i),f+=h)},y;h<=o.length;)if(y=g(),y)return y.v;return[]}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){QJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QJ(e,t,n){return(t=JJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eZ(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:d}=t,{end:f}=t,h=function(y){var b=o[y],w,S=()=>(w===void 0&&(w=n(b,y)),w);if(y===l-1){var j=e*(b.coordinate+e*S()/2-f);o[y]=b=jn(jn({},b),{},{tickCoord:j>0?b.coordinate-j*e:b.coordinate})}else o[y]=b=jn(jn({},b),{},{tickCoord:b.coordinate});var N=Sh(e,b.tickCoord,S,d,f);N&&(f=b.tickCoord-e*(S()/2+i),o[y]=jn(jn({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return o}function tZ(e,t,n,r,i,o){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=t;if(o){var p=r[d-1],g=n(p,d-1),y=e*(p.coordinate+e*g/2-h);l[d-1]=p=jn(jn({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var b=Sh(e,p.tickCoord,()=>g,f,h);b&&(h=p.tickCoord-e*(g/2+i),l[d-1]=jn(jn({},p),{},{isShow:!0}))}for(var w=o?d-1:d,S=function(A){var O=l[A],C,T=()=>(C===void 0&&(C=n(O,A)),C);if(A===0){var P=e*(O.coordinate-e*T()/2-f);l[A]=O=jn(jn({},O),{},{tickCoord:P<0?O.coordinate-P*e:O.coordinate})}else l[A]=O=jn(jn({},O),{},{tickCoord:O.coordinate});var k=Sh(e,O.tickCoord,T,f,h);k&&(f=O.tickCoord+e*(T()/2+i),l[A]=jn(jn({},O),{},{isShow:!0}))},j=0;j<w;j++)S(j);return l}function o_(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(Ce(f)||Ys.isSsr){var y;return(y=WJ(i,Ce(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",S=p&&w==="width"?Gc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(O,C)=>{var T=typeof h=="function"?h(O.value,C):O.value;return w==="width"?YJ(Gc(T,{fontSize:t,letterSpacing:n}),S,g):Gc(T,{fontSize:t,letterSpacing:n})[w]},N=i.length>=2?un(i[1].coordinate-i[0].coordinate):1,A=VJ(o,N,w);return f==="equidistantPreserveStart"?XJ(N,A,j,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=tZ(N,A,j,i,l,f==="preserveStartEnd"):b=eZ(N,A,j,i,l),b.filter(O=>O.isShow))}var nZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){t.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+o,h=l+f+d+(n?r:0);return Math.round(h)}return 0},rZ=["axisLine","width","height","className","hide","ticks"],aZ=["viewBox"],iZ=["viewBox"];function U0(e,t){if(e==null)return{};var n,r,i=sZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(null,arguments)}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){oZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oZ(e,t,n){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l_={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function uZ(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=Zt(Zt(Zt({},f),en(d,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);h=Zt(Zt({},h),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);h=Zt(Zt({},h),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return x.createElement("line",Hs({},h,{className:ot("recharts-cartesian-axis-line",Us(d,"className"))}))}function dZ(e,t,n,r,i,o,l,d,f){var h,p,g,y,b,w,S=d?-1:1,j=e.tickSize||l,N=Ce(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=p=e.coordinate,y=n+ +!d*i,g=y-S*j,w=g-S*f,b=N;break;case"left":g=y=e.coordinate,p=t+ +!d*r,h=p-S*j,b=h-S*f,w=N;break;case"right":g=y=e.coordinate,p=t+ +d*r,h=p+S*j,b=h+S*f,w=N;break;default:h=p=e.coordinate,y=n+ +d*i,g=y+S*j,w=g+S*f,b=N;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:b,y:w}}}function fZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function hZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function mZ(e){var{option:t,tickProps:n,value:r}=e,i,o=ot(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Zt(Zt({},n),{},{className:o}));else if(typeof t=="function")i=t(Zt(Zt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ot(l,t==null?void 0:t.className)),i=x.createElement(fm,Hs({},n,{className:l}),r)}return i}function pZ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:l,padding:d,tickTextProps:f,orientation:h,mirror:p,x:g,y,width:b,height:w,tickSize:S,tickMargin:j,fontSize:N,letterSpacing:A,getTicksConfig:O,events:C}=e,T=o_(Zt(Zt({},O),{},{ticks:t}),N,A),P=fZ(h,p),k=hZ(h,p),D=Fi(O),q=en(n,!1),$=Zt(Zt({},D),{},{fill:"none"},en(r,!1)),F=T.map((H,re)=>{var{line:B,tick:K}=dZ(H,g,y,b,w,h,S,p,j),I=Zt(Zt(Zt(Zt({textAnchor:P,verticalAnchor:k},D),{},{stroke:"none",fill:i},q),K),{},{index:re,payload:H,visibleTicksCount:T.length,tickFormatter:o,padding:d},f);return x.createElement(Fn,Hs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},bu(C,H,re)),r&&x.createElement("line",Hs({},$,B,{className:ot("recharts-cartesian-axis-tick-line",Us(r,"className"))})),n&&x.createElement(mZ,{option:n,tickProps:I,value:"".concat(typeof o=="function"?o(H.value,re):H.value).concat(l||"")}))});return F.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var gZ=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:d}=e,f=U0(e,rZ),[h,p]=x.useState(""),[g,y]=x.useState(""),b=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return nZ({ticks:b.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=Array.from(j);var N=j[0];if(N){var A=window.getComputedStyle(N),O=A.fontSize,C=A.letterSpacing;(O!==h||C!==g)&&(p(O),y(C))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Fn,{className:ot("recharts-cartesian-axis",o),ref:w},x.createElement(uZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Fi(e)}),x.createElement(pZ,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:e,events:f}),x.createElement(wW,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(PW,{label:e.label}),e.children))}),yZ=x.memo(gZ,(e,t)=>{var{viewBox:n}=e,r=U0(e,aZ),{viewBox:i}=t,o=U0(t,iZ);return yl(n,i)&&yl(r,o)}),c_=x.forwardRef((e,t)=>{var n=kn(e,l_);return x.createElement(yZ,Hs({},n,{ref:t}))});c_.displayName="CartesianAxis";var vZ=["x1","y1","x2","y2","key"],bZ=["offset"],xZ=["xAxisId","yAxisId"],_Z=["xAxisId","yAxisId"];function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){wZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wZ(e,t,n){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ps.apply(null,arguments)}function jh(e,t){if(e==null)return{};var n,r,i=NZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:d}=e;return x.createElement("rect",{x:r,y:i,ry:d,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _R(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:l,key:d}=t,f=jh(t,vZ),h=Fi(f),{offset:p}=h,g=jh(h,bZ);n=x.createElement("line",Ps({},g,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:d}))}return n}function OZ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,d=jh(e,xZ),f=i.map((h,p)=>{var g=Nn(Nn({},d),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return _R(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function AZ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,d=jh(e,_Z),f=i.map((h,p)=>{var g=Nn(Nn({},d),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return _R(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function CZ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var b=!h[y+1],w=b?i+l-g:h[y+1]-g;if(w<=0)return null;var S=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:w,width:o,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function TZ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==h[0]&&h.unshift(0);var p=h.map((g,y)=>{var b=!h[y+1],w=b?i+l-g:h[y+1]-g;if(w<=0)return null;var S=y%n.length;return x.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:w,height:d,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var kZ=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return yk(o_(Nn(Nn(Nn({},l_),n),{},{ticks:vk(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},PZ=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return yk(o_(Nn(Nn(Nn({},l_),n),{},{ticks:vk(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},MZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function wR(e){var t=$b(),n=zb(),r=wk(),i=Nn(Nn({},kn(e,MZ)),{},{x:Ce(e.x)?e.x:r.left,y:Ce(e.y)?e.y:r.top,width:Ce(e.width)?e.width:r.width,height:Ce(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:b}=i,w=Tr(),S=Ee(q=>iO(q,"xAxis",o,w)),j=Ee(q=>iO(q,"yAxis",l,w));if(!Ce(h)||h<=0||!Ce(p)||p<=0||!Ce(d)||d!==+d||!Ce(f)||f!==+f)return null;var N=i.verticalCoordinatesGenerator||kZ,A=i.horizontalCoordinatesGenerator||PZ,{horizontalPoints:O,verticalPoints:C}=i;if((!O||!O.length)&&typeof A=="function"){var T=y&&y.length,P=A({yAxis:j?Nn(Nn({},j),{},{ticks:T?y:j.ticks}):void 0,width:t,height:n,offset:r},T?!0:g);Kc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(O=P)}if((!C||!C.length)&&typeof N=="function"){var k=b&&b.length,D=N({xAxis:S?Nn(Nn({},S),{},{ticks:k?b:S.ticks}):void 0,width:t,height:n,offset:r},k?!0:g);Kc(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(EZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(CZ,Ps({},i,{horizontalPoints:O})),x.createElement(TZ,Ps({},i,{verticalPoints:C})),x.createElement(OZ,Ps({},i,{offset:r,horizontalPoints:O,xAxis:S,yAxis:j})),x.createElement(AZ,Ps({},i,{offset:r,verticalPoints:C,xAxis:S,yAxis:j})))}wR.displayName="CartesianGrid";var RZ=["dangerouslySetInnerHTML","ticks"],DZ=["id"],IZ=["domain"],LZ=["domain"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function Nh(e,t){if(e==null)return{};var n,r,i=UZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $Z(e){var t=Tt();return x.useEffect(()=>(t(pQ(e)),()=>{t(gQ(e))}),[e,t]),null}var zZ=e=>{var{xAxisId:t,className:n}=e,r=Ee(Lb),i=Tr(),o="xAxis",l=Ee(j=>Tl(j,o,t,i)),d=Ee(j=>mM(j,o,t,i)),f=Ee(j=>uM(j,t)),h=Ee(j=>VG(j,t)),p=Ee(j=>BP(j,t));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,b=Nh(e,RZ),{id:w}=p,S=Nh(p,DZ);return x.createElement(c_,$0({},b,S,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:ot("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:d}))},BZ={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,height:er.height,hide:!1,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tickCount:er.tickCount,type:er.type,xAxisId:0},qZ=e=>{var t,n,r,i,o,l=kn(e,BZ);return x.createElement(x.Fragment,null,x.createElement($Z,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),x.createElement(zZ,l))},HZ=(e,t)=>{var{domain:n}=e,r=Nh(e,IZ),{domain:i}=t,o=Nh(t,LZ);return yl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:yl({domain:n},{domain:i}):!1},SR=x.memo(qZ,HZ);SR.displayName="XAxis";var FZ=["dangerouslySetInnerHTML","ticks"],KZ=["id"],GZ=["domain"],YZ=["domain"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(null,arguments)}function Eh(e,t){if(e==null)return{};var n,r,i=VZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WZ(e){var t=Tt();return x.useEffect(()=>(t(yQ(e)),()=>{t(vQ(e))}),[e,t]),null}var XZ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=x.useRef(null),l=x.useRef(null),d=Ee(Lb),f=Tr(),h=Tt(),p="yAxis",g=Ee(T=>Tl(T,p,t,f)),y=Ee(T=>dM(T,t)),b=Ee(T=>XG(T,t)),w=Ee(T=>mM(T,p,t,f)),S=Ee(T=>qP(T,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!y||Xx(i)||x.isValidElement(i)||S==null)){var T=o.current;if(T){var P=T.getCalculatedWidth();Math.round(y.width)!==Math.round(P)&&h(bQ({id:t,width:P}))}}},[w,y,h,i,t,r,S]),y==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:j,ticks:N}=e,A=Eh(e,FZ),{id:O}=S,C=Eh(S,KZ);return x.createElement(c_,z0({},A,C,{ref:o,labelRef:l,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:ot("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:w}))},QZ={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,hide:!1,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tickCount:tr.tickCount,type:tr.type,width:tr.width,yAxisId:0},JZ=e=>{var t,n,r,i,o,l=kn(e,QZ);return x.createElement(x.Fragment,null,x.createElement(WZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),x.createElement(XZ,l))},ZZ=(e,t)=>{var{domain:n}=e,r=Eh(e,GZ),{domain:i}=t,o=Eh(t,YZ);return yl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:yl({domain:n},{domain:i}):!1},jR=x.memo(JZ,ZZ);jR.displayName="YAxis";var xv={exports:{}},_v={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function eee(){if(cA)return _v;cA=1;var e=vl();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return _v.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function j(T){if(!N){if(N=!0,A=T,T=g(T),y!==void 0&&w.hasValue){var P=w.value;if(y(P,T))return O=P}return O=T}if(P=O,n(A,T))return P;var k=g(T);return y!==void 0&&y(P,k)?(A=T,P):(A=T,O=k)}var N=!1,A,O,C=p===void 0?null:p;return[function(){return j(h())},C===null?void 0:function(){return j(C())}]},[h,p,g,y]);var S=r(f,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),d(S),S},_v}var uA;function tee(){return uA||(uA=1,xv.exports=eee()),xv.exports}tee();function nee(e){e()}function ree(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nee(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var dA={notify(){},get:()=>[]};function aee(e,t){let n,r=dA,i=0,o=!1;function l(S){p();const j=r.subscribe(S);let N=!1;return()=>{N||(N=!0,j(),g())}}function d(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return o}function p(){i++,n||(n=e.subscribe(f),r=ree())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=dA)}function y(){o||(o=!0,p())}function b(){o&&(o=!1,g())}const w={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return w}var iee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",see=iee(),oee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lee=oee(),cee=()=>see||lee?x.useLayoutEffect:x.useEffect,uee=cee(),wv=Symbol.for("react-redux-context"),Sv=typeof globalThis<"u"?globalThis:{};function dee(){if(!x.createContext)return{};const e=Sv[wv]??(Sv[wv]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var fee=dee();function hee(e){const{children:t,context:n,serverState:r,store:i}=e,o=x.useMemo(()=>{const f=aee(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);uee(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const d=n||fee;return x.createElement(d.Provider,{value:o},t)}var mee=hee,pee=(e,t)=>t,u_=ee([pee,nt,UP,rn,CM,ni,eV,tn],iV),d_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},NR=Or("mouseClick"),ER=_u();ER.startListening({actionCreator:NR,effect:(e,t)=>{var n=e.payload,r=u_(t.getState(),d_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(cY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var B0=Or("mouseMove"),OR=_u();OR.startListening({actionCreator:B0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Bx(r,r.tooltip.settings.shared),o=u_(r,d_(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(wM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(_M()))}});var fA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},AR=lr({name:"rootProps",initialState:fA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:fA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),gee=AR.reducer,{updateOptions:yee}=AR.actions,CR=lr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:vee}=CR.actions,bee=CR.reducer,TR=Or("keyDown"),kR=Or("focus"),f_=_u();f_.startListening({actionCreator:TR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(qx(i,Pl(n))),d=ni(n);if(o==="Enter"){var f=vh(n,"axis","hover",String(i.index));t.dispatch(P0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=eY(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,y=l+g*p;if(!(d==null||y>=d.length||y<0)){var b=vh(n,"axis","hover",String(y));t.dispatch(P0({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});f_.startListening({actionCreator:kR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=vh(n,"axis","hover",String(o));t.dispatch(P0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Sr=Or("externalEvent"),PR=_u();PR.startListening({actionCreator:Sr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:KY(n),activeDataKey:MM(n),activeIndex:qs(n),activeLabel:PM(n),activeTooltipIndex:qs(n),isTooltipActive:GY(n)};e.payload.handler(r,e.payload.reactEvent)}}});var xee=ee([kl],e=>e.tooltipItemPayloads),_ee=ee([xee,Pu,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),MR=Or("touchMove"),RR=_u();RR.startListening({actionCreator:MR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Bx(r,r.tooltip.settings.shared);if(i==="axis"){var o=u_(r,d_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(wM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(xk),p=(l=f.getAttribute(_k))!==null&&l!==void 0?l:void 0,g=_ee(t.getState(),h,p);t.dispatch(xM({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}});var wee=GT({brush:LJ,cartesianAxis:xQ,chartData:_V,errorBars:RQ,graphicalItems:UX,layout:t7,legend:K7,options:gV,polarAxis:eX,polarOptions:bee,referenceElements:FJ,rootProps:gee,tooltip:uY}),See=function(t){return Eq({reducer:wee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([ER.middleware,OR.middleware,f_.middleware,PR.middleware,RR.middleware]),devTools:Ys.devToolsEnabled})};function DR(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Tr(),o=x.useRef(null);if(i)return n;o.current==null&&(o.current=See(t));var l=Tb;return x.createElement(mee,{context:l,store:o.current},n)}function IR(e){var{layout:t,width:n,height:r,margin:i}=e,o=Tt(),l=Tr();return x.useEffect(()=>{l||(o(Jq(t)),o(Zq({width:n,height:r})),o(Qq(i)))},[o,l,t,n,r,i]),null}function LR(e){var t=Tt();return x.useEffect(()=>{t(yee(e))},[t,e]),null}var jee=["children"];function Nee(e,t){if(e==null)return{};var n,r,i=Eee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oh.apply(null,arguments)}var Oee={width:"100%",height:"100%"},Aee=x.forwardRef((e,t)=>{var n=$b(),r=zb(),i=Ek();if(!ul(n)||!ul(r))return null;var{children:o,otherAttributes:l,title:d,desc:f}=e,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,x.createElement(_b,Oh({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Oee,ref:t}),o)}),Cee=e=>{var{children:t}=e,n=Ee(Vh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return x.createElement(_b,{width:r,height:i,x:l,y:o},t)},hA=x.forwardRef((e,t)=>{var{children:n}=e,r=Nee(e,jee),i=Tr();return i?x.createElement(Cee,null,n):x.createElement(Aee,Oh({ref:t},r),n)});function Tee(){var e=Tt(),[t,n]=x.useState(null),r=Ee(T7);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;or(o)&&o!==r&&e(e7(o))}},[t,e,r]),n}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){Pee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pee(e,t,n){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mee(e){var t=Ree(e,"string");return typeof t=="symbol"?t:t+""}function Ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dee=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:w,onTouchStart:S,style:j,width:N}=e,A=Tt(),[O,C]=x.useState(null),[T,P]=x.useState(null);TV();var k=Tee(),D=x.useCallback(L=>{k(L),typeof t=="function"&&t(L),C(L),P(L)},[k,t,C,P]),q=x.useCallback(L=>{A(NR(L)),A(Sr({handler:o,reactEvent:L}))},[A,o]),$=x.useCallback(L=>{A(B0(L)),A(Sr({handler:h,reactEvent:L}))},[A,h]),F=x.useCallback(L=>{A(_M()),A(Sr({handler:p,reactEvent:L}))},[A,p]),H=x.useCallback(L=>{A(B0(L)),A(Sr({handler:g,reactEvent:L}))},[A,g]),re=x.useCallback(()=>{A(kR())},[A]),B=x.useCallback(L=>{A(TR(L.key))},[A]),K=x.useCallback(L=>{A(Sr({handler:l,reactEvent:L}))},[A,l]),I=x.useCallback(L=>{A(Sr({handler:d,reactEvent:L}))},[A,d]),Y=x.useCallback(L=>{A(Sr({handler:f,reactEvent:L}))},[A,f]),X=x.useCallback(L=>{A(Sr({handler:y,reactEvent:L}))},[A,y]),de=x.useCallback(L=>{A(Sr({handler:S,reactEvent:L}))},[A,S]),ne=x.useCallback(L=>{A(MR(L)),A(Sr({handler:w,reactEvent:L}))},[A,w]),R=x.useCallback(L=>{A(Sr({handler:b,reactEvent:L}))},[A,b]);return x.createElement($M.Provider,{value:O},x.createElement(hT.Provider,{value:T},x.createElement("div",{className:ot("recharts-wrapper",r),style:kee({position:"relative",cursor:"default",width:N,height:i},j),onClick:q,onContextMenu:K,onDoubleClick:I,onFocus:re,onKeyDown:B,onMouseDown:Y,onMouseEnter:$,onMouseLeave:F,onMouseMove:H,onMouseUp:X,onTouchEnd:R,onTouchMove:ne,onTouchStart:de,ref:D},n)))}),Iee=["children","className","width","height","style","compact","title","desc"];function Lee(e,t){if(e==null)return{};var n,r,i=Uee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UR=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:l,compact:d,title:f,desc:h}=e,p=Lee(e,Iee),g=Fi(p);return d?x.createElement(hA,{otherAttributes:g,title:f,desc:h},n):x.createElement(Dee,{className:r,style:l,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(hA,{otherAttributes:g,title:f,desc:h,ref:t},x.createElement(GJ,null,n)))}),$ee=["width","height"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(null,arguments)}function zee(e,t){if(e==null)return{};var n,r,i=Bee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qee={top:5,right:5,bottom:5,left:5},Hee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qee,reverseStackOrder:!1,syncMethod:"index"},Fee=x.forwardRef(function(t,n){var r,i=kn(t.categoricalChartProps,Hee),{width:o,height:l}=i,d=zee(i,$ee);if(!ul(o)||!ul(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:y}=t,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return x.createElement(DR,{preloadedState:{options:b},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:f},x.createElement(yR,{chartData:y.data}),x.createElement(IR,{width:o,height:l,layout:i.layout,margin:i.margin}),x.createElement(LR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(UR,q0({},d,{width:o,height:l,ref:n})))}),Kee=["axis","item"],Gee=x.forwardRef((e,t)=>x.createElement(Fee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Kee,tooltipPayloadSearcher:zM,categoricalChartProps:e,ref:t}));function Yee(e){var t=Tt();return x.useEffect(()=>{t(vee(e))},[t,e]),null}var Vee=["width","height","layout"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(null,arguments)}function Wee(e,t){if(e==null)return{};var n,r,i=Xee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qee={top:5,right:5,bottom:5,left:5},Jee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Zee=x.forwardRef(function(t,n){var r,i=kn(t.categoricalChartProps,Jee),{width:o,height:l,layout:d}=i,f=Wee(i,Vee);if(!ul(o)||!ul(l))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:y}=t,b={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:y,eventEmitter:void 0};return x.createElement(DR,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},x.createElement(yR,{chartData:i.data}),x.createElement(IR,{width:o,height:l,layout:d,margin:i.margin}),x.createElement(LR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(Yee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(UR,H0({width:o,height:l},f,{ref:n})))}),ete=["item"],tte={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},nte=x.forwardRef((e,t)=>{var n=kn(e,tte);return x.createElement(Zee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ete,tooltipPayloadSearcher:zM,categoricalChartProps:n,ref:t})});const pA=[{value:"editor",label:"Éditeur",headerDescription:"Gestion complète",helper:"Créer, modifier et valider le contenu.",tooltip:"Autorise toutes les actions, y compris la modification et la validation des données."},{value:"readonly",label:"Lecture seule",headerDescription:"Consultation",helper:"Visualiser les informations sans modifier.",tooltip:"Permet uniquement de consulter les informations sans pouvoir les modifier."},{value:"none",label:"Aucun",headerDescription:"Accès bloqué",helper:"Masquer totalement la section.",tooltip:"Bloque complètement l’accès à la section ou à la fonctionnalité."}],rte=({permissionKeys:e,permissions:t,onChange:n,getPermissionLabel:r,customPermissions:i,onRemoveCustomPermission:o})=>{const l=x.useMemo(()=>{if(e.length===0)return[];const f=Bn.map(b=>b.permissionKey),h=new Set(f),p=f.filter(b=>e.includes(b)),g=e.filter(b=>!h.has(b)).sort((b,w)=>r(b).localeCompare(r(w),"fr")),y=[];return p.length>0&&y.push({id:"navigation",title:"Navigation principale",keys:p}),g.length>0&&y.push({id:"custom",title:"Permissions personnalisées",keys:g}),y},[r,e]),d=f=>{e.forEach(h=>{(t[h]??"none")!==f&&n(h,f)})};return e.length===0?u.jsx("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-6 text-center text-sm font-medium text-gray-900",children:"Aucune permission disponible pour ce rôle pour le moment."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>d("editor"),title:"Autoriser toutes les sections en mode édition.",children:"Tout autoriser"}),u.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>d("readonly"),title:"Basculer toutes les sections en lecture seule.",children:"Lecture seule partout"}),u.jsx("button",{type:"button",className:"permission-action-button is-danger",onClick:()=>d("none"),title:"Révoquer toutes les permissions.",children:"Tout bloquer"})]}),u.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:u.jsx("div",{className:"max-h-96 overflow-auto",children:u.jsx("div",{className:"min-w-full",children:u.jsxs("div",{className:"grid grid-cols-[minmax(220px,2fr)_repeat(3,minmax(140px,1fr))]",children:[u.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:"Section / permission"}),pA.map(f=>u.jsxs("div",{className:"border-b border-l border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:[u.jsx("div",{children:f.label}),u.jsx("p",{className:"mt-1 text-xs font-medium text-gray-900",children:f.headerDescription})]},f.value)),l.map(f=>u.jsxs(Hn.Fragment,{children:[u.jsx("div",{className:"col-span-4 border-t border-gray-200 bg-gray-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-gray-900",children:f.title}),f.keys.map(h=>{const p=t[h]??"none",g=`permission-${h.replace(/[^a-zA-Z0-9_-]/g,"_")}`,y=h in i;return u.jsxs(Hn.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-100 px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r(h)}),y&&o&&u.jsx("button",{type:"button",onClick:()=>o(h),className:"text-gray-700 transition-colors hover:text-red-600",title:"Supprimer cette permission personnalisée",children:u.jsx(Ks,{className:"h-4 w-4"})})]})}),pA.map(b=>{const w=p===b.value;return u.jsx("div",{className:"border-t border-l border-gray-100 px-4 py-3",children:u.jsxs("label",{className:`permission-choice${w?" is-active":""}`,title:b.tooltip,children:[u.jsx("input",{type:"radio",className:"sr-only",name:g,value:b.value,checked:w,onChange:()=>n(h,b.value)}),u.jsx("span",{className:"permission-choice__label",children:b.label}),u.jsx("span",{className:"permission-choice__helper",children:b.helper})]})},b.value)})]},h)})]},f.id))]})})})})]})},ate=({mode:e,formState:t,onSubmit:n,onInputChange:r,onHomePageChange:i,onPermissionChange:o,onAddCustomPermission:l,onRemoveCustomPermission:d,onCancel:f,isSubmitting:h,hasAccessibleHomePage:p,permissionKeys:g,getPermissionLabel:y,isPermissionGranted:b})=>{const[w,S]=x.useState(!1),[j,N]=x.useState(""),[A,O]=x.useState(""),[C,T]=x.useState(null),P=()=>{S(!1),N(""),O(""),T(null)},k=()=>{const D=j.trim(),q=A.trim();if(!D||!q){T("La clé technique et le nom affiché sont obligatoires.");return}if(g.includes(D)){T("Cette clé de permission existe déjà.");return}l(D,q),P()};return u.jsxs("div",{children:[u.jsx("h4",{className:"mb-4 text-lg font-semibold text-gray-900",children:e==="edit"?"Modifier le rôle sélectionné":"Créer un nouveau rôle"}),u.jsxs("form",{onSubmit:n,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Nom du rôle"}),u.jsx("input",{id:"role-name",name:"name",value:t.name,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. Manager"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-pin",className:"mb-1 block text-sm font-medium text-gray-900",children:"Code PIN d'accès"}),u.jsx("input",{id:"role-pin",name:"pin",value:t.pin,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. 1234"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-home-page",className:"mb-1 block text-sm font-medium text-gray-900",children:"Page d'accueil par défaut"}),u.jsx("select",{id:"role-home-page",name:"homePage",value:t.homePage,onChange:D=>i(D.target.value),disabled:!p,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary disabled:cursor-not-allowed disabled:bg-gray-100",children:Bn.map(D=>{const q=b(t.permissions[D.permissionKey]);return u.jsxs("option",{value:D.permissionKey,disabled:!q,children:[y(D.permissionKey),q?"":" (accès requis)"]},D.permissionKey)})}),p?u.jsx("p",{className:"mt-1 text-xs text-gray-900",children:"Les pages sans permission sont désactivées."}):u.jsx("p",{className:"mt-1 text-xs font-medium text-red-700",children:"Accordez au moins une permission pour choisir une page d'accueil."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-900",children:"Permissions par page"}),u.jsx(rte,{permissionKeys:g,permissions:t.permissions,onChange:o,getPermissionLabel:y,customPermissions:t.customPermissions,onRemoveCustomPermission:d}),u.jsx("div",{className:"mt-4 space-y-3",children:w?u.jsxs("div",{className:"rounded-md border border-dashed border-brand-primary/50 bg-brand-primary/5 p-4",children:[u.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Clé technique"}),u.jsx("input",{type:"text",value:j,onChange:D=>{N(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. /rapports"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Nom affiché"}),u.jsx("input",{type:"text",value:A,onChange:D=>{O(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. Rapports"})]})]}),C&&u.jsx("p",{className:"mt-2 text-xs font-medium text-red-700",children:C}),u.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[u.jsx("button",{type:"button",onClick:P,className:"rounded-md border border-gray-300 px-3 py-1.5 text-xs font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),u.jsx("button",{type:"button",onClick:k,className:"rounded-md bg-brand-primary px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-primary/90",children:"Ajouter"})]})]}):u.jsx("button",{type:"button",onClick:()=>{S(!0),T(null)},className:"text-sm font-semibold text-brand-primary hover:underline",children:"Ajouter une permission"})})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[e==="edit"&&u.jsx("button",{type:"button",onClick:f,className:"rounded-md border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),u.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center rounded-md bg-brand-primary px-4 py-2 text-sm font-semibold text-white shadow hover:bg-brand-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:[u.jsx(c$,{className:"mr-2 h-4 w-4"}),h?"Enregistrement...":e==="edit"?"Mettre à jour":"Créer"]})]})]})]})},ite=({roles:e,isFetching:t,onCreateRole:n,onSelectRole:r,onDeleteRole:i,selectedRoleId:o,isEditing:l,deletingRoleId:d,getPermissionLabel:f})=>{const h=!t&&e.length===0;return u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rôles existants"}),u.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-brand-primary px-2 py-1 text-sm font-medium text-brand-primary transition-colors hover:bg-brand-primary/10",children:[u.jsx(pu,{className:"mr-1.5 h-4 w-4"}),"Nouveau rôle"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto rounded-md border border-gray-200 p-3",children:t?u.jsx("p",{className:"text-sm text-gray-900",children:"Chargement des rôles..."}):h?u.jsx("p",{className:"text-sm text-gray-900",children:"Aucun rôle configuré pour le moment."}):u.jsx("div",{className:"space-y-3",children:e.map(p=>{const g=l&&o===p.id;return u.jsxs("div",{className:`flex items-center justify-between rounded-md border px-3 py-2 transition-colors ${g?"border-brand-primary bg-brand-primary/10":"border-gray-200"}`,children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:p.name}),u.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["PIN : ",p.pin??"—"]}),p.homePage&&u.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["Accueil : ",f(p.homePage)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>r(p),className:"rounded-md border border-gray-300 px-2 py-1 text-xs font-semibold text-gray-900 transition-colors hover:bg-gray-100",children:"Modifier"}),u.jsxs("button",{type:"button",onClick:()=>i(p.id),disabled:d===p.id,className:"inline-flex items-center rounded-md border border-red-300 px-2 py-1 text-xs font-semibold text-red-600 transition-colors hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[u.jsx(Ks,{className:"mr-1 h-3 w-3"}),"Supprimer"]})]})]},p.id)})})})]})};var CA;const ste=((CA=Bn[0])==null?void 0:CA.permissionKey)??"/dashboard",ote=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===DC.ADMIN||t==="administrateur"},_s=(e,t,n={})=>{const r={...e||{}};return delete r[Ms],Bn.forEach(i=>{i.permissionKey in r||(i.permissionKey===Ka&&ote(t)?r[i.permissionKey]="editor":r[i.permissionKey]="none")}),Object.keys(n).forEach(i=>{i in r||(r[i]="none")}),r},ws=e=>{const t=Bn.find(n=>Ss(e[n.permissionKey]));return(t==null?void 0:t.permissionKey)??ste},gA=e=>{const t=_s(void 0,void 0,e);return{name:"",pin:"",permissions:t,homePage:ws(t),customPermissions:{...e}}},Ss=e=>e==="editor"||e==="readonly",lte=({isOpen:e,onClose:t})=>{const{refreshRole:n,role:r}=da(),[i,o]=x.useState([]),[l,d]=x.useState({}),[f,h]=x.useState(()=>gA({})),[p,g]=x.useState("create"),[y,b]=x.useState(!1),[w,S]=x.useState(!1),[j,N]=x.useState(null),[A,O]=x.useState(null),[C,T]=x.useState(null),P=x.useMemo(()=>{const ne=Bn.map(L=>L.permissionKey),R=new Set;return Object.keys(l).forEach(L=>{ne.includes(L)||R.add(L)}),i.forEach(L=>{Object.keys(L.permissions).forEach(W=>{W!==Ms&&(ne.includes(W)||R.add(W))})}),[...ne,...Array.from(R)]},[i,l]),k=x.useMemo(()=>Bn.some(ne=>Ss(f.permissions[ne.permissionKey])),[f.permissions]),D=x.useCallback(async()=>{b(!0);try{const ne=await je.getRoles();o(ne),d(R=>{const L={...R};let W=!1;const se=new Set(Bn.map(oe=>oe.permissionKey));return ne.forEach(oe=>{Object.keys(oe.permissions).forEach(xe=>{xe===Ms||se.has(xe)||xe in L||(L[xe]=xe,W=!0)})}),W?L:R}),T(null)}catch(ne){console.error("Failed to load roles:",ne),T("Impossible de charger les rôles.")}finally{b(!1)}},[]),q=x.useCallback(()=>{g("create"),h(gA(l))},[l]);x.useEffect(()=>{e&&(O(null),T(null),q(),D())},[e,D,q]),x.useEffect(()=>{h(ne=>{const R=ne.homePage;if(Ss(ne.permissions[R]))return ne;const L=ws(ne.permissions);return L===R?ne:{...ne,homePage:L}})},[f.permissions]),x.useEffect(()=>{h(ne=>{const R=ne.customPermissions,L=l,W=Object.keys(R),se=Object.keys(L);if(W.length===se.length&&W.every(Se=>L[Se]===R[Se]))return ne;const oe=_s(ne.permissions,ne.name,L),xe=Ss(oe[ne.homePage])?ne.homePage:ws(oe);return{...ne,customPermissions:{...L},permissions:oe,homePage:xe}})},[l]);const $=x.useCallback(ne=>{const R=Bn.find(L=>L.permissionKey===ne);return R?R.name:l[ne]??ne},[l]);return{roles:i,formState:f,mode:p,isFetching:y,isSubmitting:w,deletingRoleId:j,statusMessage:A,errorMessage:C,permissionKeys:P,hasAccessibleHomePage:k,handleInputChange:ne=>{const{name:R,value:L}=ne.target;h(W=>({...W,[R]:L}))},handlePermissionChange:(ne,R)=>{h(L=>({...L,permissions:{...L.permissions,[ne]:R}}))},handleHomePageChange:ne=>{h(R=>({...R,homePage:ne}))},handleSelectRole:ne=>{const R=new Set(Bn.map(oe=>oe.permissionKey)),L={...l};let W=!1;Object.keys(ne.permissions).forEach(oe=>{oe===Ms||R.has(oe)||oe in L||(L[oe]=oe,W=!0)}),W&&d(L);const se=_s(ne.permissions,ne.name,W?L:l);g("edit"),h({id:ne.id,name:ne.name,pin:ne.pin??"",permissions:se,homePage:ne.homePage??ws(se),customPermissions:{...W?L:l}}),O(null),T(null)},handleDeleteRole:async ne=>{if(confirm("Supprimer ce rôle ? Cette action est irréversible.")){N(ne),O(null),T(null);try{await je.deleteRole(ne),O("Rôle supprimé avec succès."),p==="edit"&&f.id===ne&&q(),await D(),(r==null?void 0:r.id)===ne&&await n()}catch(R){console.error("Failed to delete role:",R),T("Impossible de supprimer le rôle.")}finally{N(null)}}},handleSubmit:async ne=>{if(ne.preventDefault(),T(null),O(null),!f.name.trim()||!f.pin.trim()){T("Le nom et le code PIN sont obligatoires.");return}S(!0);try{const R=_s(f.permissions,f.name,l),L=Ss(R[f.homePage])?f.homePage:ws(R);if(p==="create")await je.createRole({name:f.name.trim(),pin:f.pin.trim(),permissions:R,homePage:L}),O("Rôle créé avec succès."),await D(),await n(),q();else if(f.id){const W=await je.updateRole(f.id,{name:f.name.trim(),pin:f.pin.trim(),permissions:R,homePage:L});O("Rôle mis à jour avec succès.");const se=_s(W.permissions,W.name,l);h({id:W.id,name:W.name,pin:W.pin??"",permissions:se,homePage:W.homePage??ws(se),customPermissions:{...l}}),await D(),(r==null?void 0:r.id)===W.id&&await n()}}catch(R){console.error("Failed to save role:",R),T("Impossible d'enregistrer le rôle.")}finally{S(!1)}},handleClose:()=>{q(),O(null),T(null),t()},resetForm:q,getPermissionLabel:$,isPermissionGranted:Ss,handleAddCustomPermission:(ne,R)=>{Bn.some(L=>L.permissionKey===ne)||d(L=>{if(L[ne]===R)return L;const W={...L,[ne]:R};return h(se=>{const oe=_s(se.permissions,se.name,W);return ne in oe||(oe[ne]="none"),{...se,customPermissions:{...W},permissions:oe}}),W})},handleRemoveCustomPermission:ne=>{Bn.some(R=>R.permissionKey===ne)||d(R=>{if(!(ne in R))return R;const L={...R};return delete L[ne],h(W=>{const{[ne]:se,...oe}=W.customPermissions,xe={...W.permissions};delete xe[ne];const Se=_s(xe,W.name,L),me=Ss(Se[W.homePage])?W.homePage:ws(Se);return{...W,customPermissions:{...oe},permissions:Se,homePage:me}}),L})}}},cte=({isOpen:e,onClose:t})=>{const{roles:n,formState:r,mode:i,isFetching:o,isSubmitting:l,deletingRoleId:d,statusMessage:f,errorMessage:h,permissionKeys:p,hasAccessibleHomePage:g,handleInputChange:y,handlePermissionChange:b,handleHomePageChange:w,handleSelectRole:S,handleDeleteRole:j,handleSubmit:N,handleClose:A,resetForm:O,getPermissionLabel:C,isPermissionGranted:T,handleAddCustomPermission:P,handleRemoveCustomPermission:k}=lte({isOpen:e,onClose:t});return u.jsx(On,{isOpen:e,onClose:A,title:"Gestion des rôles",size:"xl",children:u.jsxs("div",{className:"flex flex-col gap-6",children:[f&&u.jsx("div",{className:"rounded-md bg-green-100 px-4 py-2 text-sm font-medium text-green-900",children:f}),h&&u.jsx("div",{className:"rounded-md bg-red-100 px-4 py-2 text-sm font-medium text-red-900",children:h}),u.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start md:gap-8",children:[u.jsx("div",{className:"md:w-[38%] md:flex-shrink-0 lg:w-[35%]",children:u.jsx(ite,{roles:n,isFetching:o,onCreateRole:O,onSelectRole:S,onDeleteRole:j,selectedRoleId:r.id,isEditing:i==="edit",deletingRoleId:d,getPermissionLabel:C})}),u.jsx("div",{className:"flex-1",children:u.jsx(ate,{mode:i,formState:r,onSubmit:N,onInputChange:y,onHomePageChange:w,onPermissionChange:b,onAddCustomPermission:P,onRemoveCustomPermission:k,onCancel:O,isSubmitting:l,hasAccessibleHomePage:g,permissionKeys:p,getPermissionLabel:C,isPermissionGranted:T})})]})]})})},vf=({title:e,value:t,icon:n})=>u.jsxs("div",{className:"ui-card p-6 flex flex-col items-center justify-center text-center gap-4 min-w-0",children:[u.jsx("div",{className:"p-4 bg-brand-primary/20 text-brand-primary rounded-full",children:n}),u.jsxs("div",{className:"w-full space-y-2",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-500 text-center",children:e}),u.jsx("div",{className:"w-full flex justify-center",children:u.jsx("p",{className:"font-bold text-gray-800 leading-none text-center break-words",style:{fontSize:"clamp(1.25rem, 3vw, 2rem)",letterSpacing:"-0.01em"},children:t})})]})]}),bf=({title:e,value:t,icon:n,onClick:r})=>u.jsxs("div",{className:`ui-card p-4 flex items-center space-x-3 min-w-0 ${r?"cursor-pointer hover:bg-gray-50":""}`,onClick:r,children:[u.jsx("div",{className:"p-3 bg-gray-100 text-gray-600 rounded-lg",children:n}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-gray-500",children:e}),u.jsx("p",{className:"text-lg sm:text-xl xl:text-2xl font-bold text-gray-800 break-words leading-tight",children:t})]})]}),$R={week:{label:"Últimos 7 días",days:7},month:{label:"Últimos 30 días",days:30}},ute=e=>{const{days:t}=$R[e],n=new Date(Fc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t),{start:r,end:n}},dte=()=>{const[e,t]=x.useState(null),[n,r]=x.useState([]),[i,o]=x.useState(!0),[l,d]=x.useState("category"),[f,h]=x.useState(!1),[p,g]=x.useState(!1),[y,b]=x.useState("week");if(x.useEffect(()=>{(async()=>{const{start:A,end:O}=ute(y),C=A.toISOString(),T=O.toISOString();o(!0);try{const[P,k]=await Promise.all([je.getDashboardStats(y),je.getSalesByProduct({start:C,end:T})]);t(P),r(k)}catch(P){console.error("Failed to fetch dashboard stats",P)}finally{o(!1)}})()},[y]),i)return u.jsx("div",{className:"text-gray-800",children:"Cargando datos del panel..."});if(!e)return u.jsx("div",{className:"text-red-500",children:"No fue posible cargar los datos."});const w=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560","#775DD0"],S=l==="category"?e.ventesParCategorie:n,j=S.length>0;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[u.jsx("div",{className:"inline-flex rounded-lg bg-gray-100 p-1 text-sm font-semibold text-gray-600",children:Object.entries($R).map(([N,A])=>{const O=N,C=y===O;return u.jsx("button",{onClick:()=>b(O),className:`px-3 py-1.5 rounded-md transition-colors ${C?"bg-white text-gray-900 shadow":"hover:text-gray-900"}`,children:A.label},O)})}),u.jsxs("button",{onClick:()=>g(!0),className:"ui-btn-primary",children:[u.jsx(g$,{className:"mr-2 h-4 w-4"}),"Gestión de roles"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(vf,{title:`Ventas (${e.periodLabel})`,value:ke(e.ventesPeriode),icon:u.jsx(Jc,{size:28})}),u.jsx(vf,{title:`Beneficio (${e.periodLabel})`,value:ke(e.beneficePeriode),icon:u.jsx(Jc,{size:28})}),u.jsx(vf,{title:`Clientes (${e.periodLabel})`,value:e.clientsPeriode.toString(),icon:u.jsx(Kv,{size:28})}),u.jsx(vf,{title:"Ticket promedio",value:ke(e.panierMoyen),icon:u.jsx(V6,{size:28})})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(bf,{title:"Mesas ocupadas",value:e.tablesOccupees,icon:u.jsx(sb,{size:24})}),u.jsx(bf,{title:"Clientes actuales",value:e.clientsActuels,icon:u.jsx(Kv,{size:24})}),u.jsx(bf,{title:"En cocina",value:e.commandesEnCuisine,icon:u.jsx(MC,{size:24})}),u.jsx(bf,{title:"Ingredientes bajos",value:e.ingredientsStockBas.length,icon:u.jsx(ia,{size:24,className:e.ingredientsStockBas.length>0?"text-red-500":"text-gray-600"}),onClick:()=>h(!0)})]}),u.jsxs("div",{className:"ui-card p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:["Ventas durante ",e.periodLabel]}),u.jsx(NO,{width:"100%",height:300,children:u.jsxs(Gee,{data:e.ventesPeriodeSeries,children:[u.jsx(wR,{strokeDasharray:"3 3"}),u.jsx(SR,{dataKey:"name"}),u.jsx(jR,{}),u.jsx(bO,{}),u.jsx(ru,{}),u.jsx(L0,{dataKey:"ventes",fill:"#8884d8",name:`${e.periodLabel}`}),u.jsx(L0,{dataKey:"ventesPeriodePrecedente",fill:"#d8d6f5",name:"Periodo anterior"})]})})]}),u.jsxs("div",{className:"ui-card p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Distribución de ventas (",e.periodLabel,")"]}),u.jsxs("div",{className:"flex p-1 bg-gray-200 rounded-lg",children:[u.jsx("button",{onClick:()=>d("category"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="category"?"bg-white shadow":""}`,children:"Por categoría"}),u.jsx("button",{onClick:()=>d("product"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="product"?"bg-white shadow":""}`,children:"Por producto"})]})]}),j?u.jsx(NO,{width:"100%",height:300,children:u.jsxs(nte,{children:[u.jsx(uR,{data:S,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:S.map((N,A)=>u.jsx(Ru,{fill:w[A%w.length]},`cell-${A}`))}),u.jsx(bO,{formatter:N=>ke(N)}),u.jsx(ru,{})]})}):u.jsx("div",{style:{height:300},className:"flex items-center justify-center text-gray-500",children:"No hay datos para el periodo seleccionado."})]}),u.jsx(On,{isOpen:f,onClose:()=>h(!1),title:"Ingredientes con inventario bajo",children:e.ingredientsStockBas.length>0?u.jsx("ul",{className:"space-y-2",children:e.ingredientsStockBas.map(N=>u.jsxs("li",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[u.jsx("span",{className:"font-semibold text-red-800",children:N.nom}),u.jsxs("span",{className:"font-bold text-red-600",children:[N.stock_actuel," / ",N.stock_minimum," ",N.unite]})]},N.id))}):u.jsx("p",{className:"text-gray-600 text-center",children:"No hay ingredientes con inventario bajo por el momento."})}),u.jsx(cte,{isOpen:p,onClose:()=>g(!1)})]})},fte=e=>{const t=Number.isFinite(e)?Math.max(0,e):0,n=Math.floor(t/1e3),r=Math.floor(n/60),i=n%60;return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},h_=({startTime:e,className:t=""})=>{const[n,r]=x.useState(Date.now()-e);x.useEffect(()=>{const d=setInterval(()=>{r(Date.now()-e)},1e3);return()=>clearInterval(d)},[e]);const i=Math.floor(n/6e4),o=fte(n),l=()=>i>=20?"bg-red-500 text-white shadow-lg":i>=10?"bg-yellow-400 text-black shadow-md":"bg-brand-primary text-brand-secondary shadow-md ring-1 ring-black/5";return u.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-lg font-bold border-2 border-white ${l()} ${t}`,children:[u.jsx(Sl,{size:20}),u.jsx("span",{children:o})]})},yA={nom:"",capacite:"",couverts:""},hte=({isOpen:e,onClose:t,mode:n,initialValues:r,onSubmit:i,showCouvertsField:o=!1})=>{const[l,d]=x.useState(yA),[f,h]=x.useState({}),[p,g]=x.useState(null),[y,b]=x.useState(!1),w=x.useMemo(()=>n==="create"?"Ajouter une table":"Modifier la table",[n]);x.useEffect(()=>{if(!e){d(yA),h({}),g(null),b(!1);return}const A={nom:(r==null?void 0:r.nom)??"",capacite:r!=null&&r.capacite?String(r.capacite):"",couverts:o&&(r==null?void 0:r.couverts)!==void 0?String(r.couverts):""};d(A),h({}),g(null)},[r==null?void 0:r.capacite,r==null?void 0:r.couverts,r==null?void 0:r.nom,e,o]);const S=A=>{const{name:O,value:C}=A.target;d(T=>({...T,[O]:C}))},j=()=>{const A={},O=l.nom.trim(),C=l.capacite.trim();O||(A.nom="Le nom est requis.");let T=null;if(!C)A.capacite="La capacité est requise.";else{const P=Number(C);!Number.isInteger(P)||P<=0?A.capacite="La capacité doit être un entier positif.":T=P}if(o){const P=l.couverts.trim();if(!P)A.couverts="Le nombre de couverts est requis.";else{const k=Number(P);!Number.isInteger(k)||k<=0?A.couverts="Les couverts doivent être un entier positif.":T!==null&&k>T&&(A.couverts="Les couverts ne peuvent pas dépasser la capacité.")}}return A},N=async A=>{A.preventDefault(),h({}),g(null);const O=j();if(Object.keys(O).length>0){h(O);return}const C={nom:l.nom.trim(),capacite:Number(l.capacite.trim())};if(o){const T=l.couverts.trim();T&&(C.couverts=Number(T))}b(!0);try{await i(C)}catch(T){const P=T instanceof Error&&T.message?T.message:"Une erreur est survenue. Veuillez réessayer.";g(P)}finally{b(!1)}};return u.jsx(On,{isOpen:e,onClose:t,title:w,size:"md",children:u.jsxs("form",{onSubmit:N,className:"space-y-5",children:[p&&u.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:p}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-name",className:"block text-sm font-medium text-gray-700",children:"Nom de la table"}),u.jsx("input",{id:"table-name",name:"nom",type:"text",className:"ui-input mt-1",value:l.nom,onChange:S,disabled:y,placeholder:"Ex. Terrasse 1",autoFocus:!0}),f.nom&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.nom})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-capacity",className:"block text-sm font-medium text-gray-700",children:"Capacité (nombre de places)"}),u.jsx("input",{id:"table-capacity",name:"capacite",type:"number",min:1,className:"ui-input mt-1",value:l.capacite,onChange:S,disabled:y,placeholder:"Ex. 4"}),f.capacite&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.capacite})]}),o&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-couverts",className:"block text-sm font-medium text-gray-700",children:"Couverts (actuels)"}),u.jsx("input",{id:"table-couverts",name:"couverts",type:"number",min:1,className:"ui-input mt-1",value:l.couverts,onChange:S,disabled:y,placeholder:"Ex. 2"}),f.couverts&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.couverts})]}),u.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",disabled:y,children:"Annuler"}),u.jsx("button",{type:"submit",className:"w-full ui-btn-primary py-3 disabled:opacity-60",disabled:y,children:y?"Enregistrement...":"Enregistrer"})]})]})})},Ci={libre:{text:"Libre",statusClass:"status--free",Icon:sb},en_cuisine:{text:"En cuisine",statusClass:"status--preparing",Icon:R$},para_entregar:{text:"Para entregar",statusClass:"status--ready",Icon:OU},para_pagar:{text:"Para pagar",statusClass:"status--payment",Icon:Jc}},mte=e=>{const t=e.trim();if(!t)return e;const n=t.split(/\s+/);if(n.length<2)return t;const[r,...i]=n;let o=0;for(;o<i.length&&i[o].toLowerCase()===r.toLowerCase();)o+=1;return[r,...i.slice(o)].join(" ")},pte=e=>{switch(e.statut){case"libre":return Ci.libre;case"en_cuisine":return Ci.en_cuisine;case"para_entregar":return Ci.para_entregar;case"para_pagar":return Ci.para_pagar;default:return e.estado_cocina==="servido"||e.estado_cocina==="entregada"?Ci.para_pagar:e.estado_cocina==="listo"?Ci.para_entregar:e.commandeId?Ci.en_cuisine:Ci.libre}},gte=({table:e,onServe:t,canEdit:n,onEdit:r,onDelete:i,isDeleting:o})=>{const l=Xa(),{text:d,statusClass:f,Icon:h}=pte(e),[p,g]=x.useState(!1),y=x.useRef(null),b=()=>{l(`/commande/${e.id}`)},w=C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),b())},S=C=>{C.stopPropagation(),e.commandeId&&t(e.commandeId)},j=C=>{C.stopPropagation(),g(T=>!T)};x.useEffect(()=>{if(!p)return;const C=T=>{y.current&&!y.current.contains(T.target)&&g(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[p]);const N=C=>{C.stopPropagation(),g(!1),r==null||r(e)},A=async C=>{if(C.stopPropagation(),g(!1),!!i)try{await i(e)}catch(T){console.error("Failed to delete table from card:",T)}},O=mte(e.nom);return u.jsxs("div",{onClick:b,onKeyDown:w,className:`ui-card status-card ${f} relative`,role:"button",tabIndex:0,children:[e.statut==="para_entregar"&&e.readyOrdersCount&&e.readyOrdersCount>0&&u.jsx("div",{className:"absolute left-3 top-3 z-10",children:u.jsx("span",{className:"table-notification-badge",children:e.readyOrdersCount})}),n&&u.jsxs("div",{className:"absolute right-3 top-3",ref:y,children:[u.jsx("button",{type:"button",onClick:j,className:"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-60","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Options de la table",disabled:o,children:u.jsx(jC,{size:18})}),p&&u.jsxs("div",{className:"absolute right-0 mt-2 w-44 rounded-md border border-gray-200 bg-white py-1 text-sm shadow-lg",children:[u.jsxs("button",{type:"button",onClick:N,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-gray-700 transition hover:bg-gray-100",children:[u.jsx(e$,{size:16}),"Modifier"]}),u.jsxs("button",{type:"button",onClick:A,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",disabled:o,children:[u.jsx(Ks,{size:16}),o?"Suppression…":"Supprimer"]})]})]}),u.jsxs("div",{className:"status-card__header",children:[u.jsx("h3",{className:"status-card__title",children:O}),e.date_envoi_cuisine&&e.statut!=="libre"&&u.jsx("div",{className:"status-card__timer",children:u.jsx(h_,{startTime:e.date_envoi_cuisine,className:"w-full justify-center"})})]}),u.jsxs("div",{className:"status-card__body",children:[u.jsx(h,{size:56,className:"status-card__icon"}),u.jsx("p",{className:"status-card__state",children:d})]}),u.jsxs("div",{className:"status-card__footer",children:[e.statut!=="libre"?u.jsxs("p",{className:"status-card__meta",children:["Couverts : ",e.couverts]}):u.jsxs("p",{className:"status-card__meta",children:["Capacité : ",e.capacite]}),(e.estado_cocina==="listo"||e.statut==="para_entregar")&&u.jsx("button",{type:"button",onClick:S,className:"ui-btn ui-btn-accent status-card__cta",children:"ENTREGADA"})]})]})},yte=()=>{var B;const{role:e}=da(),t=((B=e==null?void 0:e.permissions)==null?void 0:B["/ventes"])==="editor",[n,r]=x.useState([]),[i,o]=x.useState(!0),[l,d]=x.useState(null),[f,h]=x.useState(null),[p,g]=x.useState(null),[y,b]=x.useState(!1),[w,S]=x.useState("create"),[j,N]=x.useState(null),[A,O]=x.useState(null),C=x.useRef(0),T=x.useCallback(async()=>{const K=++C.current;try{const I=await je.getTables();K===C.current&&(r(I),d(null))}catch(I){console.error("Failed to fetch tables",I),K===C.current&&d("Impossible de charger le plan de salle. Veuillez réessayer.")}finally{K===C.current&&o(!1)}},[]);x.useEffect(()=>{o(!0),T();const K=setInterval(T,1e4),I=je.notifications.subscribe("orders_updated",T);return()=>{clearInterval(K),I()}},[T]);const P=x.useCallback(()=>{b(!1),N(null)},[]),k=x.useCallback(()=>{S("create"),N(null),h(null),g(null),b(!0)},[]),D=x.useCallback(K=>{S("edit"),N(K),h(null),g(null),b(!0)},[]),q=x.useCallback(async K=>{h(null),g(null);try{let I="";if(w==="create")await je.createTable(K),I="Table créée avec succès.";else{if(!j){const Y="Aucune table sélectionnée pour la mise à jour.";throw h(Y),new Error(Y)}await je.updateTable(j.id,K),I="Table mise à jour avec succès."}await T(),P(),g(I)}catch(I){console.error("Failed to save table:",I);const Y=w==="create"?"Impossible de créer la table. Veuillez réessayer.":"Impossible de mettre à jour la table. Veuillez réessayer.";throw h(Y),new Error(Y)}},[T,P,w,j]),$=x.useCallback(async K=>{if(confirm("Supprimer cette table ? Cette action est irréversible.")){h(null),g(null),O(K.id);try{await je.deleteTable(K.id),await T(),g("Table supprimée avec succès.")}catch(I){console.error("Failed to delete table:",I),h("Impossible de supprimer la table. Veuillez réessayer.")}finally{O(null)}}},[T]),F=x.useCallback(async K=>{h(null),g(null);const I=n.find(Y=>Y.commandeId===K);if(I){r(Y=>Y.map(X=>X.id===I.id?{...X,statut:"para_pagar",estado_cocina:"servido"}:X));try{await je.markOrderAsServed(K),await T()}catch(Y){console.error("Failed to mark order as served:",Y),h("Impossible de marquer la commande comme servie. Veuillez réessayer."),await T()}}},[T,n]);if(i)return u.jsx("p",{className:"section-text section-text--muted",children:"Chargement du plan de salle..."});const H=w==="edit"&&j?{nom:j.nom,capacite:j.capacite,couverts:j.couverts}:void 0,re=w==="edit"&&!!(j!=null&&j.commandeId);return u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[t&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"button",onClick:k,className:"ui-btn ui-btn-primary flex items-center gap-2",children:[u.jsx(pu,{size:18}),"Ajouter une table"]})}),l&&u.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:l}),f&&u.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:f}),p&&u.jsx("div",{className:"rounded-md border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:p})]}),u.jsx("div",{className:"mt-6 status-grid",children:n.map(K=>u.jsx(gte,{table:K,onServe:F,canEdit:!!t,onEdit:D,onDelete:$,isDeleting:A===K.id},K.id))}),u.jsx(hte,{isOpen:y,onClose:P,mode:w,initialValues:H,onSubmit:q,showCouvertsField:re})]})},vte=({isOpen:e,onClose:t,order:n,onFinalize:r})=>{const[i,o]=x.useState("efectivo"),[l,d]=x.useState(null),[f,h]=x.useState(!1),p=async g=>{g.preventDefault(),i&&(h(!0),await r(i,l),h(!1),t())};return u.jsx(On,{isOpen:e,onClose:t,title:`Finalizar el pedido #${n.id.slice(-4)}`,children:u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-600",children:"Total a pagar"}),u.jsx("p",{className:"text-4xl font-extrabold text-gray-900",children:ke(n.total)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Método de pago"}),u.jsxs("select",{value:i,onChange:g=>o(g.target.value),className:"mt-1 ui-select",children:[u.jsx("option",{value:"efectivo",children:"Efectivo"}),u.jsx("option",{value:"transferencia",children:"Transferencia"}),u.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),i==="transferencia"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante (opcional)"}),u.jsxs("label",{htmlFor:"payment-receipt",className:"mt-1 flex w-full cursor-pointer items-center gap-2 rounded-lg border border-gray-300 bg-white p-2 text-gray-500 shadow-sm hover:bg-gray-50",children:[u.jsx(gu,{size:18}),u.jsx("span",{children:l?l.name:"Selecciona un archivo..."})]}),u.jsx("input",{id:"payment-receipt",type:"file",accept:"image/*,.pdf",onChange:g=>d(g.target.files?g.target.files[0]:null),className:"hidden"})]}),u.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:f,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:f?"Finalizando...":"Confirmar pago"})]})]})})},bte=e=>e??"",xte=e=>!e||e.length===0?[]:e.slice().sort(),kf=(e=[])=>{const t=new Map;for(const n of e)t.set(n.id,{quantite:n.quantite,commentaire:bte(n.commentaire),excludedIngredients:xte(n.excluded_ingredients)});return{size:e.length,itemsById:t}},vA=(e,t)=>{if(e===t)return!0;if(e.size!==t.size)return!1;for(const[n,r]of e.itemsById){const i=t.itemsById.get(n);if(!i||r.quantite!==i.quantite||r.commentaire!==i.commentaire||r.excludedIngredients.length!==i.excludedIngredients.length)return!1;for(let o=0;o<r.excludedIngredients.length;o+=1)if(r.excludedIngredients[o]!==i.excludedIngredients[o])return!1}return!0},_te=({filteredProducts:e,quantities:t,onAdd:n,activeCategoryId:r,categories:i,onSelectCategory:o,isProductAvailable:l,handleProductPointerDown:d,handleProductKeyDown:f})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-4 border-b",children:u.jsxs("div",{className:"flex space-x-2 mt-4 overflow-x-auto pb-2",children:[u.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r==="all"?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:"Tous"}),i.map(h=>u.jsx("button",{onClick:()=>o(h.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r===h.id?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:h.nom},h.id))]})}),u.jsx("div",{className:"p-4 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 overflow-y-auto",children:e.map(h=>{const p=!l(h),g=t[h.id]||0,y=()=>n(h),b=d(h),w=f(h);return u.jsxs("button",{type:"button",onClick:y,onPointerDown:b,onKeyDown:w,className:`border rounded-lg p-2 flex flex-col items-center justify-between text-center cursor-pointer hover:shadow-lg transition-all relative focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-gray-900 ${p?"border-yellow-500 border-2":""}`,children:[g>0&&u.jsx("div",{className:"absolute top-1 left-1 bg-brand-accent text-white rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold",children:g}),p&&u.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 text-white rounded-full p-1",title:"Stock bas",children:u.jsx(ia,{size:16})}),u.jsx("img",{src:h.image,alt:h.nom_produit,className:"w-24 h-24 object-cover rounded-md mb-2"}),u.jsx("p",{className:"font-semibold text-sm text-gray-800",children:h.nom_produit}),u.jsx("p",{className:"text-xs text-gray-600 px-1 h-10 overflow-hidden flex-grow",children:h.description}),u.jsx("p",{className:"font-bold text-brand-primary mt-1",children:ke(h.prix_vente)})]},h.id)})})]}),wte=x.memo(_te),Ste=({categorizedItems:e,total:t,onQuantityChange:n,onCommentChange:r,onPersistComment:i,onStartEditingComment:o,onSendToKitchen:l,onServeOrder:d,onOpenPayment:f,isSending:h,hasPending:p,orderStatus:g,editingCommentId:y})=>{const b=e.pending.length+e.sent.length;return u.jsxs("div",{className:"ui-card flex flex-col",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("h2",{className:"text-2xl font-semibold text-brand-secondary",children:"Commande"})}),u.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:b===0?u.jsx("p",{className:"text-gray-500",children:"La commande est vide."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Articles à envoyer"}),u.jsx("span",{className:"text-sm text-gray-500",children:e.pending.length})]}),e.pending.length===0?u.jsx("p",{className:"text-sm text-gray-500",children:"Aucun article en attente."}):e.pending.map(({item:w,index:S})=>u.jsxs("div",{className:"p-3 rounded-lg bg-yellow-100",children:[u.jsxs("div",{className:"flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-yellow-500 text-base font-bold text-white shadow-md",children:w.quantite}),u.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),u.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:ke(w.quantite*w.prix_unitaire)})]}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsxs("p",{className:"text-sm text-gray-700",children:[ke(w.prix_unitaire)," /u"]}),u.jsxs("div",{className:"flex items-center space-x-2 text-gray-800",children:[u.jsx("button",{onClick:()=>n(S,-1),className:"p-1",children:u.jsx(sU,{size:20})}),u.jsx("span",{className:"font-bold w-6 text-center",children:w.quantite}),u.jsx("button",{onClick:()=>n(S,1),className:"p-1",children:u.jsx(ob,{size:20})})]})]}),y===w.id||w.commentaire?u.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",value:w.commentaire??"",onChange:j=>r(S,j.target.value),onBlur:()=>i(S),autoFocus:y===w.id,className:"mt-2 ui-input text-sm"}):u.jsxs("button",{onClick:()=>o(w.id),className:"mt-2 text-xs text-blue-600 hover:underline flex items-center gap-1",children:[u.jsx(AC,{size:12})," Ajouter un commentaire"]})]},w.id))]}),e.sent.length>0&&u.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Envoyés en cuisine"}),u.jsx("span",{className:"text-sm text-gray-500",children:e.sent.length})]}),e.sent.map(({item:w})=>u.jsxs("div",{className:"p-3 rounded-lg bg-green-100",children:[u.jsxs("div",{className:"flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-green-600 text-base font-bold text-white shadow-md",children:w.quantite}),u.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),u.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:ke(w.quantite*w.prix_unitaire)})]}),u.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[ke(w.prix_unitaire)," /u"]}),w.commentaire&&u.jsxs("p",{className:"mt-2 text-sm italic text-gray-600 pl-2",children:['"',w.commentaire,'"']})]},w.id))]})]})}),u.jsxs("div",{className:"p-4 border-t space-y-4",children:[u.jsxs("div",{className:"flex justify-between text-2xl font-semibold text-brand-secondary",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:ke(t)})]}),g==="listo"&&u.jsxs("button",{onClick:d,className:"w-full ui-btn-info justify-center py-3",children:[u.jsx(X6,{size:20}),u.jsx("span",{children:"Entregada"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:l,disabled:h||!p,className:"flex-1 ui-btn-accent justify-center py-3 disabled:opacity-60",children:[u.jsx(f$,{size:20}),u.jsx("span",{children:h?"Synchronisation…":"Envoyer en Cuisine"})]}),u.jsxs("button",{onClick:f,disabled:g!=="servido",className:"flex-1 ui-btn-success justify-center py-3 disabled:opacity-60",children:[u.jsx(Jc,{size:20}),u.jsx("span",{children:"Finaliser"})]})]})]})]})},jte=({isOpen:e,product:t,onClose:n,onSave:r})=>{const[i,o]=x.useState(1),[l,d]=x.useState("");if(x.useEffect(()=>{e&&(o(1),d(""))},[e,t==null?void 0:t.id]),!t)return null;const f=()=>{o(g=>Math.max(1,g-1))},h=()=>{o(g=>g+1)},p=()=>{r({quantity:i,comment:l})};return u.jsx(On,{isOpen:e,onClose:n,title:t.nom_produit,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("img",{src:t.image,alt:t.nom_produit,className:"w-full h-48 object-cover rounded-lg"}),t.description&&u.jsx("p",{className:"text-gray-200 text-sm",children:t.description}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-200",children:"Commentaire"}),u.jsx("textarea",{value:l,onChange:g=>d(g.target.value),rows:2,className:"mt-1 block w-full rounded-md border border-gray-600 bg-gray-900/60 py-2 px-3 text-sm text-gray-100 focus:border-brand-primary focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Allergies, instructions spécifiques…"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Diminuer la quantité",children:u.jsx(CC,{size:18})}),u.jsx("span",{className:"w-8 text-center text-lg font-bold text-gray-100",children:i}),u.jsx("button",{type:"button",onClick:h,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Augmenter la quantité",children:u.jsx(pu,{size:18})})]}),u.jsxs("button",{type:"button",onClick:p,className:"rounded-lg bg-brand-primary py-2 px-6 font-semibold text-brand-secondary transition hover:bg-yellow-400",children:["Ajouter (",ke(t.prix_vente*i),")"]})]})]})})},jv=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),ta=e=>JSON.parse(JSON.stringify(e)),bA=(()=>{let e=0;return()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`tmp-${crypto.randomUUID()}`:(e+=1,`tmp-${Date.now()}-${e}`)})(),xA=e=>(e??"").trim(),Nte=(e=[],t=[])=>{if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>i===r[o])},Ete=(e,t,n,r,i=[])=>{const o=xA(n.comment),l=Number.isFinite(n.quantity)?Math.max(1,Math.floor(n.quantity)):1,d=e.findIndex(h=>h.produitRef===t.id&&h.estado==="en_attente"&&xA(h.commentaire)===o&&Nte(h.excluded_ingredients??[],i));if(d>-1)return e.map((h,p)=>p===d?{...h,quantite:h.quantite+l}:h);const f={id:r(),produitRef:t.id,nom_produit:t.nom_produit,prix_unitaire:t.prix_vente,quantite:l,excluded_ingredients:[...i],commentaire:o,estado:"en_attente"};return[...e,f]},_A=kf([]),Ote=()=>{const{tableId:e}=tI(),t=Xa(),[n,r]=x.useState(null),[i,o]=x.useState(null),[l,d]=x.useState([]),[f,h]=x.useState([]),[p,g]=x.useState([]),[y,b]=x.useState("all"),[w,S]=x.useState(!0),[j,N]=x.useState(!1),[A,O]=x.useState(!1),[C,T]=x.useState(null),[P,k]=x.useState(!1),[D,q]=x.useState(null),$=x.useRef(n),F=x.useRef(i),H=x.useRef(null),re=x.useRef(null),B=x.useRef(null),K=x.useRef(Promise.resolve()),I=x.useRef(null),Y=x.useRef(null),X=x.useCallback((ae,fe,he)=>{if(!fe||fe.length===0)return ae.current=null,_A;const Me=he??kf(fe);return ae.current={source:fe,snapshot:Me},Me},[]),de=x.useCallback((ae,fe)=>{if(!ae||ae.length===0)return fe.current=null,_A;const he=fe.current;return he&&he.source===ae?he.snapshot:X(fe,ae)},[X]);x.useEffect(()=>{$.current=n},[n]),x.useEffect(()=>{F.current=i},[i]);const ne=x.useCallback(ae=>{const fe=$.current;if(!fe)return!0;const he=ae??F.current;if(!he)return!0;const Me=de(fe.items,I),ze=ae?kf(he.items):de(he.items,Y);return vA(ze,Me)},[de]),R=x.useCallback(()=>{const ae=re.current;if(!ae)return;const fe=kf(ae.items);H.current=ta(ae);const he=$.current;if(he){const ze=de(he.items,I);if(vA(ze,fe)){re.current=null;return}}re.current=null,$.current=ae,r(ae),X(I,ae.items,fe);const Me=ta(ae);F.current=Me,o(Me),X(Y,Me.items)},[de,X]),L=x.useCallback(async(ae=!1)=>{if(e)try{if(ae||S(!0),ae){const De=await je.createOrGetOrderByTableId(e),Je=ta(De);if(H.current=Je,ne()){re.current=null,r(De),$.current=De,X(I,De.items);const gt=ta(De);F.current=gt,o(gt),X(Y,gt.items)}else{const gt=F.current;gt&&JSON.stringify(gt)===JSON.stringify(De)?re.current=null:re.current=Je}return}const[fe,he,Me,ze]=await Promise.all([je.createOrGetOrderByTableId(e),je.getProducts(),je.getCategories(),je.getIngredients()]);H.current=ta(fe),r(fe),$.current=fe,X(I,fe.items);const lt=ta(fe);o(lt),F.current=lt,X(Y,lt.items),d(he),h(Me),g(ze),re.current=null}catch(fe){console.error("Failed to load order data",fe),t("/ventes")}finally{ae||S(!1)}},[ne,t,e,X]);x.useEffect(()=>{L()},[L]),x.useEffect(()=>{ne()&&R()},[R,ne,n,i]),x.useEffect(()=>{const ae=je.notifications.subscribe("orders_updated",()=>L(!0));return()=>ae()},[L]);const W=x.useMemo(()=>!ne(),[ne,n,i]),se=x.useMemo(()=>n?n.items.reduce((ae,fe)=>(fe.estado!=="en_attente"||(ae[fe.produitRef]=(ae[fe.produitRef]||0)+fe.quantite),ae),{}):{},[n]),oe=x.useMemo(()=>y==="all"?l:l.filter(ae=>ae.categoria_id===y),[y,l]),xe=x.useCallback(ae=>{if(!ae.recipe||ae.recipe.length===0)return!0;for(const fe of ae.recipe){const he=p.find(Me=>Me.id===fe.ingredient_id);if(!he||he.stock_actuel<=he.stock_minimum)return!1}return!0},[p]);x.useEffect(()=>()=>{B.current!==null&&(window.clearTimeout(B.current),B.current=null)},[]);const Se=x.useCallback(async(ae,fe)=>{const he=$.current;if(!he)return;const Me=gt=>typeof ae=="function"?ae(gt):ae,lt=(fe!=null&&fe.isLocalUpdate?he.items:(fe==null?void 0:fe.removalSourceItems)??he.items).map(gt=>({...gt})),De=Me(lt),Je={...he,items:De,total:De.reduce((gt,Oe)=>gt+Oe.quantite*Oe.prix_unitaire,0)};if(r(Je),$.current=Je,X(I,Je.items),fe!=null&&fe.isLocalUpdate)return;const ct=async()=>{try{let gt=re.current??H.current??null;if(!gt){const zt=await je.getOrderById(he.id);zt?(gt=zt,H.current=ta(zt)):gt=he}if(!gt)return;const Oe=$.current.items.map(zt=>({...zt})),Dt=((fe==null?void 0:fe.removalSourceItems)??he.items).filter(zt=>jv(zt.id)&&!Oe.some(Qs=>Qs.id===zt.id)).map(zt=>zt.id),an=await je.updateOrder(he.id,{items:Oe,removedItemIds:Dt},{includeNotifications:!1});r(an),$.current=an,X(I,an.items);const Dr=ta(an);o(Dr),F.current=Dr,X(Y,Dr.items),H.current=ta(an),je.getIngredients().then(g).catch(zt=>{console.error("Failed to refresh ingredients",zt)}),R()}catch(gt){console.error("Failed to update order:",gt),alert("Une erreur est survenue lors de la mise à jour de la commande."),L(!0)}};K.current=K.current.then(ct,ct),await K.current},[R,L,X]),me=x.useCallback((ae=300)=>{B.current!==null&&window.clearTimeout(B.current);const fe=ae>0?ae:1;B.current=window.setTimeout(async()=>{if(B.current=null,!$.current)return;const he=$.current.items.map(ze=>({...ze})),Me=H.current?H.current.items.map(ze=>({...ze})):he.map(ze=>({...ze}));await Se(he,{removalSourceItems:Me})},fe)},[Se]),V=x.useCallback(ae=>{$.current&&(Se(ae,{isLocalUpdate:!0}),me())},[me,Se]),ge=x.useCallback(ae=>{q(ae)},[]),ye=x.useCallback(()=>{q(null)},[]),ce=x.useCallback(ae=>{D&&(V(fe=>Ete(fe,D,ae,bA)),q(null))},[V,D]),Qe=x.useCallback((ae,fe)=>{const he=$.current;if(!he||!he.items[ae])return;const Me=he.items[ae].id;V(ze=>{const lt=ze.findIndex(Je=>Je.id===Me);if(lt===-1)return ze;const De=ze[lt].quantite+fe;return De<=0?ze.filter(Je=>Je.id!==Me):ze.map(Je=>Je.id===Me?{...Je,quantite:De}:Je)})},[V]),Ae=x.useCallback((ae,fe)=>{const he=$.current;if(!he||!he.items[ae])return;const Me=he.items[ae].id;Se(ze=>{const lt=ze.findIndex(ct=>ct.id===Me);if(lt===-1)return ze;const De=ze.map(ct=>({...ct})),Je=De[lt];if(Je.quantite>1&&!Je.commentaire&&fe){Je.quantite-=1;const ct={...Je,id:bA(),quantite:1,commentaire:fe};De.push(ct),T(ct.id)}else Je.commentaire=fe;return De},{isLocalUpdate:!0})},[Se]),wt=x.useCallback(ae=>{$.current&&(Se($.current.items.map(fe=>({...fe}))),T(null))},[Se]),At=x.useCallback(async()=>{if($.current){k(!0);try{let ae=$.current;for(;ae&&ae.items.some(De=>De.estado==="en_attente"&&!jv(De.id));)await Se(ae.items.map(De=>({...De}))),ae=$.current;if(ae=$.current,!ae)return;const fe=ae.items.filter(De=>De.estado==="en_attente");if(fe.length===0)return;if(fe.filter(De=>!jv(De.id)).length>0){console.warn("Des articles non persistés subsistent après synchronisation, envoi annulé.");return}const Me=fe.map(De=>De.id),ze=await je.sendOrderToKitchen(ae.id,Me);r(ze),$.current=ze,X(I,ze.items);const lt=ta(ze);o(lt),F.current=lt,X(Y,lt.items),t("/ventes")}catch(ae){console.error("Failed to send order to kitchen",ae),alert("Erreur lors de l'envoi en cuisine.")}finally{k(!1)}}},[t,Se,X]),Wt=x.useCallback(async()=>{if(n)try{const ae=await je.markOrderAsServed(n.id);r(ae),$.current=ae,X(I,ae.items)}catch(ae){console.error("Failed to mark order as served",ae)}},[n,X]),cr=async(ae,fe)=>{if(n)try{let he=n.payment_receipt_url??void 0;if(fe&&fe instanceof File)try{he=await gC(fe,{orderId:n.id})}catch(Me){console.error("Failed to upload receipt",Me)}await je.finalizeOrder(n.id,ae,he),t("/ventes")}catch(he){console.error("Failed to finalize order",he),alert("Erreur lors de la finalisation de la commande. Veuillez réessayer.")}},fa=()=>{if(n&&n.estado_cocina==="no_enviado"&&n.items.length>0){O(!0);return}W?O(!0):t("/ventes")},Pr=async()=>{try{n&&n.estado_cocina==="no_enviado"?await je.cancelUnsentTableOrder(n.id):i&&!ne(i)&&await Se(i.items)}catch(ae){console.error("Failed to cancel unsent order before exiting",ae)}finally{O(!1),t("/ventes")}},Kn=(n==null?void 0:n.items)??[],Mr=x.useMemo(()=>Kn.reduce((ae,fe,he)=>(fe.estado==="en_attente"?ae.pending.push({item:fe,index:he}):ae.sent.push({item:fe,index:he}),ae),{pending:[],sent:[]}),[Kn]),ha=x.useCallback(ae=>fe=>{fe.preventDefault(),fe.currentTarget.focus()},[]),kt=x.useCallback(ae=>fe=>{(fe.key==="Enter"||fe.key===" ")&&(fe.preventDefault(),ge(ae))},[ge]),Rr=x.useCallback(()=>{N(!0)},[]),ri=x.useCallback(ae=>{T(ae)},[]),ve=x.useMemo(()=>Mr.pending.length>0,[Mr]);return w?u.jsx("div",{className:"text-center p-10 text-gray-800",children:"Chargement de la commande..."}):n?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[calc(100vh-12rem)] lg:h-[calc(100vh-10rem)]",children:[u.jsxs("div",{className:"lg:col-span-2 ui-card flex flex-col",children:[u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("button",{onClick:fa,className:"ui-btn-dark",title:"Retour au plan de salle",children:[u.jsx(U6,{size:20}),u.jsx("span",{children:"Retour plan de salle"})]}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Table ",n.table_nom]})]})}),u.jsx(wte,{filteredProducts:oe,quantities:se,onAdd:ge,activeCategoryId:y,categories:f,onSelectCategory:b,isProductAvailable:xe,handleProductPointerDown:ha,handleProductKeyDown:kt})]}),u.jsx(Ste,{categorizedItems:Mr,total:n.total,onQuantityChange:Qe,onCommentChange:Ae,onPersistComment:wt,onStartEditingComment:ri,onSendToKitchen:At,onServeOrder:Wt,onOpenPayment:Rr,isSending:P,hasPending:ve,orderStatus:n.estado_cocina,editingCommentId:C})]}),u.jsx(jte,{isOpen:D!==null,product:D,onClose:ye,onSave:ce}),u.jsx(vte,{isOpen:j,onClose:()=>N(!1),order:n,onFinalize:cr}),u.jsxs(On,{isOpen:A,onClose:()=>O(!1),title:"Quitter sans envoyer ?",children:[u.jsx("p",{className:"text-gray-700",children:"Vous avez des articles non envoyés en cuisine. Si vous quittez, ils seront annulés. Voulez-vous continuer ?"}),u.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[u.jsx("button",{onClick:()=>O(!1),className:"ui-btn-secondary",children:"Non, rester"}),u.jsx("button",{onClick:Pr,className:"ui-btn-danger",children:"Oui, quitter"})]})]})]}):u.jsx("div",{className:"text-center p-10 text-red-500",children:"Commande non trouvée."})},Ate={critical:{border:"border-4 border-solid border-red-500",accent:"bg-red-500 urgency-accent-critical",badge:"bg-red-100 text-red-700 ring-1 ring-inset ring-red-300 urgency-badge-critical",icon:"text-red-500 urgency-icon-critical",background:"bg-red-100"},warning:{border:"border-[3px] border-solid border-yellow-400",accent:"bg-yellow-400 urgency-accent-warning",badge:"bg-yellow-100 text-yellow-800 ring-1 ring-inset ring-yellow-300 urgency-badge-warning",icon:"text-yellow-500 urgency-icon-warning",background:"bg-yellow-100"},normal:{border:"border-2 border-solid border-brand-accent",accent:"bg-brand-accent urgency-accent-normal",badge:"bg-blue-100 text-blue-700 ring-1 ring-inset ring-blue-200 urgency-badge-normal",icon:"text-brand-accent urgency-icon-normal",background:"bg-blue-100"}},Cte=e=>{if(!e)return"normal";const t=(Date.now()-e)/6e4;return t>=20?"critical":t>=10?"warning":"normal"},zR=e=>{const t=Cte(e),n=Ate[t];return{level:t,border:n.border,accent:n.accent,badge:n.badge,icon:n.icon,background:n.background}},Tte=({order:e,onReady:t,canMarkReady:n})=>{const r=zR(e.date_envoi_cuisine||Date.now()),i=x.useMemo(()=>{const d=[],f=new Map;return e.items.forEach(h=>{var w;const p=(w=h.commentaire)==null?void 0:w.trim(),g=p||"no_comment",y=`${h.produitRef}::${g}`;if(p){d.push({key:`${y}::${h.id}`,nom_produit:h.nom_produit,quantite:h.quantite,commentaire:p});return}const b=f.get(y);if(b!==void 0){d[b].quantite+=h.quantite;return}f.set(y,d.length),d.push({key:y,nom_produit:h.nom_produit,quantite:h.quantite})}),d},[e.items]),l=new Date(e.date_envoi_cuisine||Date.now()).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"});return u.jsxs("div",{className:`flex h-full flex-col overflow-hidden rounded-xl text-gray-900 shadow-lg transition-shadow duration-300 hover:shadow-xl ${r.border} ${r.background}`,children:[u.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:u.jsxs("div",{className:"flex w-full flex-col gap-4",children:[u.jsx("h3",{className:"w-full text-center text-xl font-semibold text-gray-900 sm:text-left sm:text-2xl truncate",children:e.table_nom||`Para llevar #${e.id.slice(-4)}`}),u.jsx(h_,{startTime:e.date_envoi_cuisine||Date.now(),className:"w-full justify-center rounded-xl px-0 text-xl sm:justify-start sm:rounded-full sm:px-4 sm:text-2xl"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:u.jsx("ul",{className:"space-y-3",children:i.map(d=>u.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-2 py-1 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-full text-2xl font-bold text-white shadow-md ${r.accent}`,children:d.quantite}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 truncate",children:d.nom_produit})]}),d.commentaire&&u.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium italic text-blue-800",children:d.commentaire})]},d.key))})}),u.jsx("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:u.jsxs("div",{className:"flex w-full flex-col gap-3",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado ",l]}),n&&u.jsxs("button",{onClick:()=>t(e.id,e.date_envoi_cuisine),className:"group inline-flex w-full items-center justify-center gap-3 rounded-lg border-2 border-transparent bg-black px-4 py-3 text-lg font-semibold uppercase tracking-[0.2em] text-white shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/70 focus-visible:ring-offset-2 hover:bg-neutral-900",children:[u.jsx(_C,{size:22,className:"shrink-0"}),u.jsx("span",{children:"LISTO"})]})]})})]})},kte=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),{role:i}=da(),o=(i==null?void 0:i.permissions["/cocina"])==="editor",l=x.useCallback(async()=>{try{const f=await je.getKitchenOrders();t(f)}catch(f){console.error("Failed to fetch kitchen orders",f)}finally{r(!1)}},[]);x.useEffect(()=>{l();const f=setInterval(l,5e3),h=je.notifications.subscribe("orders_updated",l);return()=>{clearInterval(f),h()}},[l]);const d=async(f,h)=>{try{await je.markOrderAsReady(f,h),l()}catch(p){console.error("Failed to mark order as ready",p)}};return n?u.jsx("div",{className:"text-gray-700",children:"Cargando pedidos de cocina..."}):u.jsx("div",{className:"flex h-full flex-col",children:e.length===0?u.jsx("div",{className:"mt-6 flex flex-1 items-center justify-center text-2xl text-gray-500",children:"No hay pedidos en preparación."}):u.jsx("div",{className:"mt-6 grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(f=>u.jsx(Tte,{order:f,onReady:d,canMarkReady:o},f.ticketKey))})})},wA=({order:e,onValidate:t,onDeliver:n,isProcessing:r})=>{const[i,o]=x.useState(!1),l=e.table_nom||`Pedido #${e.id.slice(-6)}`,d=e.date_envoi_cuisine||e.date_creation,f=zR(d),h={normal:"Normal",warning:"En seguimiento",critical:"Crítico"};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative flex h-full flex-col overflow-hidden rounded-xl border text-gray-900 shadow-md transition-shadow duration-300 hover:shadow-lg ${f.border} ${f.background}`,children:[u.jsx("span",{"aria-hidden":!0,className:`absolute inset-y-0 left-0 w-1 ${f.accent}`}),u.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-lg sm:text-xl md:text-2xl font-semibold leading-tight text-gray-900",children:l}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Pedido enviado ",new Date(d).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]}),u.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] ${f.badge}`,children:[u.jsx("span",{className:`h-2 w-2 rounded-full ${f.accent}`}),u.jsx("span",{children:h[f.level]})]})]}),u.jsx(h_,{startTime:d,className:"text-sm sm:text-base"})]})}),u.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[e.clientInfo&&u.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm",children:[e.clientInfo.nom&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[u.jsx(cb,{size:16,className:f.icon}),u.jsx("span",{className:"font-medium",children:e.clientInfo.nom})]}),e.clientInfo.telephone&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 ml-6",children:[u.jsx(TC,{size:14,className:"text-gray-500"}),u.jsx("span",{children:e.clientInfo.telephone})]})]}),e.clientInfo.adresse&&u.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[u.jsx(kh,{size:16,className:`mt-0.5 text-gray-500 ${f.icon}`}),u.jsx("span",{className:"text-gray-700",children:e.clientInfo.adresse})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h5",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-gray-500",children:"Artículos"}),e.items.length>0?u.jsx("ul",{className:"space-y-2",children:e.items.map(p=>{var y;const g=(y=p.commentaire)==null?void 0:y.trim();return u.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${f.accent}`,children:p.quantite}),u.jsx("span",{className:"font-semibold text-gray-900",children:p.nom_produit})]}),u.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:ke(p.prix_unitaire*p.quantite)})]}),g&&u.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-xs font-medium italic text-blue-800",children:g})]},p.id)})}):u.jsx("p",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-500 shadow-sm",children:"Este pedido aún no tiene artículos registrados."})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 font-semibold text-gray-900 shadow-sm",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{className:"text-lg sm:text-xl text-gray-900",children:ke(e.total)})]})]}),u.jsxs("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:[e.statut==="pendiente_validacion"&&t&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>o(!0),className:"w-full ui-btn ui-btn-secondary",type:"button",children:[u.jsx(Fv,{size:16,className:f.icon})," ",e.receipt_url?"Ver comprobante":"Comprobante no disponible"]}),u.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full ui-btn ui-btn-info uppercase",type:"button",children:r?"Validando...":"Validar"})]}),e.estado_cocina==="listo"&&n&&u.jsx("button",{onClick:()=>n(e.id),disabled:r,className:"w-full ui-btn ui-btn-success uppercase",type:"button",children:r?"Procesando...":"Entregar"})]})]}),u.jsx(On,{isOpen:i,onClose:()=>o(!1),title:"Comprobante de pago",children:e.receipt_url?u.jsx("img",{src:e.receipt_url,alt:"Comprobante",className:"w-full h-auto rounded-md"}):u.jsx("p",{children:"No se proporcionó comprobante."})})]})},Pte=()=>{const[e,t]=x.useState([]),[n,r]=x.useState([]),[i,o]=x.useState(!0),[l,d]=x.useState(null),f=x.useCallback(async()=>{try{const{pending:g,ready:y}=await je.getTakeawayOrders();t(g.sort((b,w)=>b.date_creation-w.date_creation)),r(y.sort((b,w)=>(b.date_listo_cuisine||0)-(w.date_listo_cuisine||0)))}catch(g){console.error("Failed to fetch takeaway orders",g)}finally{o(!1)}},[]);x.useEffect(()=>{o(!0),f();const g=setInterval(f,1e4),y=je.notifications.subscribe("orders_updated",f);return()=>{clearInterval(g),y()}},[f]);const h=async g=>{if(!l){d(g);try{await je.validateTakeawayOrder(g),await f()}catch(y){console.error("Failed to validate order:",y),alert(`No se pudo validar el pedido: ${y.message}`)}finally{d(null)}}},p=async g=>{if(!l){d(g);try{await je.markTakeawayAsDelivered(g),await f()}catch(y){console.error("Failed to mark order as delivered:",y),alert("Ocurrió un error al finalizar el pedido.")}finally{d(null)}}};return i?u.jsx("div",{className:"text-gray-700",children:"Cargando pedidos para llevar..."}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8 md:grid-cols-2",children:[u.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-blue-700",children:["Pendientes de validación (",e.length,")"]}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(g=>u.jsx(wA,{order:g,onValidate:h,isProcessing:l===g.id},g.id)):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos para validar."})})]}),u.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-green-700",children:["Pedidos listos (",n.length,")"]}),u.jsx("div",{className:"space-y-4",children:n.length>0?n.map(g=>u.jsx(wA,{order:g,onDeliver:p,isProcessing:l===g.id},g.id)):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos listos."})})]})]})})},Mte=()=>{const{role:e}=da(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[o,l]=x.useState(null),[d,f]=x.useState(""),[h,p]=x.useState(!1),[g,y]=x.useState(!1),[b,w]=x.useState(!1),[S,j]=x.useState(null),[N,A]=x.useState("add"),O=(e==null?void 0:e.permissions["/ingredients"])==="editor",C=x.useCallback(async()=>{try{const k=await je.getIngredients();n(k),l(null)}catch(k){l("Impossible de charger les ingrédients."),console.error(k)}finally{i(!1)}},[]);x.useEffect(()=>{i(!0),C()},[C]);const T=x.useMemo(()=>t.filter(k=>k.nom.toLowerCase().includes(d.toLowerCase())),[t,d]),P=(k,D=null)=>{j(D),k==="add"||k==="edit"?(A(k),p(!0)):k==="resupply"?y(!0):k==="delete"&&w(!0)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-80",children:[u.jsx(lb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un ingrédient...",value:d,onChange:k=>f(k.target.value),className:"ui-input pl-10 sm:w-64"})]}),O&&u.jsxs("button",{onClick:()=>P("add"),className:"w-full md:w-auto ui-btn-primary",children:[u.jsx(ob,{size:20}),"Ajouter un ingrédient"]})]}),r?u.jsx("p",{className:"text-gray-800",children:"Chargement..."}):o?u.jsx("p",{className:"text-red-500",children:o}):u.jsx("div",{className:"ui-card p-4 overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actuel"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Minimum"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Prix unitaire moyen"}),O&&u.jsx("th",{className:"p-3 text-right text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{children:T.map(k=>{const D=k.stock_actuel<=k.stock_minimum;return u.jsxs("tr",{className:`border-b hover:bg-gray-50 ${D?"bg-red-50":""}`,children:[u.jsx("td",{className:`p-3 font-semibold ${D?"text-red-900":"text-gray-900"}`,children:k.nom}),u.jsxs("td",{className:`p-3 font-bold ${D?"text-red-700":"text-gray-800"}`,children:[k.stock_actuel," ",k.unite]}),u.jsxs("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:[k.stock_minimum," ",k.unite]}),u.jsx("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:ke(k.prix_unitaire)}),O&&u.jsx("td",{className:"p-3 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>P("resupply",k),title:"Réapprovisionner",className:"p-2 text-green-600 hover:bg-green-100 rounded-full",children:u.jsx(YU,{size:20})}),u.jsx("button",{onClick:()=>P("edit",k),title:"Modifier",className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:u.jsx(RC,{size:20})}),u.jsx("button",{onClick:()=>P("delete",k),title:"Supprimer",className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:u.jsx(Ks,{size:20})})]})})]},k.id)})})]})}),h&&O&&u.jsx(Rte,{isOpen:h,onClose:()=>p(!1),onSuccess:C,ingredient:S,mode:N}),g&&O&&S&&u.jsx(Dte,{isOpen:g,onClose:()=>y(!1),onSuccess:C,ingredient:S}),b&&O&&S&&u.jsx(Ite,{isOpen:b,onClose:()=>w(!1),onSuccess:C,ingredient:S})]})},Rte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r,mode:i})=>{const[o,l]=x.useState({nom:(r==null?void 0:r.nom)||"",unite:(r==null?void 0:r.unite)||"g",stock_minimum:(r==null?void 0:r.stock_minimum)||0}),[d,f]=x.useState(!1),h=async p=>{p.preventDefault(),f(!0);try{i==="edit"&&r?await je.updateIngredient(r.id,o):await je.addIngredient(o),n(),t()}catch(g){console.error("Failed to save ingredient",g)}finally{f(!1)}};return u.jsx(On,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Ingrédient":"Modifier l'Ingrédient",children:u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700",children:"Nom"}),u.jsx("input",{type:"text",id:"nom",value:o.nom,onChange:p=>l({...o,nom:p.target.value}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"unite",className:"block text-sm font-medium text-gray-700",children:"Unité"}),u.jsxs("select",{id:"unite",value:o.unite,onChange:p=>l({...o,unite:p.target.value}),required:!0,className:"mt-1 ui-select",children:[u.jsx("option",{value:"g",children:"Grammes (g)"}),u.jsx("option",{value:"kg",children:"Kilogrammes (kg)"}),u.jsx("option",{value:"ml",children:"Millilitres (ml)"}),u.jsx("option",{value:"L",children:"Litres (L)"}),u.jsx("option",{value:"unite",children:"Unité"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"stock_minimum",className:"block text-sm font-medium text-gray-700",children:"Stock Minimum"}),u.jsx("input",{type:"number",id:"stock_minimum",min:"0",value:o.stock_minimum,onChange:p=>l({...o,stock_minimum:parseFloat(p.target.value)}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-primary py-3 disabled:opacity-60",children:d?"Sauvegarde...":"Sauvegarder"})]})]})})},Dte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=x.useState(0),[l,d]=x.useState(0),[f,h]=x.useState(!1),p=async g=>{if(g.preventDefault(),!(i<=0||l<0)){h(!0);try{await je.resupplyIngredient(r.id,i,l),n(),t()}catch(y){console.error("Failed to resupply ingredient",y)}finally{h(!1)}}};return u.jsx(On,{isOpen:e,onClose:t,title:`Réapprovisionner: ${r.nom}`,children:u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantité Achetée (",r.unite,")"]}),u.jsx("input",{type:"number",id:"quantity",min:"0.01",step:"0.01",value:i,onChange:g=>o(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:["Prix par unité (",r.unite,")"]}),u.jsx("input",{type:"number",id:"unitPrice",min:"0",step:"0.01",value:l,onChange:g=>d(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:f,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:f?"Ajout...":"Ajouter au Stock"})]})]})})},Ite=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=x.useState(!1),[l,d]=x.useState(null),f=async()=>{o(!0),d(null);try{await je.deleteIngredient(r.id),n(),t()}catch(h){console.error("Failed to delete ingredient",h),d("Impossible de supprimer cet ingrédient car il est utilisé dans au moins une recette.")}finally{o(!1)}};return u.jsxs(On,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[u.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer l'ingrédient ",u.jsx("strong",{className:"text-gray-900",children:r.nom})," ? Cette action est irréversible."]}),l&&u.jsx("p",{className:"mt-4 text-sm text-red-600",children:l}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{onClick:f,disabled:i,className:"w-full ui-btn-danger py-3 disabled:opacity-60",children:i?"Suppression...":"Supprimer"})]})]})},SA=[1,2,3,4,5,6],jA=e=>{switch(e){case"disponible":return{text:"Disponible",color:"bg-green-100 text-green-800",Icon:$f};case"agotado_temporal":return{text:"Rupture (Temp.)",color:"bg-yellow-100 text-yellow-800",Icon:Sl};case"agotado_indefinido":return{text:"Indisponible",color:"bg-red-100 text-red-800",Icon:dU};default:return{text:"Inconnu",color:"bg-gray-100 text-gray-800",Icon:cU}}},Lte=()=>{const{role:e}=da(),[t,n]=x.useState([]),[r,i]=x.useState([]),[o,l]=x.useState([]),[d,f]=x.useState(!0),[h,p]=x.useState(null),[g,y]=x.useState(""),[b,w]=x.useState("all"),[S,j]=x.useState(!1),[N,A]=x.useState(!1),[O,C]=x.useState(!1),[T,P]=x.useState(null),[k,D]=x.useState("add"),q=(e==null?void 0:e.permissions["/produits"])==="editor",$=x.useCallback(async()=>{try{f(!0);const[K,I,Y]=await Promise.all([je.getProducts(),je.getCategories(),je.getIngredients()]);n(K),i(I),l(Y),p(null)}catch(K){p("Impossible de charger les données des produits."),console.error(K)}finally{f(!1)}},[]);x.useEffect(()=>{$()},[$]);const F=x.useMemo(()=>t.filter(K=>K.nom_produit.toLowerCase().includes(g.toLowerCase())&&(b==="all"||K.categoria_id===b)),[t,g,b]),H=x.useMemo(()=>{const K=new Map;return t.forEach(I=>{I.is_best_seller&&I.best_seller_rank!=null&&K.set(I.best_seller_rank,I)}),K},[t]),re=(K,I="add",Y=null)=>{K==="product"?(D(I),P(Y),j(!0)):K==="category"?A(!0):K==="delete"&&Y&&(P(Y),C(!0))},B=async(K,I)=>{try{await je.updateProduct(K.id,{estado:I}),$()}catch(Y){console.error("Failed to update status",Y);const X=Y instanceof Error?Y.message:"Une erreur inconnue s'est produite.";alert(`Échec de la mise à jour du statut du produit : ${X}`)}};return d?u.jsx("p",{className:"text-gray-800",children:"Chargement des produits..."}):h?u.jsx("p",{className:"text-red-500",children:h}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mt-6 ui-card p-4 flex flex-col lg:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[u.jsxs("div",{className:"relative flex-grow md:max-w-md",children:[u.jsx(lb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:g,onChange:K=>y(K.target.value),className:"ui-input pl-10"})]}),u.jsxs("select",{value:b,onChange:K=>w(K.target.value),className:"ui-select md:w-56",children:[u.jsx("option",{value:"all",children:"Toutes les catégories"}),r.map(K=>u.jsx("option",{value:K.id,children:K.nom},K.id))]})]}),q&&u.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[u.jsx("button",{onClick:()=>A(!0),className:"flex-1 lg:flex-initial ui-btn-secondary",children:u.jsx(m$,{size:20})}),u.jsxs("button",{onClick:()=>re("product","add"),className:"flex-1 lg:flex-initial ui-btn-primary",children:[u.jsx(ob,{size:20}),"Ajouter Produit"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:F.map(K=>u.jsx(Ute,{product:K,category:r.find(I=>I.id===K.categoria_id),onEdit:()=>re("product","edit",K),onDelete:()=>re("delete","edit",K),onStatusChange:B,canEdit:q},K.id))}),S&&q&&u.jsx($te,{isOpen:S,onClose:()=>j(!1),onSuccess:$,product:T,mode:k,categories:r,ingredients:o,occupiedPositions:H}),N&&q&&u.jsx(zte,{isOpen:N,onClose:()=>A(!1),onSuccess:$,categories:r}),O&&q&&T&&u.jsx(Bte,{isOpen:O,onClose:()=>C(!1),onSuccess:$,product:T})]})},Ute=({product:e,category:t,onEdit:n,onDelete:r,onStatusChange:i,canEdit:o})=>{const{text:l,color:d,Icon:f}=jA(e.estado),[h,p]=x.useState(!1),g=e.prix_vente-(e.cout_revient||0);return e.prix_vente>0&&g/e.prix_vente*100,u.jsxs("div",{className:"ui-card flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-full h-40 object-cover"}),e.is_best_seller&&u.jsxs("span",{className:"absolute top-2 left-2 rounded-full bg-brand-primary/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white shadow-md",children:["Best seller",e.best_seller_rank?` #${e.best_seller_rank}`:""]})]}),u.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.nom)||"Sans catégorie"}),u.jsx("h3",{className:"font-bold text-lg text-gray-900",children:e.nom_produit})]}),u.jsx("p",{className:"text-xl font-extrabold text-brand-primary",children:ke(e.prix_vente)})]}),u.jsx("p",{className:"text-xs text-gray-600 mt-1 flex-grow",children:e.description}),u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full flex items-center gap-1 ${d}`,children:[u.jsx(f,{size:14})," ",l]}),o&&u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>p(!h),className:"p-1 text-gray-500 hover:text-gray-800",children:u.jsx(jC,{size:20})}),h&&u.jsxs("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg z-10 border",children:[u.jsx("button",{onClick:()=>{n(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Modifier"}),u.jsx("button",{onClick:()=>{r(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Supprimer"}),u.jsx("div",{className:"border-t my-1"}),u.jsx("p",{className:"px-4 pt-2 pb-1 text-xs text-gray-500",children:"Changer statut :"}),["disponible","agotado_temporal","agotado_indefinido"].map(y=>u.jsx("button",{onClick:()=>{i(e,y),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:jA(y).text},y))]})]})]})]})]})},$te=({isOpen:e,onClose:t,onSuccess:n,product:r,mode:i,categories:o,ingredients:l,occupiedPositions:d})=>{var q;const[f,h]=x.useState({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((q=o[0])==null?void 0:q.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),[p,g]=x.useState(null),[y,b]=x.useState(!1);x.useEffect(()=>{var $;e&&(h({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||((($=o[0])==null?void 0:$.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),g(null))},[e,r,o]);const w=x.useCallback(()=>{for(const $ of SA){const F=d.get($);if(!F||F.id===(r==null?void 0:r.id))return $}return null},[d,r==null?void 0:r.id]),S=x.useCallback($=>{h(F=>{if($){const H=F.best_seller_rank??w();return{...F,is_best_seller:!0,best_seller_rank:H??null}}return{...F,is_best_seller:!1,best_seller_rank:null}})},[w]),j=x.useCallback($=>{const F=$.target.value;h(H=>({...H,best_seller_rank:F?Number(F):null}))},[]),N=x.useMemo(()=>new Map(l.map($=>[$.id,$])),[l]),A=x.useMemo(()=>f.recipe.reduce(($,F)=>{const H=N.get(F.ingredient_id);if(!H)return $;let re=H.prix_unitaire;return(H.unite==="kg"||H.unite==="L")&&(re=re/1e3),$+re*F.qte_utilisee},0),[f.recipe,N]),O=f.prix_vente-A,C=f.prix_vente>0?O/f.prix_vente*100:0,T=($,F,H)=>{const re=[...f.recipe];if(F==="qte_utilisee"){const{valueAsNumber:B,value:K}=H.currentTarget,I=Number.isNaN(B)?Number(K.replace(",",".")):B;re[$]={...re[$],[F]:Number.isNaN(I)?re[$].qte_utilisee:I}}else re[$]={...re[$],[F]:H.currentTarget.value};h(B=>({...B,recipe:re}))},P=()=>{l.length!==0&&h({...f,recipe:[...f.recipe,{ingredient_id:l[0].id,qte_utilisee:0}]})},k=$=>{const F=f.recipe.filter((H,re)=>re!==$);h({...f,recipe:F})},D=async $=>{var F;if($.preventDefault(),f.recipe.length===0){alert("Veuillez ajouter au moins un ingrédient à la recette.");return}if(f.is_best_seller){if(f.best_seller_rank==null){alert("Veuillez sélectionner une position de best seller disponible.");return}const H=d.get(f.best_seller_rank);if(H&&H.id!==(r==null?void 0:r.id)){alert(`La position ${f.best_seller_rank} est déjà occupée par ${H.nom_produit}.`);return}}b(!0);try{let H=((F=f.image)==null?void 0:F.trim())??"";p&&(H=await A6(p,f.nom_produit));const re={...f,image:H,is_best_seller:f.is_best_seller,best_seller_rank:f.is_best_seller?f.best_seller_rank:null};i==="edit"&&r?await je.updateProduct(r.id,re):await je.addProduct(re),n(),g(null),t()}catch(H){console.error("Failed to save product",H);const re=H instanceof Error?H.message:"Une erreur inconnue s'est produite.";alert(`Échec du téléversement de l'image du produit : ${re}`)}finally{b(!1)}};return u.jsx(On,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Produit":"Modifier le Produit",size:"lg",children:u.jsxs("form",{onSubmit:D,className:"space-y-4",children:[u.jsxs("div",{className:"max-h-[65vh] overflow-y-auto pr-2 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),u.jsx("input",{type:"text",value:f.nom_produit,onChange:$=>h({...f,nom_produit:$.target.value}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix de vente"}),u.jsx("input",{type:"number",step:"0.01",min:"0",value:f.prix_vente,onChange:$=>{const{valueAsNumber:F,value:H}=$.currentTarget,re=Number.isNaN(F)?Number(H.replace(",",".")):F;h(B=>({...B,prix_vente:Number.isNaN(re)?B.prix_vente:re}))},required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catégorie"}),u.jsx("select",{value:f.categoria_id,onChange:$=>h({...f,categoria_id:$.target.value}),required:!0,className:"mt-1 ui-select",children:o.map($=>u.jsx("option",{value:$.id,children:$.nom},$.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{value:f.estado,onChange:$=>h({...f,estado:$.target.value}),required:!0,className:"mt-1 ui-select",children:[u.jsx("option",{value:"disponible",children:"Disponible"}),u.jsx("option",{value:"agotado_temporal",children:"Rupture (Temp.)"}),u.jsx("option",{value:"agotado_indefinido",children:"Indisponible"})]})]}),u.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2 pt-2",children:[u.jsx("input",{id:"best-seller-toggle",type:"checkbox",checked:f.is_best_seller,onChange:$=>S($.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),u.jsx("label",{htmlFor:"best-seller-toggle",className:"text-sm font-medium text-gray-700",children:"Best seller"})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"best-seller-rank",children:"Position dans le classement"}),u.jsxs("select",{id:"best-seller-rank",value:f.best_seller_rank??"",onChange:j,disabled:!f.is_best_seller,className:"mt-1 ui-select",children:[u.jsx("option",{value:"",children:"Sélectionner une position"}),SA.map($=>{const F=d.get($),H=(F==null?void 0:F.id)===(r==null?void 0:r.id),re=!!(F&&!H),B=F?H?`${$} – Position actuelle`:`${$} – Occupé par ${F.nom_produit}`:`${$}`;return u.jsx("option",{value:$,disabled:re,children:B},$)})]}),f.is_best_seller&&f.best_seller_rank===null&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Sélectionnez une position disponible pour ce best seller."})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Coût de revient"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ke(A)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge"}),u.jsx("p",{className:`text-lg font-semibold ${O>=0?"text-emerald-600":"text-red-600"}`,children:ke(O)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge %"}),u.jsxs("p",{className:`text-lg font-semibold ${C>=0?"text-emerald-600":"text-red-600"}`,children:[Number.isFinite(C)?Dz(C):"0","%"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{rows:3,value:f.description,onChange:$=>h({...f,description:$.target.value}),className:"mt-1 ui-textarea",placeholder:"Courte description du produit..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image du produit"}),u.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[u.jsx("img",{src:p?URL.createObjectURL(p):pC(f.image),alt:"Aperçu",className:"w-20 h-20 object-cover rounded-md bg-gray-100"}),u.jsxs("label",{htmlFor:"product-image-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gu,{size:16}),u.jsx("span",{children:"Changer l'image"})]}),u.jsx("input",{id:"product-image-upload",type:"file",className:"sr-only",onChange:$=>g($.target.files?$.target.files[0]:null)})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2 mb-2",children:"Recette"}),f.recipe.length===0&&u.jsx("div",{className:"text-center p-2 my-2 bg-red-50 border border-red-200 rounded-md",children:u.jsx("p",{className:"text-sm text-red-600",children:"Un produit doit contenir au moins un ingrédient."})}),u.jsx("div",{className:"space-y-2",children:f.recipe.map(($,F)=>{var H,re;return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(NU,{className:"text-gray-400 cursor-move",size:16}),u.jsx("select",{value:$.ingredient_id,onChange:B=>T(F,"ingredient_id",B),className:"ui-select flex-grow",children:l.map(B=>u.jsx("option",{value:B.id,children:B.nom},B.id))}),u.jsx("input",{type:"number",placeholder:"Qté",value:$.qte_utilisee,onChange:B=>T(F,"qte_utilisee",B),className:"ui-input w-24"}),u.jsx("span",{className:"text-gray-500 text-sm w-12",children:((H=l.find(B=>B.id===$.ingredient_id))==null?void 0:H.unite)==="kg"?"g":(re=l.find(B=>B.id===$.ingredient_id))==null?void 0:re.unite}),u.jsx("button",{type:"button",onClick:()=>k(F),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:u.jsx(Ks,{size:16})})]},F)})}),u.jsx("button",{type:"button",onClick:P,className:"mt-2 text-sm text-blue-600 hover:underline",children:"Ajouter un ingrédient"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:y||f.recipe.length===0,className:"w-full sm:w-auto ui-btn-primary py-3 disabled:opacity-60",children:y?"Sauvegarde...":"Sauvegarder"})]})]})})},zte=({isOpen:e,onClose:t,onSuccess:n,categories:r})=>{const[i,o]=x.useState(""),[l,d]=x.useState(""),f=async()=>{if(i.trim())try{await je.addCategory(i),o(""),n()}catch(p){console.error(p)}},h=async p=>{d("");try{await je.deleteCategory(p),n()}catch(g){d(g.message),console.error(g)}};return u.jsx(On,{isOpen:e,onClose:t,title:"Gérer les Catégories",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:"Nom de la nouvelle catégorie",className:"ui-input flex-grow"}),u.jsx("button",{onClick:f,className:"ui-btn-primary px-4",children:"Ajouter"})]}),l&&u.jsx("p",{className:"text-red-500 text-sm",children:l}),u.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map(p=>u.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[u.jsx("span",{className:"text-gray-800",children:p.nom}),u.jsx("button",{onClick:()=>h(p.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:u.jsx(Ks,{size:16})})]},p.id))}),u.jsx("div",{className:"pt-4 flex",children:u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Fermer"})})]})})},Bte=({isOpen:e,onClose:t,onSuccess:n,product:r})=>{const[i,o]=x.useState(!1),l=async()=>{o(!0);try{await je.deleteProduct(r.id),n(),t()}catch(d){console.error("Failed to delete product",d)}finally{o(!1)}};return u.jsxs(On,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[u.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer le produit ",u.jsx("strong",{className:"text-gray-900",children:r.nom_produit})," ? Cette action est irréversible."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{onClick:l,disabled:i,className:"w-full sm:w-auto ui-btn-danger py-3",children:i?"Suppression...":"Supprimer"})]})]})},qte=e=>{if(e.status!=="active")return!1;const t=new Date;return!(e.conditions.start_date&&new Date(e.conditions.start_date)>t||e.conditions.end_date&&new Date(e.conditions.end_date)<t||e.conditions.usage_limit&&e.usage_count>=e.conditions.usage_limit)},Hte=e=>{const t=new Date;if(e.days_of_week&&!e.days_of_week.includes(t.getDay()))return!1;if(e.time_range){const[n,r]=e.time_range.start_time.split(":").map(Number),[i,o]=e.time_range.end_time.split(":").map(Number),l=t.getHours()*60+t.getMinutes(),d=n*60+r,f=i*60+o;if(l<d||l>f)return!1}return!0},Fte=(e,t)=>{const n=e.subtotal||e.total;if(t.min_order_amount&&n<t.min_order_amount||t.max_order_amount&&n>t.max_order_amount)return!1;const r=e.items.reduce((i,o)=>i+o.quantite,0);return t.min_items_count&&r<t.min_items_count||t.max_items_count&&r>t.max_items_count||t.order_types&&!t.order_types.includes(e.type)?!1:(t.first_order_only,!0)},Nv=(e,t)=>{if(!qte(e)||!Hte(e.conditions)||!Fte(t,e.conditions))return!1;if(e.type==="buy_x_get_y"){const n=e.discount.buy_x_get_y_config;return!n||!n.product_ids?!1:t.items.filter(i=>n.product_ids.includes(i.produitRef)).reduce((i,o)=>i+o.quantite,0)>=2}return!0},xf=(e,t)=>{let n=0;const r=e.subtotal||e.total;t.applies_to==="total"?n=r:t.applies_to==="products"&&t.product_ids&&t.product_ids.length>0?n=e.items.filter(o=>{var l;return(l=t.product_ids)==null?void 0:l.includes(o.produitRef)}).reduce((o,l)=>o+l.prix_unitaire*l.quantite,0):t.applies_to==="categories"&&t.category_ids&&t.category_ids.length>0;let i=n*t.discount_value/100;return t.max_discount_amount&&(i=Math.min(i,t.max_discount_amount)),i},_f=(e,t)=>t.discount_value,Kte=(e,t)=>{const n=t.buy_x_get_y_config;if(!n)return 0;let r=0;const i=e.items.reduce((o,l)=>(o[l.produitRef]||(o[l.produitRef]=[]),o[l.produitRef].push(l),o),{});for(const o in i){const l=i[o],d=l.reduce((f,h)=>f+h.quantite,0);if(n.product_ids&&n.product_ids.includes(o)&&d>=2){const f=Math.floor(d/2),h=[...l].sort((p,g)=>p.prix_unitaire-g.prix_unitaire);h.length>0&&(r+=h[0].prix_unitaire*f)}}return r},Gte=e=>e.shipping_cost||0,Ev=(e,t)=>{switch(e.type){case"percentage":return xf(t,e.discount);case"fixed_amount":return _f(t,e.discount);case"promo_code":return e.discount.discount_type==="percentage"?xf(t,e.discount):e.discount.discount_type==="fixed_amount"?_f(t,e.discount):0;case"buy_x_get_y":return Kte(t,e.discount);case"free_shipping":return Gte(t);case"threshold":return e.discount.discount_type==="percentage"?xf(t,e.discount):e.discount.discount_type==="fixed_amount"?_f(t,e.discount):0;case"happy_hour":return e.discount.discount_type==="percentage"?xf(t,e.discount):e.discount.discount_type==="fixed_amount"?_f(t,e.discount):0;default:return 0}},Yte=async e=>{const t={...e,applied_promotions:[],total_discount:0,subtotal:e.subtotal||e.total},{data:n,error:r}=await pe.from("promotions").select("*").eq("status","active");if(r||!n)return console.error("Error fetching active promotions:",r),e;const i=["buy_x_get_y","happy_hour","promo_code"],o=["percentage","fixed_amount","threshold","free_shipping"],l=n.filter(h=>i.includes(h.type)&&h.type!=="promo_code"&&Nv(h,t)).sort((h,p)=>p.priority-h.priority);let d=t.subtotal;for(const h of l){const p=Ev(h,t);if(p>0){const g=Math.min(p,d);d-=g,t.total_discount+=g,t.applied_promotions.push({promotion_id:h.id,name:h.name,discount_amount:g})}}if(e.promo_code){const h=await Jte(e.promo_code);if(h&&Nv(h,t)){const p=Ev(h,t);if(p>0){const g=Math.min(p,d);d-=g,t.total_discount+=g,t.applied_promotions.push({promotion_id:h.id,name:h.name,discount_amount:g})}}}t.subtotal=d;const f=n.filter(h=>o.includes(h.type)&&Nv(h,t)).sort((h,p)=>p.priority-h.priority);for(const h of f){const p=Ev(h,t);if(p>0){const g=Math.min(p,d);d-=g,t.total_discount+=g,t.applied_promotions.push({promotion_id:h.id,name:h.name,discount_amount:g})}}return t.total=d,t},Vte=async()=>{const{data:e,error:t}=await pe.from("promotions").select("*").order("priority",{ascending:!1});if(t)throw console.error("Error fetching promotions:",t),new Error("Impossible de récupérer les promotions");return e||[]},BR=async()=>{const{data:e,error:t}=await pe.from("promotions").select("*").eq("status","active").order("priority",{ascending:!1});if(t)throw console.error("Error fetching active promotions:",t),new Error("Impossible de récupérer les promotions actives");return e||[]},Wte=async e=>{const{data:t,error:n}=await pe.from("promotions").insert([{...e,usage_count:0}]).select().single();if(n)throw console.error("Error creating promotion:",n),new Error("Impossible de créer la promotion");return t},qR=async(e,t)=>{const{data:n,error:r}=await pe.from("promotions").update(t).eq("id",e).select().single();if(r)throw console.error("Error updating promotion:",r),new Error("Impossible de mettre à jour la promotion");return n},Xte=async(e,t)=>qR(e,{status:t}),Qte=async e=>{const{error:t}=await pe.from("promotions").delete().eq("id",e);if(t)throw console.error("Error deleting promotion:",t),new Error("Impossible de supprimer la promotion")},Jte=async e=>{const{data:t,error:n}=await pe.from("promotions").select("*").eq("type","promo_code").eq("status","active");return n?(console.error("Error fetching promotion by code:",n),null):(t==null?void 0:t.find(i=>{var o;return((o=i.discount)==null?void 0:o.promo_code)===e}))||null},Zte=async e=>{const{data:t,error:n}=await pe.from("promotion_usages").select("*").eq("promotion_id",e).order("applied_at",{ascending:!1});return n?(console.error("Error fetching promotion usages:",n),[]):t||[]},ene=[{value:"percentage",label:"Pourcentage"},{value:"fixed_amount",label:"Montant fixe"},{value:"promo_code",label:"Code promo"},{value:"buy_x_get_y",label:"2x1 / Achetez X, obtenez Y"},{value:"free_product",label:"Produit gratuit"},{value:"free_shipping",label:"Livraison gratuite"},{value:"combo",label:"Combo"},{value:"threshold",label:"Palier"},{value:"happy_hour",label:"Happy hour"}],tne=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"scheduled",label:"Programmée"},{value:"expired",label:"Expirée"}],NA=({isOpen:e,onClose:t,onSave:n,promotion:r})=>{var H,re;const[i,o]=x.useState(""),[l,d]=x.useState("percentage"),[f,h]=x.useState("active"),[p,g]=x.useState(0),[y,b]=x.useState({}),[w,S]=x.useState({type:"percentage",value:0,applies_to:"total"}),[j,N]=x.useState({}),[A,O]=x.useState(!1),[C,T]=x.useState(null),[P,k]=x.useState("general"),[D,q]=x.useState(!1);x.useEffect(()=>{r&&(o(r.name),d(r.type),h(r.status),g(r.priority),b(r.conditions),S(r.discount),N(r.visuals||{}))},[r]);const $=async B=>{if(B.preventDefault(),O(!0),T(null),l!=="free_shipping"&&(!w.value||w.value<=0)){T("La valeur de la réduction doit être supérieure à 0"),O(!1),k("discount");return}if(!i||i.trim()===""){T("Le nom de la promotion est obligatoire"),O(!1),k("general");return}try{r?await qR(r.id,{name:i,type:l,status:f,priority:p,conditions:y,discount:w,visuals:j}):await Wte({name:i,type:l,status:f,priority:p,conditions:y,discount:w,visuals:j}),n()}catch(K){T(K instanceof Error?K.message:"Une erreur est survenue")}finally{O(!1)}},F=async B=>{var I;const K=(I=B.target.files)==null?void 0:I[0];if(K){q(!0);try{const Y=await Qc(K);N({...j,banner_image:$i(Y)})}catch{T("Erreur lors du téléchargement de l'image")}finally{q(!1)}}};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:r?"Modifier la promotion":"Nouvelle promotion"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(oa,{size:24})})]}),C&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:C}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{className:`px-4 py-3 font-medium ${P==="general"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>k("general"),children:"Général"}),u.jsx("button",{className:`px-4 py-3 font-medium ${P==="conditions"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>k("conditions"),children:"Conditions"}),u.jsx("button",{className:`px-4 py-3 font-medium ${P==="discount"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>k("discount"),children:"Réduction"}),u.jsx("button",{className:`px-4 py-3 font-medium ${P==="visuals"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>k("visuals"),children:"Affichage"})]}),u.jsxs("form",{onSubmit:$,className:"overflow-y-auto p-6",children:[P==="general"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la promotion"}),u.jsx("input",{type:"text",id:"name",value:i,onChange:B=>o(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de promotion"}),u.jsx("select",{id:"type",value:l,onChange:B=>d(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:ene.map(B=>u.jsx("option",{value:B.value,children:B.label},B.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),u.jsx("select",{id:"status",value:f,onChange:B=>h(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:tne.map(B=>u.jsx("option",{value:B.value,children:B.label},B.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité"}),u.jsx("input",{type:"number",id:"priority",value:p,onChange:B=>g(parseInt(B.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",max:"100"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Plus la valeur est élevée, plus la promotion est prioritaire."})]})]}),P==="conditions"&&u.jsxs("div",{className:"space-y-6",children:[l==="promo_code"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Code promo"}),u.jsx("input",{type:"text",id:"promo_code",value:y.promo_code||"",onChange:B=>b({...y,promo_code:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:l==="promo_code"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"min_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant minimum de commande"}),u.jsx("input",{type:"number",id:"min_order_amount",value:y.min_order_amount||"",onChange:B=>b({...y,min_order_amount:parseFloat(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de commande"}),u.jsx("input",{type:"number",id:"max_order_amount",value:y.max_order_amount||"",onChange:B=>b({...y,max_order_amount:parseFloat(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),u.jsx("input",{type:"datetime-local",id:"start_date",value:y.start_date?new Date(y.start_date).toISOString().slice(0,16):"",onChange:B=>b({...y,start_date:B.target.value?new Date(B.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),u.jsx("input",{type:"datetime-local",id:"end_date",value:y.end_date?new Date(y.end_date).toISOString().slice(0,16):"",onChange:B=>b({...y,end_date:B.target.value?new Date(B.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jours de la semaine"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"].map((B,K)=>{var I;return u.jsxs("label",{className:"inline-flex items-center",children:[u.jsx("input",{type:"checkbox",checked:((I=y.days_of_week)==null?void 0:I.includes(K))||!1,onChange:Y=>{const X=y.days_of_week||[];Y.target.checked?b({...y,days_of_week:[...X,K]}):b({...y,days_of_week:X.filter(de=>de!==K)})},className:"form-checkbox h-4 w-4 text-brand-primary"}),u.jsx("span",{className:"ml-2 text-sm",children:B})]},K)})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"hours_start",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de début"}),u.jsx("input",{type:"time",id:"hours_start",value:((H=y.hours_of_day)==null?void 0:H.start)||"",onChange:B=>b({...y,hours_of_day:{...y.hours_of_day||{},start:B.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"hours_end",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de fin"}),u.jsx("input",{type:"time",id:"hours_end",value:((re=y.hours_of_day)==null?void 0:re.end)||"",onChange:B=>b({...y,hours_of_day:{...y.hours_of_day||{},end:B.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_uses",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre maximum d'utilisations"}),u.jsx("input",{type:"number",id:"max_uses",value:y.max_uses_total||"",onChange:B=>b({...y,max_uses_total:parseInt(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_uses_per_customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum par client"}),u.jsx("input",{type:"number",id:"max_uses_per_customer",value:y.max_uses_per_customer||"",onChange:B=>b({...y,max_uses_per_customer:parseInt(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]})]}),l==="buy_x_get_y"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"buy_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité à acheter"}),u.jsx("input",{type:"number",id:"buy_quantity",value:y.buy_quantity||"",onChange:B=>b({...y,buy_quantity:parseInt(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"get_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité offerte"}),u.jsx("input",{type:"number",id:"get_quantity",value:y.get_quantity||"",onChange:B=>b({...y,get_quantity:parseInt(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"first_order_only",checked:y.first_order_only||!1,onChange:B=>b({...y,first_order_only:B.target.checked}),className:"h-4 w-4 text-brand-primary"}),u.jsx("label",{htmlFor:"first_order_only",className:"ml-2 text-sm text-gray-700",children:"Uniquement pour la première commande"})]})]}),P==="discount"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discount_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de réduction"}),u.jsxs("select",{id:"discount_type",value:w.type,onChange:B=>S({...w,type:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[u.jsx("option",{value:"percentage",children:"Pourcentage"}),u.jsx("option",{value:"fixed_amount",children:"Montant fixe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discount_value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur de la réduction"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",id:"discount_value",value:w.value,onChange:B=>S({...w,value:parseFloat(B.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:(w.type==="percentage","0.01"),required:!0}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:w.type==="percentage"?"%":"€"})]})]})]}),w.type==="percentage"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_discount_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de la réduction"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",id:"max_discount_amount",value:w.max_discount_amount||"",onChange:B=>S({...w,max_discount_amount:parseFloat(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:"€"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"applies_to",className:"block text-sm font-medium text-gray-700 mb-1",children:"Application de la réduction"}),u.jsxs("select",{id:"applies_to",value:w.applies_to,onChange:B=>S({...w,applies_to:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[u.jsx("option",{value:"total",children:"Total de la commande"}),u.jsx("option",{value:"products",children:"Produits spécifiques"}),u.jsx("option",{value:"shipping",children:"Frais de livraison"})]})]})]}),P==="visuals"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du badge"}),u.jsx("input",{type:"text",id:"badge_text",value:j.badge_text||"",onChange:B=>N({...j,badge_text:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: 2x1, -20%, etc."})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur du texte du badge"}),u.jsx("input",{type:"color",id:"badge_color",value:j.badge_color||"#FFFFFF",onChange:B=>N({...j,badge_color:B.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_bg_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur de fond du badge"}),u.jsx("input",{type:"color",id:"badge_bg_color",value:j.badge_bg_color||"#F9A826",onChange:B=>N({...j,badge_bg_color:B.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_bg_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de fond du badge (optionnel)"}),u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Si vous uploadez une image, elle remplacera la couleur de fond du badge"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[u.jsx("input",{type:"file",id:"badge_bg_image",onChange:async B=>{var I;const K=(I=B.target.files)==null?void 0:I[0];if(K){q(!0);try{const Y=await Qc(K,{tags:["badge-background"]});N({...j,badge_bg_image:$i(Y)})}catch{T("Erreur lors du téléchargement de l'image du badge")}finally{q(!1)}}},className:"sr-only",accept:"image/*"}),u.jsx("span",{children:D?"Téléchargement...":"Choisir une image"})]}),j.badge_bg_image&&u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:j.badge_bg_image,alt:"Aperçu de l'image de fond du badge",className:"h-16 w-auto object-cover rounded"}),u.jsx("button",{type:"button",onClick:()=>N({...j,badge_bg_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(oa,{size:12})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte de la bannière"}),u.jsx("input",{type:"text",id:"banner_text",value:j.banner_text||"",onChange:B=>N({...j,banner_text:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Offre spéciale : 20% de réduction sur tous les tacos !"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de la bannière"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[u.jsx("input",{type:"file",id:"banner_image",onChange:F,className:"sr-only",accept:"image/*"}),u.jsx("span",{children:D?"Téléchargement...":"Choisir une image"})]}),j.banner_image&&u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:j.banner_image,alt:"Aperçu de la bannière",className:"h-16 w-auto object-cover rounded"}),u.jsx("button",{type:"button",onClick:()=>N({...j,banner_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(oa,{size:12})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_cta",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du bouton d'appel à l'action"}),u.jsx("input",{type:"text",id:"banner_cta",value:j.banner_cta||"",onChange:B=>N({...j,banner_cta:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: En profiter maintenant"})]})]})]}),u.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:A,children:"Annuler"}),u.jsx("button",{type:"submit",onClick:$,className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-brand-primary-dark flex items-center gap-2",disabled:A,children:A?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),u.jsx("span",{children:"Enregistrement..."})]}):u.jsx("span",{children:"Enregistrer"})})]})]})}):null},nne={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},rne={active:"Active",inactive:"Inactive",scheduled:"Programmée",expired:"Expirée"},ane={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},ine=({isOpen:e,onClose:t,promotion:n})=>{const[r,i]=x.useState([]),[o,l]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState("details");x.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{l(!0),f(null);try{const b=await Zte(n.id);i(b)}catch(b){f("Erreur lors du chargement des utilisations"),console.error(b)}finally{l(!1)}},y=b=>{const w=new Date(b);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(w)};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Détails de la promotion"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(oa,{size:24})})]}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{className:`px-4 py-3 font-medium ${h==="details"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("details"),children:"Détails"}),u.jsxs("button",{className:`px-4 py-3 font-medium ${h==="usages"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("usages"),children:["Utilisations (",n.usage_count,")"]})]}),u.jsxs("div",{className:"overflow-y-auto p-6",children:[h==="details"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:n.name}),u.jsxs("div",{className:"flex items-center mt-1",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ane[n.status]}`,children:rne[n.status]}),u.jsx("span",{className:"ml-2 text-sm text-gray-500",children:nne[n.type]})]})]}),u.jsx("div",{className:"mt-2 md:mt-0",children:u.jsxs("span",{className:"text-sm text-gray-500",children:["Priorité: ",n.priority]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(CU,{size:16,className:"mr-1"}),"Informations générales"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"ID:"}),u.jsx("span",{className:"text-sm font-mono",children:n.id})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Créée le:"}),u.jsx("span",{className:"text-sm",children:y(n.created_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Mise à jour:"}),u.jsx("span",{className:"text-sm",children:y(n.updated_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations:"}),u.jsx("span",{className:"text-sm",children:n.usage_count})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(Ph,{size:16,className:"mr-1"}),"Réduction"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),u.jsx("span",{className:"text-sm",children:n.discount.type==="percentage"?"Pourcentage":"Montant fixe"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Valeur:"}),u.jsxs("span",{className:"text-sm font-medium",children:[n.discount.value,n.discount.type==="percentage"?"%":"€"]})]}),n.discount.max_discount_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Maximum:"}),u.jsxs("span",{className:"text-sm",children:[n.discount.max_discount_amount,"€"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Application:"}),u.jsxs("span",{className:"text-sm",children:[n.discount.applies_to==="total"&&"Total de la commande",n.discount.applies_to==="products"&&"Produits spécifiques",n.discount.applies_to==="shipping"&&"Frais de livraison"]})]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(F6,{size:16,className:"mr-1"}),"Conditions"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.conditions.promo_code&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Code promo:"}),u.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-0.5 rounded",children:n.conditions.promo_code})]}),n.conditions.min_order_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Montant minimum:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.min_order_amount,"€"]})]}),n.conditions.max_order_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Montant maximum:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.max_order_amount,"€"]})]}),n.conditions.start_date&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Date de début:"}),u.jsx("span",{className:"text-sm",children:y(n.conditions.start_date)})]}),n.conditions.end_date&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Date de fin:"}),u.jsx("span",{className:"text-sm",children:y(n.conditions.end_date)})]}),n.conditions.days_of_week&&n.conditions.days_of_week.length>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Jours:"}),u.jsx("span",{className:"text-sm",children:n.conditions.days_of_week.map(b=>["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"][b]).join(", ")})]}),n.conditions.hours_of_day&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Heures:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.hours_of_day.start," - ",n.conditions.hours_of_day.end]})]}),n.conditions.max_uses_total&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations max:"}),u.jsx("span",{className:"text-sm",children:n.conditions.max_uses_total})]}),n.conditions.max_uses_per_customer&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Max par client:"}),u.jsx("span",{className:"text-sm",children:n.conditions.max_uses_per_customer})]}),n.conditions.first_order_only&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Première commande:"}),u.jsx("span",{className:"text-sm",children:"Oui"})]}),n.type==="buy_x_get_y"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Achetez:"}),u.jsx("span",{className:"text-sm",children:n.conditions.buy_quantity})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Obtenez:"}),u.jsx("span",{className:"text-sm",children:n.conditions.get_quantity})]})]})]})]}),n.visuals&&Object.keys(n.visuals).length>0&&u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(zf,{size:16,className:"mr-1"}),"Éléments visuels"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.visuals.badge_text&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Badge:"}),u.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:n.visuals.badge_color||"#F9A826",color:"#ffffff"},children:n.visuals.badge_text})]}),n.visuals.banner_text&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Texte bannière:"}),u.jsx("span",{className:"text-sm",children:n.visuals.banner_text})]}),n.visuals.banner_cta&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Bouton:"}),u.jsx("span",{className:"text-sm",children:n.visuals.banner_cta})]})]}),n.visuals.banner_image&&u.jsxs("div",{className:"mt-4",children:[u.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Image de bannière:"}),u.jsx("img",{src:n.visuals.banner_image,alt:"Bannière promotionnelle",className:"w-full h-auto max-h-40 object-cover rounded-lg"})]})]})]}),h==="usages"&&u.jsxs("div",{children:[d&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d}),o?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),u.jsx("span",{className:"ml-2",children:"Chargement..."})]}):r.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune utilisation enregistrée pour cette promotion"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Commande"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Montant"})]})}),u.jsx("tbody",{children:r.map(b=>u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:y(b.applied_at)}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("a",{href:"#",className:"text-brand-primary hover:underline flex items-center",onClick:w=>{w.preventDefault()},children:[b.order_id.substring(0,8),"...",u.jsx(vU,{size:14,className:"ml-1"})]})}),u.jsx("td",{className:"px-4 py-3",children:b.customer_phone||"-"}),u.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:[b.discount_amount.toFixed(2),"€"]})]},b.id))})]})})]})]}),u.jsx("div",{className:"flex justify-end p-6 border-t",children:u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Fermer"})})]})}):null},sne=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmLabel:o="Confirmer",cancelLabel:l="Annuler",confirmButtonClass:d="bg-brand-primary hover:bg-brand-primary-dark"})=>e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:r}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(oa,{size:24})})]}),u.jsx("div",{className:"p-6",children:u.jsx("p",{className:"text-gray-700",children:i})}),u.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:l}),u.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 text-white rounded-md ${d}`,children:o})]})]})}):null,one={active:"Active",inactive:"Inactive",scheduled:"Programmée",expired:"Expirée"},lne={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},cne={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},une={percentage:u.jsx(Ph,{size:16}),fixed_amount:u.jsx(zf,{size:16}),promo_code:u.jsx(zf,{size:16}),buy_x_get_y:u.jsx(Zo,{size:16}),free_product:u.jsx(Zo,{size:16}),free_shipping:u.jsx(Zo,{size:16}),combo:u.jsx(Zo,{size:16}),threshold:u.jsx(SC,{size:16}),happy_hour:u.jsx(Sl,{size:16})},dne=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,o]=x.useState(null),[l,d]=x.useState(!1),[f,h]=x.useState(!1),[p,g]=x.useState(!1),[y,b]=x.useState(!1),[w,S]=x.useState(null),[j,N]=x.useState(""),[A,O]=x.useState("all"),[C,T]=x.useState("all"),[P,k]=x.useState("priority"),[D,q]=x.useState("desc"),$=async()=>{r(!0),o(null);try{const R=await Vte();t(R)}catch(R){o("Erreur lors du chargement des promotions"),console.error(R)}finally{r(!1)}};x.useEffect(()=>{$()},[]);const F=()=>{S(null),d(!0)},H=R=>{S(R),h(!0)},re=R=>{S(R),g(!0)},B=R=>{S(R),b(!0)},K=async R=>{try{const L=R.active?"inactive":"active",W=await Xte(R.id,L);t(e.map(se=>se.id===R.id?W:se))}catch(L){o("Erreur lors de la mise à jour du statut"),console.error(L)}},I=async()=>{if(w)try{await Qte(w.id),t(e.filter(R=>R.id!==w.id)),b(!1)}catch(R){o("Erreur lors de la suppression de la promotion"),console.error(R)}},Y=R=>{P===R?q(D==="asc"?"desc":"asc"):(k(R),q("desc"))},X=e.filter(R=>{const L=R.name.toLowerCase().includes(j.toLowerCase()),W=A==="all"||R.status===A,se=C==="all"||R.type===C;return L&&W&&se}).sort((R,L)=>{let W=0;switch(P){case"name":W=R.name.localeCompare(L.name);break;case"priority":W=R.priority-L.priority;break;case"created_at":W=new Date(R.created_at).getTime()-new Date(L.created_at).getTime();break;case"usage_count":W=R.usage_count-L.usage_count;break}return D==="asc"?W:-W}),de=R=>P!==R?null:D==="asc"?u.jsx(SC,{size:16}):u.jsx(wC,{size:16}),ne=R=>{const L=new Date(R);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(L)};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des promotions"}),u.jsxs("button",{onClick:F,className:"bg-brand-primary hover:bg-brand-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(pu,{size:20}),"Nouvelle promotion"]})]}),i&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Rechercher une promotion...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg",value:j,onChange:R=>N(R.target.value)}),u.jsx(lb,{className:"absolute left-3 top-2.5 text-gray-400",size:20})]})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:A,onChange:R=>O(R.target.value),children:[u.jsx("option",{value:"all",children:"Tous les statuts"}),u.jsx("option",{value:"active",children:"Actives"}),u.jsx("option",{value:"inactive",children:"Inactives"}),u.jsx("option",{value:"scheduled",children:"Programmées"}),u.jsx("option",{value:"expired",children:"Expirées"})]}),u.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:C,onChange:R=>T(R.target.value),children:[u.jsx("option",{value:"all",children:"Tous les types"}),u.jsx("option",{value:"percentage",children:"Pourcentage"}),u.jsx("option",{value:"fixed_amount",children:"Montant fixe"}),u.jsx("option",{value:"promo_code",children:"Code promo"}),u.jsx("option",{value:"buy_x_get_y",children:"2x1 / Achetez X, obtenez Y"}),u.jsx("option",{value:"free_product",children:"Produit gratuit"}),u.jsx("option",{value:"free_shipping",children:"Livraison gratuite"}),u.jsx("option",{value:"combo",children:"Combo"}),u.jsx("option",{value:"threshold",children:"Palier"}),u.jsx("option",{value:"happy_hour",children:"Happy hour"})]}),u.jsxs("button",{onClick:$,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(o$,{size:18}),u.jsx("span",{className:"hidden md:inline",children:"Actualiser"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("name"),children:["Nom ",de("name")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Statut"}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("priority"),children:["Priorité ",de("priority")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("created_at"),children:["Créée le ",de("created_at")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("usage_count"),children:["Utilisations ",de("usage_count")]})}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),u.jsx("tbody",{children:n?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-8 text-center",children:u.jsxs("div",{className:"flex justify-center items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),u.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):X.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Aucune promotion trouvée"})}):X.map(R=>u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsxs("td",{className:"px-4 py-4",children:[u.jsx("div",{className:"font-medium",children:R.name}),R.type==="promo_code"&&R.conditions.promo_code&&u.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",u.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:R.conditions.promo_code})]})]}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[une[R.type],u.jsx("span",{children:cne[R.type]})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${lne[R.status]}`,children:one[R.status]})}),u.jsx("td",{className:"px-4 py-4",children:R.priority}),u.jsx("td",{className:"px-4 py-4",children:ne(R.created_at)}),u.jsx("td",{className:"px-4 py-4",children:R.usage_count}),u.jsx("td",{className:"px-4 py-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>K(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:R.status==="active"?"Désactiver":"Activer",children:R.status==="active"?u.jsx(xU,{size:18}):u.jsx(Fv,{size:18})}),u.jsx("button",{onClick:()=>re(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Voir les détails",children:u.jsx(Fv,{size:18})}),u.jsx("button",{onClick:()=>H(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Modifier",children:u.jsx(RC,{size:18})}),u.jsx("button",{onClick:()=>B(R),className:"p-1.5 rounded-md hover:bg-gray-100 text-red-500",title:"Supprimer",children:u.jsx(Ks,{size:18})})]})})]},R.id))})]})})]}),l&&u.jsx(NA,{isOpen:l,onClose:()=>d(!1),onSave:()=>{d(!1),$()}}),f&&w&&u.jsx(NA,{isOpen:f,onClose:()=>h(!1),onSave:()=>{h(!1),$()},promotion:w}),p&&w&&u.jsx(ine,{isOpen:p,onClose:()=>g(!1),promotion:w}),y&&w&&u.jsx(sne,{isOpen:y,onClose:()=>b(!1),onConfirm:I,title:"Supprimer la promotion",message:`Êtes-vous sûr de vouloir supprimer la promotion "${w.name}" ? Cette action est irréversible.`,confirmLabel:"Supprimer",cancelLabel:"Annuler",confirmButtonClass:"bg-red-600 hover:bg-red-700"})]})},fne=({promotion:e,className:t=""})=>{const n=e.config,r=n.visuals||{};let i=r.badge_text||"",o=r.description||e.description||"";i||(n.discount_type==="percentage"?(i=`-${n.discount_value}%`,o=o||`${n.discount_value}% de descuento`):n.discount_type==="fixed_amount"?(i=`-$${n.discount_value.toLocaleString()}`,o=o||`$${n.discount_value.toLocaleString()} de descuento`):n.buy_quantity&&n.get_quantity?(i=`${n.buy_quantity}x${n.get_quantity}`,o=o||`Compra ${n.buy_quantity}, lleva ${n.get_quantity}`):n.applies_to==="shipping"?(i="ENVÍO GRATIS",o=o||"Envío gratis en este producto"):(i=e.name||"PROMO",o=o||e.name));const l=r.badge_color||"#FFFFFF",d=r.badge_bg_color||"#E63946",f=r.badge_bg_image;return u.jsx("div",{className:`px-2 py-0.5 rounded-full font-bold text-xs shadow-md ${t}`,style:{backgroundColor:f?"transparent":d,backgroundImage:f?`url(${f})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:l,textShadow:f?"0 1px 3px rgba(0,0,0,0.8)":"none"},title:o,children:i})},hne=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[o,l]=x.useState(null);x.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{try{i(!0);const g=(await BR().catch(y=>(console.error("[useProductPromotions] Error fetching active promotions from API:",y),[]))).filter(y=>{if(!I$(y)||!L$(y))return!1;const b=y.config||{},w=Array.isArray(y.conditions)?y.conditions:[];return!b.product_ids&&!b.category_ids&&w.length===0?!1:b.product_ids&&Array.isArray(b.product_ids)&&b.product_ids.length>0&&b.product_ids.includes(e.id)||b.category_ids&&Array.isArray(b.category_ids)&&b.category_ids.length>0&&b.category_ids.includes(e.categoria_id)?!0:w.length>0?w.some(j=>j.type==="specific_product"&&Array.isArray(j.value)?j.value.includes(e.id):j.type==="specific_category"&&Array.isArray(j.value)?j.value.includes(e.categoria_id):!1):!1}).sort((y,b)=>(b.priority||0)-(y.priority||0));n(g)}catch(h){console.error("[useProductPromotions] Error during promotion processing:",h),l(h instanceof Error?h:new Error("Une erreur est survenue")),n([])}finally{i(!1)}})()},[e]);const d=t.length>0?t[0]:null;return{promotions:t,bestPromotion:d,loading:r,error:o}},mne=({product:e,onClick:t})=>{const{promotions:n,loading:r}=hne(e);return u.jsxs("div",{onClick:()=>e.estado==="disponible"&&t(),className:`relative border rounded-2xl p-6 flex flex-col items-center text-center transition-shadow bg-white/90 shadow-md ${e.estado==="disponible"?"cursor-pointer hover:shadow-xl":"opacity-50"}`,children:[!r&&n.length>0&&e.estado==="disponible"&&u.jsx("div",{className:"absolute top-2 right-2 flex flex-wrap gap-1 max-w-[calc(100%-1rem)] justify-end z-10",children:n.map((i,o)=>u.jsx(fne,{promotion:i},i.id||o))}),u.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-36 h-36 md:w-40 md:h-40 object-cover rounded-xl mb-4"}),u.jsx("p",{className:"font-semibold text-lg flex-grow text-gray-800",children:e.nom_produit}),u.jsx("p",{className:"text-base text-gray-600 mt-2 px-1 max-h-20 overflow-hidden",children:e.description}),u.jsx("p",{className:"font-bold text-2xl text-gray-800 mt-3",children:ke(e.prix_vente)}),e.estado!=="disponible"&&u.jsx("span",{className:"text-xs text-red-500 font-bold mt-1",children:"Agotado"})]})},pne=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const f=await BR();t(f)}catch(f){console.error("Error loading promotions:",f)}finally{r(!1)}})()},[]);const i=e.filter(d=>d.type!=="promo_code");if(n||i.length===0)return null;const o=d=>{var f;return d.type==="free_shipping"?u.jsx(O$,{size:16}):d.type==="percentage"?u.jsx(Ph,{size:16}):(f=d.conditions)!=null&&f.time_range?u.jsx(Sl,{size:16}):d.type==="buy_x_get_y"?u.jsx(s2,{size:16}):u.jsx(zf,{size:16})},l=d=>{const f=d.discount,h=d.conditions;let p=d.description||d.name;return h!=null&&h.min_order_amount&&(p+=` (Mínimo: ${h.min_order_amount.toLocaleString()})`),h!=null&&h.time_range&&(p+=` (${h.time_range.start_time} - ${h.time_range.end_time})`),d.type==="promo_code"&&(f!=null&&f.promo_code)&&(p+=` (Código: ${f.promo_code})`),p};return u.jsxs("div",{className:"mb-4 space-y-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center drop-shadow-md",children:[u.jsx(s2,{className:"mr-2",size:22}),"Promociones Activas"]}),u.jsx("div",{className:"space-y-2",children:i.map(d=>{var g,y,b,w;const f=((g=d.visuals)==null?void 0:g.badge_bg_color)||"#4CAF50",h=(y=d.visuals)==null?void 0:y.banner_image,p=(b=d.visuals)==null?void 0:b.banner_text;return h?u.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md transition-transform hover:scale-[1.02]",children:[u.jsx("img",{src:h,alt:d.name,className:"w-full h-32 object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-3",children:u.jsxs("div",{className:"text-white",children:[u.jsx("p",{className:"font-bold text-lg drop-shadow-md",children:d.name}),p&&u.jsx("p",{className:"text-sm drop-shadow-md",children:p})]})})]},d.id):u.jsxs("div",{className:"flex items-start p-2 rounded-lg shadow-sm border-l-4 transition-transform hover:scale-[1.01]",style:{borderLeftColor:f,background:`linear-gradient(to right, ${f}15, white)`},children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:f,color:((w=d.visuals)==null?void 0:w.badge_color)||"#FFFFFF"},children:o(d)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-gray-900 text-sm",children:d.name}),u.jsx("p",{className:"text-xs text-gray-600",children:l(d)})]})]},d.id)})})]})},gne=({isOpen:e,order:t,whatsappNumber:n="573238090562"})=>{const r=Xa();if(!e||!t)return null;const i=()=>{var y,b,w;const l=t.items.filter(S=>{var j;return!((j=S.nom_produit)!=null&&j.toLowerCase().includes("domicilio"))}).map(S=>`- ${S.quantite}x ${S.nom_produit} (${ke(S.prix_unitaire)})`).join(`
`),d=`Total: ${ke(t.total)}`,f=`Cliente: ${(y=t.clientInfo)==null?void 0:y.nom} (${(b=t.clientInfo)==null?void 0:b.telephone})
Dirección: ${(w=t.clientInfo)==null?void 0:w.adresse}`,h=`Método de pago: ${t.payment_method==="transferencia"?"Transferencia":"Efectivo"}`,p=t.receipt_url?`Comprobante: ${t.receipt_url}`:"",g=`Pedido #${t.id.slice(-6)}`;return encodeURIComponent(`¡Hola! Aquí está mi pedido:

${g}

${l}

${d}

${f}
${h}
${p}`)},o=()=>{const l=i(),d=`https://wa.me/${n}?text=${l}`;window.open(d,"_blank"),r(`/suivi-commande/${t.id}`)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6 text-white",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx($f,{size:64,className:"mb-3"}),u.jsx("h2",{className:"text-2xl font-bold text-center",children:"¡Pedido Confirmado!"}),u.jsxs("p",{className:"text-green-100 mt-2",children:["Pedido #",t.id.slice(-6)]})]})}),u.jsxs("div",{className:"p-6 text-center",children:[u.jsxs("p",{className:"text-gray-700 mb-6",children:["Total: ",u.jsx("span",{className:"font-bold text-2xl text-green-600",children:ke(t.total)})]}),u.jsxs("button",{onClick:o,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-lg flex items-center justify-center gap-3 transition-all transform hover:scale-105 shadow-lg",children:[u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Enviar por WhatsApp"]}),u.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Haz clic para enviar tu pedido por WhatsApp y ver el seguimiento"})]})]})})},wf=8e3,HR="Domicilio",EA=e=>e.nom_produit===HR,yne=({isOpen:e,onClose:t,selectedProduct:n,onAddToCart:r})=>{var b;const[i,o]=x.useState(1),[l,d]=x.useState(""),[f,h]=x.useState([]);if(x.useEffect(()=>{e&&(o((n==null?void 0:n.quantite)||1),d((n==null?void 0:n.commentaire)||""),h((n==null?void 0:n.excluded_ingredients)||[]))},[e,n]),!e||!n)return null;const p=()=>{const w=n.product;r({id:`oi${Date.now()}`,produitRef:w.id,nom_produit:w.nom_produit,prix_unitaire:w.prix_vente,quantite:i,commentaire:l.trim()||void 0,excluded_ingredients:f.length>0?f:void 0})},g=w=>{f.includes(w)?h(f.filter(S=>S!==w)):h([...f,w])},y=((b=n.product.ingredients)==null?void 0:b.split(",").map(w=>w.trim()).filter(Boolean))||[];return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n.product.nom_produit}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("img",{src:n.product.image,alt:n.product.nom_produit,className:"w-full h-48 object-cover rounded-lg mb-4"}),u.jsx("p",{className:"text-gray-600 mb-4",children:n.product.description}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"font-bold text-gray-800 mb-2",children:["Precio: ",ke(n.product.prix_vente)]}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("button",{onClick:()=>o(Math.max(1,i-1)),className:"bg-gray-200 text-gray-700 rounded-l-lg px-3 py-1",children:"-"}),u.jsx("span",{className:"bg-gray-100 px-4 py-1",children:i}),u.jsx("button",{onClick:()=>o(i+1),className:"bg-gray-200 text-gray-700 rounded-r-lg px-3 py-1",children:"+"})]})]}),y.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"font-bold text-gray-800 mb-2",children:"Ingredientes:"}),u.jsx("div",{className:"space-y-2",children:y.map((w,S)=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`ingredient-${S}`,checked:!f.includes(w),onChange:()=>g(w),className:"mr-2"}),u.jsx("label",{htmlFor:`ingredient-${S}`,className:"text-gray-700",children:w})]},S))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"comment",className:"block font-bold text-gray-800 mb-2",children:"Comentarios adicionales:"}),u.jsx("textarea",{id:"comment",value:l,onChange:w=>d(w.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-gray-700",rows:3,placeholder:"Instrucciones especiales, alergias, etc."})]}),u.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-4 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg transform hover:scale-105",children:["Agregar al carrito - ",ke(n.product.prix_vente*i)]})]})})})},vne=({onOrderSubmitted:e})=>{Rh();const[t,n]=x.useState([]),[r,i]=x.useState([]),[o,l]=x.useState(!0),[d,f]=x.useState(null),[h,p]=x.useState("all"),[g,y]=x.useState([]),[b,w]=x.useState(!1),[S,j]=x.useState(null),[N,A]=x.useState(""),[O,C]=x.useState(""),[T,P]=x.useState(""),[k,D]=x.useState("transferencia"),[q,$]=x.useState(null),[F,H]=x.useState(!1),[re,B]=x.useState(!1),[K,I]=x.useState(null),[Y,X]=x.useState([]),[de,ne]=x.useState(""),[R,L]=x.useState(""),[W,se]=x.useState(""),[oe,xe]=x.useState(0),[Se,me]=x.useState(!1),[V,ge]=x.useState(8e4),[ye,ce]=x.useState("pedir_en_linea");x.useEffect(()=>{(async()=>{try{const[ae,fe]=await Promise.all([je.getProducts(),je.getCategories()]);n(ae),i(fe);try{const he=localStorage.getItem("customer-order-history");if(he){const Me=JSON.parse(he);X(Me.slice(0,3))}}catch(he){console.error("Error fetching order history:",he)}}catch(ae){console.error("Error fetching data:",ae),f("Error al cargar los datos. Por favor, intenta de nuevo más tarde.")}finally{l(!1)}})()},[]);const Qe=x.useMemo(()=>h==="all"?t:t.filter(ve=>ve.categoria_id===h),[t,h]),[Ae,wt]=x.useState({subtotal:0,total:0,automaticPromotionsDiscount:0,promoCodeDiscount:0,deliveryFee:0,appliedPromotions:[]});x.useEffect(()=>{(async()=>{var gt;const ae=g.reduce((Oe,Ye)=>Oe+Ye.quantite*Ye.prix_unitaire,0);if(g.length===0){wt({subtotal:0,total:0,automaticPromotionsDiscount:0,promoCodeDiscount:0,deliveryFee:0,appliedPromotions:[]}),me(!1);return}const fe={id:"temp",items:g,subtotal:ae,total:ae,total_discount:0,applied_promotions:[],promo_code:R||void 0,client_name:N,client_phone:O,client_address:T,shipping_cost:wf,order_type:ye,payment_method:k,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},he=await Yte(fe),Me=he.total_discount||0,ze=((gt=he.applied_promotions.find(Oe=>{var Ye;return((Ye=Oe.config)==null?void 0:Ye.promo_code)===R}))==null?void 0:gt.discount_amount)||0,lt=Me-ze;let De=ye==="pedir_en_linea"?wf:0;const Je=he.applied_promotions.some(Oe=>Oe.type==="FREE_SHIPPING");Je&&(De=0),me(Je);const ct=ae-Me+De;wt({subtotal:ae,total:ct,automaticPromotionsDiscount:lt,promoCodeDiscount:ze,deliveryFee:De,appliedPromotions:he.applied_promotions})})()},[g,R,ye,N,O,T,k]);const{total:At,subtotal:Wt,promoCodeDiscount:cr,deliveryFee:fa}=Ae,Pr=ve=>{const ae=g.find(fe=>fe.produitRef===ve.id);j({product:ve,quantite:ae==null?void 0:ae.quantite,commentaire:ae==null?void 0:ae.commentaire,excluded_ingredients:ae==null?void 0:ae.excluded_ingredients}),w(!0)},Kn=ve=>{y(ae=>{const fe=ae.findIndex(he=>he.produitRef===ve.produitRef);if(fe>-1){const he=[...ae];return he[fe]={...he[fe],...ve},he}else return[...ae,ve]}),w(!1)},Mr=(ve,ae)=>{y(g.map(fe=>{if(fe.id===ve){const he=fe.quantite+ae;return he<=0?null:{...fe,quantite:he}}return fe}).filter(Boolean))},ha=ve=>{const ae=ve.items.filter(fe=>!EA(fe));y(ae)},kt=async()=>{de.trim()&&(se(""),L(de))},Rr=()=>{L(""),ne(""),se("")},ri=async ve=>{ve.preventDefault(),H(!0);let ae="";if(k==="transferencia"&&q)try{ae=await gC(q)}catch(he){console.error("Error uploading receipt:",he),f("Error al subir el comprobante de pago."),H(!1);return}const fe={id:`ord_${Date.now()}`,items:g,clientInfo:{nom:N,telephone:O,adresse:T},shipping_cost:fa,order_type:ye,payment_method:k,receipt_url:ae,subtotal:Ae.subtotal,total:Ae.total,total_discount:Ae.automaticPromotionsDiscount+Ae.promoCodeDiscount,promo_code:R||void 0,applied_promotions:Ae.appliedPromotions,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("finalOrder.total avant createOrder:",fe.total),console.log("orderTotals:",Ae);try{const he=await je.createOrder(fe);console.log("submitted.total après createOrder:",he.total),I(he),B(!0),e==null||e(he);try{const Me=localStorage.getItem("customer-order-history"),ze=Me?JSON.parse(Me):[],lt=[he,...ze].slice(0,10);localStorage.setItem("customer-order-history",JSON.stringify(lt)),X(lt.slice(0,3))}catch(Me){console.error("Error updating order history:",Me)}}catch(he){console.error("Error submitting order:",he),f("Error al enviar el pedido. Por favor, intenta de nuevo.")}finally{H(!1)}};return u.jsxs("div",{className:"flex flex-col lg:flex-row",children:[u.jsxs("div",{className:"flex-1 p-4 lg:p-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6 drop-shadow-md",children:"Realizar Pedido"}),u.jsx(pne,{}),u.jsxs("div",{className:"flex space-x-3 mb-6 overflow-x-auto pb-2",children:[u.jsx("button",{onClick:()=>p("all"),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${h==="all"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:"Todos"}),r.map(ve=>u.jsx("button",{onClick:()=>p(ve.id),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${h===ve.id?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:ve.nom},ve.id))]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Qe.map(ve=>ve&&u.jsx(mne,{product:ve,onClick:()=>Pr(ve)},ve.id))})]}),u.jsxs("div",{className:"lg:w-96 bg-white p-4 lg:p-6 shadow-lg flex flex-col",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Mi Carrito"}),Y.length>0&&u.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2",children:"Tus últimos pedidos"}),u.jsx("div",{className:"space-y-2",children:Y.map(ve=>{let ae="Fecha no disponible";const fe=ve.created_at||ve.date_commande||ve.date_servido||ve.timestamp;if(fe)try{const Me=new Date(fe);isNaN(Me.getTime())||(ae=Me.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}))}catch(Me){console.error("Error parsing date:",Me)}ae==="Fecha no disponible"&&(ae=new Date().toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}));const he=ve.items?ve.items.filter(Me=>!EA(Me)).reduce((Me,ze)=>Me+ze.quantite,0):0;return u.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 hover:border-yellow-500 transition-all",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("p",{className:"text-xs font-bold text-gray-800 truncate",children:["Pedido del ",ae]}),u.jsxs("p",{className:"text-xs text-gray-600",children:[he," article",he>1?"s":""," • ",ke(ve.total)]})]}),u.jsx("button",{onClick:()=>ha(ve),className:"ml-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold px-3 py-1 rounded text-xs whitespace-nowrap transition-all",children:"Pedir de nuevo"})]},ve.id)})})]}),g.length===0?u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[u.jsx(PC,{size:48,className:"mb-3"}),u.jsx("p",{children:"Tu carrito está vacío."})]}):u.jsx("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:g.map(ve=>u.jsxs("div",{className:"flex items-start justify-between py-4 border-b border-gray-200 last:border-b-0 bg-white rounded-lg px-3 mb-2 shadow-sm",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-lg text-gray-900 mb-1",children:(ve==null?void 0:ve.nom_produit)||"Article inconnu"}),ve.commentaire&&u.jsxs("p",{className:"text-sm text-gray-600 italic mb-1 bg-yellow-50 p-2 rounded border-l-2 border-yellow-400",children:["💬 ",ve.commentaire]}),ve.excluded_ingredients&&ve.excluded_ingredients.length>0&&u.jsxs("p",{className:"text-sm text-red-600 mb-1 bg-red-50 p-2 rounded border-l-2 border-red-400",children:["🚫 Sin: ",ve.excluded_ingredients.join(", ")]}),u.jsx("p",{className:"text-base font-semibold text-brand-primary mt-2",children:ke(ve.prix_unitaire)})]}),u.jsxs("div",{className:"flex flex-col items-center ml-4",children:[u.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full p-1",children:[u.jsx("button",{onClick:()=>Mr(ve.id,-1),className:"text-brand-primary hover:text-brand-primary-dark p-2 hover:bg-gray-200 rounded-full transition",children:u.jsx(CC,{size:18})}),u.jsx("span",{className:"mx-3 text-gray-900 font-bold text-lg min-w-[24px] text-center",children:ve.quantite}),u.jsx("button",{onClick:()=>Mr(ve.id,1),className:"text-brand-primary hover:text-brand-primary-dark p-2 hover:bg-gray-200 rounded-full transition",children:u.jsx(pu,{size:18})})]}),u.jsx("p",{className:"text-sm font-semibold text-gray-700 mt-2",children:ke(ve.prix_unitaire*ve.quantite)})]})]},ve.id))}),g.length>0&&ye==="pedir_en_linea"&&u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[u.jsx("p",{className:"font-medium text-gray-800",children:HR}),Se?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-sm text-gray-400 line-through",children:ke(wf)}),u.jsx("p",{className:"text-sm font-bold text-green-600",children:"GRATIS"})]}):u.jsx("p",{className:"text-sm text-gray-600",children:ke(wf)})]}),u.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"promoCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Código de Promoción:"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",id:"promoCode",value:de,onChange:ve=>ne(ve.target.value.toUpperCase()),placeholder:"Ingresa tu código",className:"flex-1 border border-gray-300 rounded-md shadow-sm p-2 uppercase"}),u.jsx("button",{type:"button",onClick:kt,disabled:!de.trim()||R===de,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-md hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Aplicar"})]}),W&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:W}),R&&u.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-green-700 font-medium",children:['✓ Código "',R,'" aplicado']}),u.jsx("button",{type:"button",onClick:Rr,className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Eliminar"})]})]}),Ae.appliedPromotions&&Ae.appliedPromotions.length>0&&u.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[u.jsx("p",{className:"text-sm font-bold text-green-800 mb-2",children:"🎉 Promociones aplicadas:"}),Ae.appliedPromotions.map((ve,ae)=>u.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[u.jsx("span",{className:"text-green-700",children:ve.name}),u.jsxs("span",{className:"font-semibold text-green-700",children:["- ",ke(ve.discount_amount)]})]},ae))]}),oe>0&&u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-sm text-green-600",children:"Descuento por código promocional:"}),u.jsxs("p",{className:"text-sm font-bold text-green-600",children:["- ",ke(oe)]})]}),u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("p",{className:"text-lg font-bold text-gray-800",children:"Total:"}),u.jsx("p",{className:"text-xl font-bold text-brand-primary",children:ke(At)})]}),u.jsxs("form",{onSubmit:ri,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de pedido:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition ${ye==="pedir_en_linea"?"border-brand-primary bg-brand-primary/5":"border-gray-300 hover:border-brand-primary/50"}`,children:[u.jsx("input",{type:"radio",name:"orderType",value:"pedir_en_linea",checked:ye==="pedir_en_linea",onChange:()=>ce("pedir_en_linea"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"🚚 Domicilio (con entrega)"})]}),u.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition ${ye==="a_emporter"?"border-brand-primary bg-brand-primary/5":"border-gray-300 hover:border-brand-primary/50"}`,children:[u.jsx("input",{type:"radio",name:"orderType",value:"a_emporter",checked:ye==="a_emporter",onChange:()=>ce("a_emporter"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"🏪 Para llevar (recoger en tienda)"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700",children:["Nombre: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"clientName",value:N,onChange:ve=>A(ve.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientPhone",className:"block text-sm font-medium text-gray-700",children:["Teléfono: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",id:"clientPhone",value:O,onChange:ve=>C(ve.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),ye==="pedir_en_linea"&&u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientAddress",className:"block text-sm font-medium text-gray-700",children:["Dirección: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{id:"clientAddress",value:T,onChange:ve=>P(ve.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",rows:3,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de pago:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition ${k==="transferencia"?"border-brand-primary bg-brand-primary/5":"border-gray-300 hover:border-brand-primary/50"}`,children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"transferencia",checked:k==="transferencia",onChange:()=>D("transferencia"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"💰 Transferencia Bancaria"})]}),u.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition ${k==="efectivo"?"border-brand-primary bg-brand-primary/5":"border-gray-300 hover:border-brand-primary/50"}`,children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"efectivo",checked:k==="efectivo",onChange:()=>D("efectivo"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"💵 Efectivo"})]})]})]}),k==="transferencia"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"paymentProof",className:"block text-sm font-medium text-gray-700",children:"Comprobante de pago:"}),u.jsx("input",{type:"file",id:"paymentProof",onChange:ve=>$(ve.target.files?ve.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*,application/pdf",required:!0})]}),u.jsx("button",{type:"submit",disabled:F||g.length===0||k==="transferencia"&&!q,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:F?"Enviando pedido...":"Confirmar Pedido"})]})]})]}),S&&u.jsx(yne,{isOpen:b,onClose:()=>w(!1),selectedProduct:S,onAddToCart:Kn}),K&&u.jsx(gne,{isOpen:re,order:K,onClose:()=>{B(!1),y([]),A(""),C(""),P(""),D("transferencia"),$(null),L(""),xe(0)}})]})},bne=()=>u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center",children:[u.jsx("h1",{className:"text-9xl font-extrabold text-brand-primary tracking-widest",children:"404"}),u.jsx("div",{className:"bg-brand-accent px-2 text-sm rounded rotate-12 absolute",children:"Page Non Trouvée"}),u.jsx("p",{className:"text-2xl md:text-3xl font-light text-gray-700 mt-4",children:"Désolé, la page que vous recherchez n'existe pas."}),u.jsx(Q0,{to:"/",className:"mt-8 px-8 py-3 bg-brand-primary text-brand-secondary font-semibold rounded-lg hover:bg-yellow-400 transition",children:"Retour à l'accueil"})]}),xne=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,o]=x.useState(null),[l,d]=x.useState({startDate:"",endDate:"",paymentMethod:"all"});x.useEffect(()=>{(async()=>{try{const b=await je.getFinalizedOrders();t([...b].sort((w,S)=>S.date_creation-w.date_creation))}catch(b){console.error("Failed to fetch finalized orders",b)}finally{r(!1)}})()},[]);const f=x.useMemo(()=>e.filter(y=>{const b=new Date(y.date_creation),w=l.startDate?new Date(l.startDate):null,S=l.endDate?new Date(l.endDate):null;w&&w.setHours(0,0,0,0),S&&S.setHours(23,59,59,999);const j=w?b>=w:!0,N=S?b<=S:!0,A=l.paymentMethod==="all"||y.payment_method===l.paymentMethod;return j&&N&&A}),[e,l]),h=y=>{d({...l,[y.target.name]:y.target.value})},p=()=>{const w=[["Fecha","Tipo","Mesa/Cliente","Comensales","Venta total","Beneficio","Método de pago"].join(","),...f.map(A=>{var O;return[new Date(A.date_creation).toLocaleString("es-CO"),A.type==="sur_place"?"En el local":"Para llevar",`"${A.type==="sur_place"?A.table_nom||"N/A":((O=A.clientInfo)==null?void 0:O.nom)||"N/A"}"`,A.couverts,ke(A.total),ke(A.profit||0),A.payment_method||"N/A"].join(",")})].join(`
`),S=new Blob([`\uFEFF${w}`],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(S),N=document.createElement("a");N.href=j,N.download=`resumen_pedidos_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j)},g=x.useMemo(()=>f.reduce((y,b)=>(y.totalSales+=b.total,y.totalProfit+=b.profit||0,y),{totalSales:0,totalProfit:0}),[f]);return n?u.jsx("div",{className:"text-gray-800",children:"Cargando el resumen de ventas..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"mt-6 space-y-4 rounded-xl bg-white p-4 shadow-md",children:u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de inicio"}),u.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de fin"}),u.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Método de pago"}),u.jsxs("select",{name:"paymentMethod",value:l.paymentMethod,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900",children:[u.jsx("option",{value:"all",children:"Todas"}),u.jsx("option",{value:"efectivo",children:"Efectivo"}),u.jsx("option",{value:"transferencia",children:"Transferencia"}),u.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),u.jsxs("button",{onClick:p,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 transition h-12 sm:h-full sm:self-end",children:[u.jsx(pU,{size:18})," Export CSV"]})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Ventas"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Beneficio"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Pago"})]})}),u.jsx("tbody",{children:f.map(y=>{var b;return u.jsxs(Hn.Fragment,{children:[u.jsxs("tr",{onClick:()=>o(i===y.id?null:y.id),className:"border-b hover:bg-gray-50 cursor-pointer",children:[u.jsx("td",{className:"p-3",children:i===y.id?u.jsx(wC,{size:16}):u.jsx(eU,{size:16})}),u.jsx("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:new Date(y.date_creation).toLocaleString("es-CO")}),u.jsx("td",{className:"p-3 text-sm",children:y.type==="sur_place"?u.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(cb,{size:12})," En el local"]}):u.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[u.jsx(kC,{size:12})," Para llevar"]})}),u.jsx("td",{className:"p-3 font-semibold text-gray-900",children:y.type==="sur_place"?y.table_nom||"N/A":((b=y.clientInfo)==null?void 0:b.nom)||"N/A"}),u.jsx("td",{className:"p-3 text-gray-800 font-bold text-right",children:ke(y.total)}),u.jsx("td",{className:"p-3 font-semibold text-green-600 text-right",children:ke(y.profit||0)}),u.jsx("td",{className:"p-3 text-gray-700 capitalize",children:y.payment_method||"N/A"})]}),i===y.id&&u.jsx("tr",{className:"bg-gray-50",children:u.jsx("td",{colSpan:7,className:"p-4",children:u.jsxs("div",{className:"p-2 bg-white rounded-md border",children:[u.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Detalle de artículos:"}),u.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:y.items.map(w=>u.jsxs("li",{children:[w.quantite,"x ",w.nom_produit," - ",u.jsx("span",{className:"font-semibold",children:ke(w.prix_unitaire*w.quantite)})]},w.id))})]})})})]},y.id)})}),u.jsx("tfoot",{className:"border-t-2 border-gray-300",children:u.jsxs("tr",{className:"font-bold text-gray-900",children:[u.jsx("td",{colSpan:4,className:"p-3 text-right",children:"TOTALES"}),u.jsx("td",{className:"p-3 text-right",children:ke(g.totalSales)}),u.jsx("td",{className:"p-3 text-right text-green-700",children:ke(g.totalProfit)}),u.jsx("td",{})]})})]})}),f.length===0&&u.jsx("p",{className:"text-center p-8 text-gray-500",children:"Ningún pedido finalizado coincide con tus filtros."})]})]})},Sf="inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 transition hover:border-brand-primary/50 hover:text-brand-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary disabled:opacity-50",_ne=({id:e,value:t,fallback:n,onChange:r,className:i,placeholder:o})=>{const l=x.useRef(null),[d,f]=x.useState(()=>((t==null?void 0:t.plainText)??n).trim().length===0),h=()=>{const A=l.current;if(!A){f(!0);return}const O=A.textContent??"";f(O.trim().length===0)};x.useEffect(()=>{const A=l.current;if(A){if(t&&typeof t.html=="string"){A.innerHTML!==t.html&&(A.innerHTML=t.html),h();return}A.textContent!==n&&(A.textContent=n,h())}},[t,n]);const p=()=>{const A=l.current;if(!A){r(null),f(!0);return}const O=A.innerHTML,C=A.innerText,T=ub({html:O,plainText:C});r(T),h()},g=A=>{var O;document.execCommand("styleWithCSS",!1,"false"),document.execCommand(A),(O=l.current)==null||O.focus(),p()},y=A=>{var C;const O=A.target.value;document.execCommand("styleWithCSS",!1,"true"),document.execCommand("foreColor",!1,O),(C=l.current)==null||C.focus(),p()},b=()=>{var A;document.execCommand("removeFormat"),document.execCommand("unlink"),(A=l.current)==null||A.focus(),p()},w=()=>{p()},S=()=>{p()},j=A=>{A.preventDefault();const O=A.clipboardData.getData("text/plain");document.execCommand("insertText",!1,O),p()},N=A=>{if((A.metaKey||A.ctrlKey)&&A.key.toLowerCase()==="b"){A.preventDefault(),g("bold");return}if((A.metaKey||A.ctrlKey)&&A.key.toLowerCase()==="i"){A.preventDefault(),g("italic");return}(A.metaKey||A.ctrlKey)&&A.key.toLowerCase()==="x"&&A.shiftKey&&(A.preventDefault(),g("strikeThrough"))};return u.jsxs("div",{className:`space-y-2 ${i??""}`,children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",className:Sf,onClick:()=>g("bold"),"aria-label":"Mettre en gras",children:u.jsx(z6,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsx("button",{type:"button",className:Sf,onClick:()=>g("italic"),"aria-label":"Mettre en italique",children:u.jsx(kU,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsx("button",{type:"button",className:Sf,onClick:()=>g("strikeThrough"),"aria-label":"Barrer",children:u.jsx(w$,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[u.jsx(XU,{className:"h-4 w-4","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Choisir une couleur"}),u.jsx("input",{type:"color",className:"h-8 w-8 cursor-pointer rounded-full border border-slate-200",onChange:y,"aria-label":"Sélectionner une couleur de texte"})]}),u.jsx("button",{type:"button",className:Sf,onClick:b,"aria-label":"Supprimer la mise en forme",children:u.jsx(oa,{className:"h-4 w-4","aria-hidden":"true"})})]}),u.jsxs("div",{className:"relative",children:[o&&d&&u.jsx("div",{className:"pointer-events-none absolute left-4 top-3 text-sm text-slate-400",children:o}),u.jsx("div",{id:e,ref:l,className:"ui-textarea w-full min-h-[120px] whitespace-pre-wrap break-words px-4 py-3",contentEditable:!0,role:"textbox","aria-multiline":"true",suppressContentEditableWarning:!0,onInput:w,onBlur:S,onKeyDown:N,onPaste:j})]})]})},wne=["Inter","Poppins","Roboto","Montserrat","Playfair Display","Lora","Open Sans","Georgia, serif","Arial, sans-serif"],Sne=["14px","16px","18px","20px","24px","clamp(1rem, 2vw, 1.5rem)"],FR=["#0f172a","#111827","#f8fafc","#ffffff","#e2e8f0","#f97316","transparent","currentColor"],jne=new Set(H$),Nne=new Set(["navigation.style.background","hero.style.background","about.style.background","menu.style.background","findUs.style.background","footer.style.background"]),Ene=new Set(["hero.backgroundImage","about.image","menu.image","navigation.brandLogo","navigation.staffLogo"]),One={"navigation.brand":"Nom de la marque","navigation.brandLogo":"Logo principal","navigation.staffLogo":"Logo d'accès équipe","navigation.links.home":"Lien Accueil","navigation.links.about":"Lien À propos","navigation.links.menu":"Lien Menu","navigation.links.contact":"Lien Contact","navigation.links.loginCta":"Bouton d'accès staff","navigation.style.background":"Fond de la navigation","hero.title":"Titre du hero","hero.subtitle":"Sous-titre du hero","hero.ctaLabel":"Bouton principal du hero","hero.historyTitle":"Titre de l'historique","hero.reorderCtaLabel":"Bouton de réassort","hero.backgroundImage":"Image du hero","hero.style.background":"Fond du hero","about.title":"Titre À propos","about.description":"Texte À propos","about.image":"Image À propos","about.style.background":"Fond À propos","menu.title":"Titre du menu","menu.ctaLabel":"Bouton du menu","menu.loadingLabel":"Texte de chargement du menu","menu.image":"Image du menu","menu.style.background":"Fond du menu","findUs.title":"Titre Encuéntranos","findUs.addressLabel":"Libellé de l'adresse (Encuéntranos)","findUs.address":"Adresse (Encuéntranos)","findUs.cityLabel":"Libellé de contact","findUs.city":"Email (Encuéntranos)","findUs.hoursLabel":"Libellé des horaires","findUs.hours":"Horaires","findUs.mapLabel":"Libellé du lien carte","findUs.style.background":"Fond Encuéntranos","footer.text":"Texte du pied de page","footer.style.background":"Fond du pied de page"},Ane={...One},Cne=[{id:"preview",label:"Aperçu"},{id:"custom",label:"Personnalisation"}],Tne=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,hm=e=>{var i;const{type:t,name:n}=e;if(t.startsWith("image/"))return"image";if(t.startsWith("video/"))return"video";if(t.startsWith("audio/"))return"audio";if(t.includes("font"))return"font";const r=(i=n.split(".").pop())==null?void 0:i.toLowerCase();return r&&["ttf","otf","woff","woff2"].includes(r)?"font":"raw"},jf=e=>typeof globalThis.structuredClone=="function"?globalThis.structuredClone(e):JSON.parse(JSON.stringify(e)),KR=(e,t,n)=>{const r=t.split("."),i=r.pop();if(!i)return;let o=e;r.forEach(l=>{if(o&&typeof o=="object"){const d=o[l];d&&typeof d=="object"?o[l]=Array.isArray(d)?[...d]:{...d}:o[l]={},o=o[l]}}),o&&typeof o=="object"&&(o[i]=n)},kne=(e,t,n)=>{const r={};n.fontFamily&&n.fontFamily.trim().length>0&&(r.fontFamily=n.fontFamily.trim()),n.fontSize&&n.fontSize.trim().length>0&&(r.fontSize=n.fontSize.trim()),n.textColor&&n.textColor.trim().length>0&&(r.textColor=n.textColor.trim()),n.backgroundColor&&n.backgroundColor.trim().length>0&&(r.backgroundColor=n.backgroundColor.trim());const i={...e.elementStyles};Object.keys(r).length===0?delete i[t]:i[t]=r,e.elementStyles=i},Pne=(e,t,n)=>{const r={...e.elementRichText};n&&n.html.trim().length>0?r[t]=n:delete r[t],e.elementRichText=r},Mne=(e,t,n)=>{const r=Ba(t),i={...e[r]},o={...i.style,background:{...n}};i.style=o,e[r]=i},Rne=(e,t)=>{var o;const n=((o=e.assets)==null?void 0:o.library)??[],r=n.findIndex(l=>l.url===t.url||l.id===t.id),i=r>=0?n.map((l,d)=>d===r?t:l):[...n,t];e.assets={...e.assets,library:i}},GR=(e,t)=>{const n=t.split(".");let r=e;for(const i of n){if(!r||typeof r!="object")return"";r=r[i]}return typeof r=="string"?r:""},Dne=(e,t)=>{const n=GR(e,t);return n.trim().length>0?n:null},Ine=(e,t)=>e.elementStyles[t]??{},Lne=(e,t)=>e.elementRichText[t]??null,Une=(e,t)=>{const n=Ba(t);return e[n].style.background},m_=(e,t)=>{const n=e.name.replace(/\.[^/.]+$/,"").trim()||"media",r=hm(e),i=r==="font"?mb(n):n;return{id:Tne(),name:i,url:t,format:e.type||"application/octet-stream",bytes:e.size,type:r,createdAt:new Date().toISOString()}},OA='a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])',$ne=typeof window<"u"?x.useLayoutEffect:x.useEffect,AA=e=>typeof window<"u"&&window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),zne=e=>{if(!e)return null;const{x:t,y:n,top:r,left:i,bottom:o,right:l,width:d,height:f}=e;return{x:t,y:n,top:r,left:i,bottom:o,right:l,width:d,height:f}},p_=({title:e,onClose:t,children:n,footer:r,anchor:i,elementId:o})=>{const l=x.useId(),d=x.useRef(null),[f,h]=x.useState({top:0,left:0}),[p,g]=x.useState("top"),[y,b]=x.useState(!1),[w,S]=x.useState(!1),[j,N]=x.useState(null);x.useEffect(()=>{b(!0)},[]);const A=x.useCallback(()=>{if(typeof window>"u")return;const C=d.current;if(!C)return;const T=`[data-element-id="${AA(o)}"]`,P=document.querySelector(T),k=(P==null?void 0:P.getBoundingClientRect())??i,{width:D,height:q}=C.getBoundingClientRect(),$=document.documentElement.clientWidth,F=window.innerHeight,H=16,re=12;if(!k){const R=Math.max(H,($-D)/2),L=Math.max(H,(F-q)/2);h({top:L,left:R}),g("top"),S(!0),N(null);return}let B=k.top-q-re,K="top";if(B<H&&(B=k.bottom+re,K="bottom"),B+q>F-H){const R=k.top-H,L=F-k.bottom-H;R>L?(B=Math.max(H,k.top-q-re),K="top"):(B=Math.min(F-q-H,k.bottom+re),K="bottom")}const I=k.left+k.width/2-D/2,Y=$-D-H,X=Math.max(H,Math.min(I,Y));h({top:B,left:X}),g(K),S(!0);const de=Math.max(X+12,Math.min(k.left+k.width/2,X+D-12)),ne=K==="top"?B+q-6:B-6;N({top:ne,left:de-6})},[i,o]);if($ne(()=>{y&&A()},[A,y]),x.useEffect(()=>{if(!y)return;const C=()=>A();window.addEventListener("scroll",C,!0),window.addEventListener("resize",C);const T=`[data-element-id="${AA(o)}"]`,P=document.querySelector(T),k=[];if(typeof ResizeObserver<"u"){const D=new ResizeObserver(()=>A());P&&D.observe(P);const q=d.current;q&&D.observe(q),k.push(D)}return()=>{window.removeEventListener("scroll",C,!0),window.removeEventListener("resize",C),k.forEach(D=>D.disconnect())}},[A,o,y]),x.useEffect(()=>{if(!y)return;const C=T=>{if(T.key==="Escape"){T.preventDefault(),t();return}if(T.key==="Tab"){const P=d.current;if(!P)return;const k=Array.from(P.querySelectorAll(OA)).filter($=>$.tabIndex!==-1&&!$.hasAttribute("disabled")&&!$.getAttribute("aria-hidden"));if(k.length===0){T.preventDefault(),P.focus();return}const D=k[0],q=k[k.length-1];if(T.shiftKey){(document.activeElement===D||!P.contains(document.activeElement))&&(T.preventDefault(),q.focus());return}document.activeElement===q&&(T.preventDefault(),D.focus())}};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[t,y]),x.useEffect(()=>{if(!y)return;const C=T=>{const P=d.current;P&&(P.contains(T.target)||t())};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[t,y]),x.useEffect(()=>{if(!y)return;const C=d.current;if(!C)return;(C.querySelectorAll(OA)[0]??C).focus({preventScroll:!0})},[y]),typeof document>"u"||!y)return null;const O=u.jsxs("div",{className:"fixed inset-0 z-[60] pointer-events-none",children:[u.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-labelledby":l,tabIndex:-1,className:"pointer-events-auto flex w-[min(90vw,32rem)] flex-col overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200",style:{position:"absolute",top:f.top,left:f.left,opacity:w?1:0},children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4",children:[u.jsx("h2",{id:l,className:"text-lg font-semibold text-slate-900",children:e}),u.jsxs("button",{type:"button",onClick:t,className:"rounded-full p-1 text-slate-500 transition hover:text-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary",children:[u.jsx(oa,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Fermer"})]})]}),u.jsx("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-5",children:n}),u.jsx("div",{className:"flex items-center justify-end gap-3 border-t border-slate-200 bg-slate-50 px-6 py-4",children:r})]}),j?u.jsx("span",{"aria-hidden":"true",className:`pointer-events-none absolute h-3 w-3 rotate-45 rounded-sm bg-white shadow-[0_0_0_1px_rgba(148,163,184,0.35)] ${p==="top"?"translate-y-[-4px]":"translate-y-[4px]"}`,style:{top:j.top,left:j.left,opacity:w?1:0}}):null]});return J0.createPortal(O,document.body)},Bne=({element:e,label:t,draft:n,onApply:r,onClose:i,fontOptions:o,onAssetAdded:l,anchor:d})=>{const f=`${e.replace(/\./g,"-")}-text-form`,h=GR(n,e),p=Lne(n,e),g=Ine(n,e),[y,b]=x.useState(h),[w,S]=x.useState(p),[j,N]=x.useState(g.fontFamily??""),[A,O]=x.useState(g.fontSize??""),[C,T]=x.useState(g.textColor??""),[P,k]=x.useState(g.backgroundColor??""),[D,q]=x.useState(null),[$,F]=x.useState(!1);x.useEffect(()=>{b(h),S(p),N(g.fontFamily??""),O(g.fontSize??""),T(g.textColor??""),k(g.backgroundColor??"")},[h,p,g.fontFamily,g.fontSize,g.textColor,g.backgroundColor]);const H=K=>{K.preventDefault();const I=y;r(Y=>(KR(Y,e,I),Pne(Y,e,w),kne(Y,e,{fontFamily:j,fontSize:A,textColor:C,backgroundColor:P}),Y)),i()},re=async K=>{var Y;const I=(Y=K.target.files)==null?void 0:Y[0];if(I){q(null),F(!0);try{const X=await Qc(I,{tags:[hm(I)]}),de=m_(I,X);l(de),N(de.name)}catch(X){q(X instanceof Error?X.message:"Impossible de téléverser la police. Réessayez plus tard.")}finally{F(!1),K.target.value=""}}},B=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:f,className:"ui-btn-primary",children:"Enregistrer"})]});return u.jsx(p_,{title:`Personnaliser ${t}`,onClose:i,footer:B,anchor:d,elementId:e,children:u.jsxs("form",{id:f,onSubmit:H,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-plain`,className:"block text-sm font-medium text-slate-700",children:"Texte de base"}),u.jsx("textarea",{id:`${f}-plain`,className:"ui-textarea mt-2 w-full",value:y,onChange:K=>{b(K.target.value),S(null)},rows:3})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Mise en forme avancée"}),u.jsx(_ne,{id:`${f}-rich`,value:w,fallback:y,onChange:K=>{S(K),K&&b(K.plainText)},className:"mt-2",placeholder:"Saisissez votre texte..."}),u.jsx("button",{type:"button",className:"mt-2 text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>S(null),children:"Supprimer la mise en forme personnalisée"})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-font`,className:"block text-sm font-medium text-slate-700",children:"Police"}),u.jsx("input",{id:`${f}-font`,className:"ui-input mt-2 w-full",value:j,onChange:K=>N(K.target.value),list:`${f}-font-options`,placeholder:"Ex: Poppins"}),u.jsx("datalist",{id:`${f}-font-options`,children:o.map(K=>u.jsx("option",{value:K},K))}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:".woff,.woff2,.ttf,.otf",className:"absolute inset-0 cursor-pointer opacity-0",onChange:re,disabled:$}),u.jsx(gu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une police"]}),$&&u.jsx(Zc,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"})]}),D&&u.jsx("p",{className:"mt-2 text-sm text-amber-600",children:D})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-size`,className:"block text-sm font-medium text-slate-700",children:"Taille du texte"}),u.jsx("input",{id:`${f}-size`,className:"ui-input mt-2 w-full",value:A,onChange:K=>O(K.target.value),list:`${f}-size-options`,placeholder:"Ex: 18px"}),u.jsx("datalist",{id:`${f}-size-options`,children:Sne.map(K=>u.jsx("option",{value:K},K))})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-text-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur du texte"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${f}-text-color`,className:"ui-input w-full",value:C,onChange:K=>T(K.target.value),placeholder:"Ex: #0f172a"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:C||"#000000",onChange:K=>T(K.target.value),"aria-label":"Choisir la couleur du texte"})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:FR.map(K=>u.jsx("button",{type:"button",onClick:()=>T(K),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:K==="transparent"?"#ffffff":K},title:K},K))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-bg-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur de fond"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${f}-bg-color`,className:"ui-input w-full",value:P,onChange:K=>k(K.target.value),placeholder:"Ex: rgba(255,255,255,0.8)"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:P||"#ffffff",onChange:K=>k(K.target.value),"aria-label":"Choisir la couleur d'arrière-plan"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Laissez un champ vide pour hériter du style par défaut."}),u.jsx("button",{type:"button",className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>{N(""),O(""),T(""),k("")},children:"Réinitialiser le style"})]})]})})},qne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:o,anchor:l})=>{const d=`${e.replace(/\./g,"-")}-image-form`,f=Dne(n,e)??"",[h,p]=x.useState(f),[g,y]=x.useState(null),[b,w]=x.useState(!1);x.useEffect(()=>{p(f)},[f]);const S=O=>{O.preventDefault();const C=h.trim(),T=$i(C)??(C.length>0?C:null);r(P=>(KR(P,e,T),P)),i()},j=async O=>{var T;const C=(T=O.target.files)==null?void 0:T[0];if(C){y(null),w(!0);try{const P=await Qc(C,{tags:[hm(C)]}),k=m_(C,P);o(k),p(P)}catch(P){y(P instanceof Error?P.message:"Téléversement impossible. Vérifiez votre connexion.")}finally{w(!1),O.target.value=""}}},N=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]}),A=h.trim();return u.jsx(p_,{title:`Personnaliser ${t}`,onClose:i,footer:N,anchor:l,elementId:e,children:u.jsxs("form",{id:d,onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-input`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),u.jsx("input",{id:`${d}-input`,className:"ui-input mt-2 w-full",value:h,onChange:O=>p(O.target.value),placeholder:"https://..."}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Fournissez une URL Cloudinary ou téléversez un fichier pour l'ajouter automatiquement."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*,video/*,audio/*,.ttf,.otf,.woff,.woff2",className:"absolute inset-0 cursor-pointer opacity-0",onChange:j,disabled:b}),u.jsx(gu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer un média"]}),b&&u.jsx(Zc,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>p(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Supprimer le média"})]}),g&&u.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[u.jsx(ia,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),u.jsx("p",{children:g})]}),A&&u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:u.jsx("img",{src:A,alt:"Aperçu",className:"h-56 w-full object-cover"})})]})})},Hne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:o,anchor:l})=>{const d=`${e.replace(/\./g,"-")}-background-form`,f=Une(n,e),[h,p]=x.useState(f.type),[g,y]=x.useState(f.color),[b,w]=x.useState(f.image??""),[S,j]=x.useState(null),[N,A]=x.useState(!1);x.useEffect(()=>{p(f.type),y(f.color),w(f.image??"")},[f.type,f.color,f.image]);const O=k=>{k.preventDefault();const D=g.trim()||"transparent",q=b.trim(),$=$i(q)??(q.length>0?q:null);r(F=>(Mne(F,e,{type:h,color:D,image:h==="image"?$:null}),F)),i()},C=async k=>{var q;const D=(q=k.target.files)==null?void 0:q[0];if(D){j(null),A(!0);try{const $=await Qc(D,{tags:[hm(D)]}),F=m_(D,$);o(F),w($),p("image")}catch($){j($ instanceof Error?$.message:"Téléversement impossible.")}finally{A(!1),k.target.value=""}}},T=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]}),P=b.trim();return u.jsx(p_,{title:`Personnaliser ${t}`,onClose:i,footer:T,anchor:l,elementId:e,children:u.jsxs("form",{id:d,onSubmit:O,className:"space-y-6",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${h==="color"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("color"),children:"Couleur"}),u.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${h==="image"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("image"),children:"Image"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${d}-color`,className:"ui-input w-full",value:g,onChange:k=>y(k.target.value),placeholder:"Ex: rgba(15,23,42,0.75)"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:g||"#ffffff",onChange:k=>y(k.target.value),"aria-label":"Choisir la couleur d'arrière-plan"})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:FR.map(k=>u.jsx("button",{type:"button",onClick:()=>y(k),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:k==="transparent"?"#ffffff":k},title:k},k))})]}),h==="image"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-image`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),u.jsx("input",{id:`${d}-image`,className:"ui-input mt-2 w-full",value:b,onChange:k=>w(k.target.value),placeholder:"https://..."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 cursor-pointer opacity-0",onChange:C,disabled:N}),u.jsx(gu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une image"]}),N&&u.jsx(Zc,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>w(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Retirer l'image"})]}),S&&u.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[u.jsx(ia,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),u.jsx("p",{children:S})]}),P&&u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:u.jsx("img",{src:P,alt:"Aperçu",className:"h-48 w-full object-cover"})})]})]})})},Fne=()=>{const{content:e,loading:t,error:n,updateContent:r}=Rh(),[i,o]=x.useState(()=>e?jf(e):null),[l,d]=x.useState(null),[f,h]=x.useState(null),[p,g]=x.useState("custom"),[y,b]=x.useState(null),[w,S]=x.useState(!1),[j,N]=x.useState(null),[A,O]=x.useState(null),[C,T]=x.useState([]),[P,k]=x.useState(!1),[D,q]=x.useState(null);x.useEffect(()=>{e&&o(jf(e))},[e]),x.useEffect(()=>{let X=!0;return(async()=>{k(!0),q(null);try{const ne=await je.getBestSellerProducts();X&&T(ne)}catch(ne){X&&q(ne instanceof Error?ne.message:"Impossible de charger les produits mis en avant.")}finally{X&&k(!1)}})(),()=>{X=!1}},[]),x.useEffect(()=>{if(!A)return;const X=setTimeout(()=>O(null),4e3);return()=>clearTimeout(X)},[A]);const $=x.useCallback(X=>{o(de=>{if(!de)return de;const ne=jf(de);return X(ne)})},[]),F=x.useCallback(X=>{o(de=>{if(!de)return de;const ne=jf(de);return Rne(ne,X),ne})},[]),H=x.useCallback((X,de)=>{d(X),h(de.zone),b(zne(de.anchor))},[]),re=x.useCallback(()=>{d(null),h(null),b(null)},[]),B=async()=>{S(!0),N(null),O(null);try{if(!i)throw new Error("Le brouillon est indisponible.");const X=await r(i);o(X),O("Modifications enregistrées avec succès.")}catch(X){N(X instanceof Error?X.message:"Une erreur est survenue lors de la sauvegarde.")}finally{S(!1)}},K=x.useMemo(()=>{const X=Array.from(wne);if(!i)return X;const de=i.assets.library.filter(ne=>ne.type==="font").map(ne=>mb(ne.name));return Array.from(new Set([...X,...de]))},[i]),I=l?Ane[l]??l:null,Y=l?Nne.has(l)?"background":Ene.has(l)?"image":(jne.has(l),"text"):null;return t?u.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[u.jsx(Zc,{className:"h-10 w-10 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Chargement du contenu du site…"})]}):!e||!i?u.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[u.jsx(ia,{className:"h-6 w-6 text-amber-500","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Le contenu du site est en cours d'initialisation…"})]}):u.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-0",children:[u.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Site public"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Cliquez sur l'icône en forme de crayon pour personnaliser chaque bloc de contenu, image ou logo."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[A&&u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm text-emerald-700",children:[u.jsx(aU,{className:"h-4 w-4","aria-hidden":"true"}),A]}),j&&u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-amber-50 px-4 py-2 text-sm text-amber-700",children:[u.jsx(ia,{className:"h-4 w-4","aria-hidden":"true"}),j]}),u.jsx("button",{type:"button",onClick:B,className:"ui-btn-primary",disabled:w,children:w?"Enregistrement…":"Enregistrer les modifications"})]})]}),n&&u.jsxs("div",{className:"flex items-start gap-3 rounded-3xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:[u.jsx(ia,{className:"h-5 w-5","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx("p",{children:n}),u.jsx("p",{className:"mt-1",children:"Les valeurs affichées correspondent à la configuration par défaut."})]})]}),u.jsx("nav",{className:"flex w-full items-center gap-2 overflow-x-auto rounded-full bg-slate-100 p-1",children:Cne.map(X=>u.jsx("button",{type:"button",onClick:()=>g(X.id),className:`flex-1 rounded-full px-4 py-2 text-sm font-medium transition ${p===X.id?"bg-white text-slate-900 shadow":"text-slate-500 hover:text-slate-700"}`,children:X.label},X.id))}),u.jsx("div",{children:p==="preview"?u.jsx("div",{className:"mx-auto w-full max-w-6xl",children:u.jsx("div",{className:"rounded-[2.5rem] border border-slate-200 bg-slate-50 p-6",children:u.jsx(g2,{content:i,bestSellerProducts:C,onEdit:()=>{},activeZone:null,showEditButtons:!1})})}):u.jsxs("div",{className:"space-y-4",children:[D&&u.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:[u.jsx(ia,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("p",{children:D})]}),u.jsx("div",{className:"mx-auto w-full max-w-6xl",children:u.jsx(g2,{content:i,bestSellerProducts:C,onEdit:(X,de)=>H(X,de),activeZone:f})}),P&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[u.jsx(Zc,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Chargement des produits populaires…"]})]})}),l&&Y==="text"&&I&&u.jsx(Bne,{element:l,label:I,draft:i,onApply:$,onClose:re,fontOptions:K,onAssetAdded:F,anchor:y}),l&&Y==="image"&&I&&u.jsx(qne,{element:l,label:I,draft:i,onApply:$,onClose:re,onAssetAdded:F,anchor:y}),l&&Y==="background"&&I&&u.jsx(Hne,{element:l,label:I,draft:i,onApply:$,onClose:re,onAssetAdded:F,anchor:y})]})},YR=({onLogout:e})=>{const t=Xa(),n=Hn.useCallback(()=>{e&&e(),t("/login",{replace:!0})},[t,e]);return u.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 px-4 text-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Accès non autorisé"}),u.jsx("p",{className:"text-base text-gray-600",children:"Votre rôle ne dispose actuellement d'aucune page accessible. Veuillez contacter un administrateur ou revenir à l'écran de connexion."})]}),u.jsx("button",{type:"button",onClick:n,className:"rounded-md bg-brand-primary px-6 py-3 text-white transition hover:bg-brand-primary/90 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2",children:"Retour à la connexion"})]})},VR=()=>u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}),zr=({children:e,permissionKey:t})=>{var d;const{role:n,loading:r,logout:i}=da();if(r)return u.jsx(VR,{});if(!n)return u.jsx(Mf,{to:"/",replace:!0});const o=t?(d=n.permissions)==null?void 0:d[t]:void 0;if(!(t?Hf(o):!0)){const f=hb(n);return f?u.jsx(Mf,{to:f,replace:!0}):u.jsx(YR,{onLogout:i})}return e},Kne=()=>{const{role:e,loading:t,logout:n}=da();Xa();const[r,i]=x.useState(()=>{const l=Rf();return l?l.orderId:null});if(Rh(),x.useEffect(()=>{const l=()=>{const d=Rf();i(d?d.orderId:null)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]),t)return u.jsx(VR,{});if(!e)return u.jsx(Xz,{});const o=hb(e);return o?u.jsx(Mf,{to:o,replace:!0}):u.jsx(YR,{onLogout:n})},Gne=()=>u.jsx(zr,{children:u.jsx(Lz,{})}),Yne=()=>u.jsxs(yI,{children:[u.jsx(Sn,{path:"/",element:u.jsx(Kne,{})}),u.jsx(Sn,{path:"/login",element:u.jsx(Mf,{to:"/",replace:!0})}),u.jsx(Sn,{path:"/commande-client",element:u.jsx(vne,{})}),u.jsxs(Sn,{element:u.jsx(Gne,{}),children:[u.jsx(Sn,{path:"/dashboard",element:u.jsx(zr,{permissionKey:"/dashboard",children:u.jsx(dte,{})})}),u.jsx(Sn,{path:"/para-llevar",element:u.jsx(zr,{permissionKey:"/para-llevar",children:u.jsx(Pte,{})})}),u.jsx(Sn,{path:"/ventes",element:u.jsx(zr,{permissionKey:"/ventes",children:u.jsx(yte,{})})}),u.jsx(Sn,{path:"/commande/:tableId",element:u.jsx(zr,{permissionKey:"/ventes",children:u.jsx(Ote,{})})}),u.jsx(Sn,{path:"/cocina",element:u.jsx(zr,{permissionKey:"/cocina",children:u.jsx(kte,{})})}),u.jsx(Sn,{path:"/resume-ventes",element:u.jsx(zr,{permissionKey:"/resume-ventes",children:u.jsx(xne,{})})}),u.jsx(Sn,{path:"/ingredients",element:u.jsx(zr,{permissionKey:"/ingredients",children:u.jsx(Mte,{})})}),u.jsx(Sn,{path:"/produits",element:u.jsx(zr,{permissionKey:"/produits",children:u.jsx(Lte,{})})}),u.jsx(Sn,{path:"/promotions",element:u.jsx(zr,{permissionKey:"/promotions",children:u.jsx(dne,{})})}),u.jsx(Sn,{path:Ka,element:u.jsx(zr,{permissionKey:Ka,children:u.jsx(Fne,{})})})]}),u.jsx(Sn,{path:"*",element:u.jsx(bne,{})})]}),Vne=()=>u.jsx(Tz,{children:u.jsx(zI,{children:u.jsx(Yne,{})})}),WR=document.getElementById("root");if(!WR)throw new Error("Could not find root element to mount to");const Wne=S4.createRoot(WR);Wne.render(u.jsx(Hn.StrictMode,{children:u.jsx(Vne,{})}));
